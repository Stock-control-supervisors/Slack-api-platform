(()=>{var ac=Object.defineProperty;var s=(Jt,nt)=>ac(Jt,"name",{value:nt,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["api-docs","codemirror-lang-yaml","vendors-legacy-node_modules_codemirror_lib_codemirror_js","vendors-legacy-node_modules_codemirror_mode_javascript_javascript_js"],{890831:(Jt,nt,H)=>{"use strict";H.d(nt,{A:()=>Dn});var _=H(296540),$e=H(463329),pe=H(795093),$=H.n(pe),Y=H(876955),a=H(362199),fe=H(170426),B=H(864240),we=H(307415),ve=H(906131),st=H(991989),Re=H(937228),te=H(630227);function E(lt,Je,et,Ye,ht,Tt,it){try{var mt=lt[Tt](it),ct=mt.value}catch(jt){et(jt);return}mt.done?Je(ct):Promise.resolve(ct).then(Ye,ht)}s(E,"asyncGeneratorStep");function M(lt){return function(){var Je=this,et=arguments;return new Promise(function(Ye,ht){var Tt=lt.apply(Je,et);function it(ct){E(Tt,Ye,ht,it,mt,"next",ct)}s(it,"_next");function mt(ct){E(Tt,Ye,ht,it,mt,"throw",ct)}s(mt,"_throw"),it(void 0)})}}s(M,"_asyncToGenerator");const A={CannotRevokeOrgBotToken:"cannot_revoke_org_bot_token",InternalError:"internal_error",NotBearerToken:"not_bearer_token"},C=(0,st.A)("auth.revoke generated fetcher",function(){var lt=M(function*(Je,et,Ye){try{const ht=["reason"],Tt=(0,we.omit)(Ye,ht),it=(0,te.VA)(Tt);return yield Je((0,ve.H)({method:"auth.revoke",args:it,reason:Ye.reason}))}catch(ht){throw(0,Re.Ay)({getState:et}).error(`API call to auth.revoke
				with reason ${Ye.reason} failed, initiated by generated fetcher`),ht}});return function(Je,et,Ye){return lt.apply(this,arguments)}}());C.meta={name:"createFetcher",key:"createFetcherauthRevokeFetcher",description:"auth.revoke generated fetcher"};var W=H(389667),X=H(950805),O=H(404197),J=H(676531),Z=H(530177),xe=H(336359),_e=H(494893),ke=H(635709),Ee=H(559813);function w(lt,Je,et,Ye,ht,Tt,it){try{var mt=lt[Tt](it),ct=mt.value}catch(jt){et(jt);return}mt.done?Je(ct):Promise.resolve(ct).then(Ye,ht)}s(w,"create_tooling_token_asyncGeneratorStep");function Se(lt){return function(){var Je=this,et=arguments;return new Promise(function(Ye,ht){var Tt=lt.apply(Je,et);function it(ct){w(Tt,Ye,ht,it,mt,"next",ct)}s(it,"_next");function mt(ct){w(Tt,Ye,ht,it,mt,"throw",ct)}s(mt,"_throw"),it(void 0)})}}s(Se,"create_tooling_token_asyncToGenerator");const N={InternalError:"internal_error",InvalidTeam:"invalid_team",UnknownMethod:"unknown_method"},He=(0,st.A)("developer.apps.config.createToolingToken generated fetcher",function(){var lt=Se(function*(Je,et,Ye){try{const ht=["reason"],Tt=(0,we.omit)(Ye,ht),it=(0,te.VA)(Tt);return yield Je((0,ve.H)({method:"developer.apps.config.createToolingToken",args:it,reason:Ye.reason}))}catch(ht){throw(0,Re.Ay)({getState:et}).error(`API call to developer.apps.config.createToolingToken
				with reason ${Ye.reason} failed, initiated by generated fetcher`),ht}});return function(Je,et,Ye){return lt.apply(this,arguments)}}());He.meta={name:"createFetcher",key:"createFetcherdeveloperAppsConfigCreateToolingTokenFetcher",description:"developer.apps.config.createToolingToken generated fetcher"};var Xe=H(952240),yt=H(842172),Ft=H(490491),Ge=H(615295),Ze=H(47597),Bt=H(721564),Pe=H(281188),le=H(629086),Ae=H(59020),he=H(989217);const ge=new X.Ay("developer_app_settings"),Ne=464,rt=s(lt=>{let{teams:Je,addToken:et}=lt;const Ye=(0,$e.wA)(),[ht,Tt]=(0,_.useState)(-1),[it,mt]=(0,_.useState)(!1),ct=Je.map(at=>({teamId:at.encoded_id,teamImg:at.icon_src,teamName:at.name,teamToken:at.token,canInstall:at.can_install})),jt=s(()=>{Ye((0,B.O)())},"handleCloseModal"),Xt=s(()=>{if(ht>-1){mt(!1);const{teamToken:at,teamName:kt}=ct[ht];Ye(He({token:at,reason:"api_site_create_apps_config_token"})).then(Te=>{let{access_token:Wn,exp:Wt,iat:xt,refresh_token:Le,team_id:hr,user_id:Vt}=Te;et({accessToken:Wn,exp:Wt,iat:xt,refreshToken:Le,teamName:kt,teamId:hr||"",userId:Vt||""}),jt()}).catch(()=>{mt(!0)})}},"handleSubmit"),bt=s(at=>{Tt(ct.findIndex(kt=>kt.teamId===at))},"handleTeamSelected");return _.createElement(Ft.A,{closeModal:jt},_.createElement(Ge.A,{title:ge.t("Generate Your App Configuration Token")}),_.createElement(Ze.A,null,_.createElement(Bt.A,{className:"padding_bottom_25"},it&&_.createElement(he.Ay,{level:he.A_.error,className:"margin_bottom_100"},ge.t("Hmm, something went wrong. Try again?")),_.createElement(Xe.A,{text:ge.t("Workspace")}),_.createElement(yt.A,{selectDataQa:"team_picker",teamsList:ct,width:Ne,allowOrgSelection:!1,onTeamSelected:bt,placeholderText:ge.t("Select a workspace")}))),_.createElement(Pe.A,null,_.createElement(le.A,null,_.createElement(Ae.A,{type:"outline",onClick:jt},ge.t("Close")),_.createElement(O.Ay,{type:"primary",onClick:Xt,disabled:ht===-1},ge.t("Generate")))))},"NewAppConfigTokenModal");rt.displayName="NewAppConfigTokenModal";const an=rt;function qe(lt,Je,et,Ye,ht,Tt,it){try{var mt=lt[Tt](it),ct=mt.value}catch(jt){et(jt);return}mt.done?Je(ct):Promise.resolve(ct).then(Ye,ht)}s(qe,"app_config_tokens_card_asyncGeneratorStep");function Ot(lt){return function(){var Je=this,et=arguments;return new Promise(function(Ye,ht){var Tt=lt.apply(Je,et);function it(ct){qe(Tt,Ye,ht,it,mt,"next",ct)}s(it,"_next");function mt(ct){qe(Tt,Ye,ht,it,mt,"throw",ct)}s(mt,"_throw"),it(void 0)})}}s(Ot,"app_config_tokens_card_asyncToGenerator");const pt=new X.Ay("developer_app_settings"),tt={tableLayout:"fixed"},dt={height:26},Mt={minWidth:26,height:26,padding:0},on=s(lt=>{let{teams:Je,appConfigTokens:et}=lt;const[Ye,ht]=(0,_.useState)(et.map(_e.t)),Tt=(0,_.useMemo)(()=>{const bt=Ye.map(at=>{let{teamId:kt}=at;return kt});return Je.filter(at=>{let{encoded_id:kt}=at;return!bt.includes(kt)})},[Je,Ye]),it=(0,$e.wA)(),mt=s(bt=>{ht([...Ye,bt])},"addToken"),ct=function(){var bt=Ot(function*(at,kt){yield ke.S.allSettled([it(C({token:kt,reason:"api_site_app_config_token_revoke_refresh_token"})),it(C({token:at,reason:"api_site_app_config_token_revoke_access_token"}))]),it((0,B.O)()),ht(Ye.filter(Te=>at!==Te.accessToken))});return s(function(kt,Te){return bt.apply(this,arguments)},"handleTokenDeletion")}(),jt=s(()=>{it((0,fe.q)({element:_.createElement(an,{teams:Tt,addToken:mt})}))},"openGenerateTokenModal");jt.displayName="openGenerateTokenModal";const Xt=s((bt,at)=>_.createElement(xe.A,{title:pt.t("Revoke this token?"),cancelButtonText:pt.t("Cancel"),submitButtonText:pt.t("Revoke Token"),submitButtonType:"danger",onSubmit:()=>ct(bt,at),onCancel:()=>it((0,B.O)()),onClose:()=>it((0,B.O)())},pt.rt("This will invalidate this token, which means any requests using this token will no longer work. <b>This cannot be undone.</b>")),"getRevokeTokenConfirmModal");return _.createElement(Y.Z,{className:"sk_primary_background padding_200"},_.createElement("div",{className:"display_flex justify_content_between margin_bottom_75"},_.createElement("div",null,_.createElement("h4",{className:"margin_bottom_25"},pt.t("Your App Configuration Tokens")),_.createElement("a",{href:`https://api.${(0,W.qF)()}/authentication/token-types`},pt.t("Learn about tokens"))),_.createElement("div",null,_.createElement(O.Ay,{type:"outline",onClick:jt,disabled:!Tt.length},pt.t("Generate Token")))),!!Ye.length&&_.createElement("table",{className:"full_width gray_header_border",style:tt},_.createElement("thead",null,_.createElement("tr",null,_.createElement("th",{className:"span_3_of_12"},pt.t("Workspace")),_.createElement("th",{className:"span_3_of_12"},pt.t("Access Token"),_.createElement(Z.Ay,{position:"top",tip:pt.t("xoxp tokens that have both app_configuration:read and app_configuration:write scopes")},_.createElement(J.A,{type:"question-circle",className:"margin_left_25"}))),_.createElement("th",{className:"span_3_of_12"},pt.t("Refresh Token"),_.createElement(Z.Ay,{position:"top",tip:pt.t("Pass this token into tooling.tokens.rotate() to rotate active or expired access tokens")},_.createElement(J.A,{type:"question-circle",className:"margin_left_25"}))),_.createElement("th",{className:"span_2_of_12"},pt.t("Delete")))),_.createElement("tbody",null,Ye.map(bt=>{let{teamName:at,accessToken:kt,refreshToken:Te,exp:Wn}=bt;const Wt=$().unix(Wn).diff($()()),xt=$().duration(Wt),Le=Wt<=0;return _.createElement("tr",{key:kt},_.createElement("td",null,at),_.createElement("td",{className:"display_flex flex_direction_column align_items_start"},Le?_.createElement(Z.Ay,{position:"top",tip:pt.t("Expired {formattedExpiration}",{formattedExpiration:(0,Ee.Yq)(Wn,"{date_short} at {time}")})},_.createElement("span",null,_.createElement(O.Ay,{style:dt,disabled:!0,size:"small",type:"outline","aria-label":pt.t("Expired access token")},pt.t("Expired")))):_.createElement(O.Ay,{style:dt,onClick:()=>(0,a.x3)(kt),size:"small",type:"outline","aria-label":pt.t("Copy access token")},pt.t("Copy")),!Le&&_.createElement("span",{className:"margin_top_25"},pt.t("Expires "),xt.humanize(!0))),_.createElement("td",null,_.createElement(O.Ay,{style:dt,onClick:()=>(0,a.x3)(Te),size:"small",type:"outline","aria-label":pt.t("Copy refresh token")},pt.t("Copy"))),_.createElement("td",null,_.createElement(O.Ay,{onClick:()=>it((0,fe.q)({element:Xt(kt,Te)})),className:"margin_left_50",style:Mt,"aria-label":pt.t("Delete token"),size:"small",type:"danger"},_.createElement(J.A,{type:"trash"}))))}))))},"AppConfigTokensCard");on.displayName="AppConfigTokensCard";const Dn=on},729807:(Jt,nt,H)=>{"use strict";H.d(nt,{A:()=>Gr});var _=H(296540),$e=H(463329),pe=H(512454),$=H(307415),Y=H(490491),a=H(864240),fe=H(850406),B=H(389667),we=H(466275),ve=H(690200),st=H(825007),Re=H(919632),te=H(141602);const E=(0,ve.Ay)(h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.json});E.meta={name:"createSelector",key:"createSelectorgetJson",description:h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.json}};const M=(0,ve.Ay)(h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.lastSavedJson});M.meta={name:"createSelector",key:"createSelectorgetLastSavedJson",description:h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.lastSavedJson}};const A=(0,ve.Ay)(h=>{var y;return(h==null||(y=h.appManifest)===null||y===void 0?void 0:y.errors)||Re.Ml});A.meta={name:"createSelector",key:"createSelectorgetErrors",description:h=>{var y;return(h==null||(y=h.appManifest)===null||y===void 0?void 0:y.errors)||Re.Ml}};const C=(0,ve.Ay)(h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.teamToken});C.meta={name:"createSelector",key:"createSelectorgetTeamToken",description:h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.teamToken}};const W=(0,ve.Ay)(h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.teamId});W.meta={name:"createSelector",key:"createSelectorgetTeamId",description:h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.teamId}};const X=(0,ve.Ay)(h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.appId});X.meta={name:"createSelector",key:"createSelectorgetAppId",description:h=>{var y;return h==null||(y=h.appManifest)===null||y===void 0?void 0:y.appId}};const O=(0,ve.Ay)(h=>{var y,P;if((0,st._Z)(h,"hermes_stable")&&(!(h==null||(y=h.appManifest)===null||y===void 0)&&y.warnings)&&(!(h==null||(P=h.appManifest)===null||P===void 0)&&P.warnings.length)){var U;return h==null||(U=h.appManifest)===null||U===void 0?void 0:U.warnings}return Re.Ml});O.meta={name:"createSelector",key:"createSelectorgetWarnings",description:h=>{var y,P;if((0,st._Z)(h,"hermes_stable")&&(!(h==null||(y=h.appManifest)===null||y===void 0)&&y.warnings)&&(!(h==null||(P=h.appManifest)===null||P===void 0)&&P.warnings.length)){var U;return h==null||(U=h.appManifest)===null||U===void 0?void 0:U.warnings}return Re.Ml}};const J=(0,te.eI)(h=>A(h).concat(O(h)));var Z=H(635709),xe=H(654135),_e=H(906131),ke=H(991989),Ee=H(937228),w=H(630227);function Se(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(Se,"asyncGeneratorStep");function N(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){Se(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){Se(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(N,"_asyncToGenerator");const He={AppNotEligible:"app_not_eligible",InvalidApp:"invalid_app",InvalidAppId:"invalid_app_id",InvalidManifest:"invalid_manifest",FailedAddingCollaborator:"failed_adding_collaborator",FailedCreatingApp:"failed_creating_app",UnknownMethod:"unknown_method",NoPermission:"no_permission"},Xe=(0,ke.A)("apps.manifest.validate generated fetcher",function(){var h=N(function*(y,P,R){try{const U=["reason"],K=(0,$.omit)(R,U),re=(0,w.VA)(K),S=yield y((0,_e.H)({method:"apps.manifest.validate",args:re,reason:R.reason}));return(0,w.XK)(S)}catch(U){throw(0,Ee.Ay)({getState:P}).error(`API call to apps.manifest.validate
				with reason ${R.reason} failed, initiated by generated fetcher`),U}});return function(y,P,R){return h.apply(this,arguments)}}());Xe.meta={name:"createFetcher",key:"createFetcherappsManifestValidateFetcher",description:"apps.manifest.validate generated fetcher"};var yt=H(125504),Ft=H(14465),Ge=H.n(Ft),Ze=H(315237),Bt=H.n(Ze),Pe=H(346670),le=H.n(Pe),Ae;(function(h){h.BREAKING_CHANGE="breaking_change",h.FUNCTION_BREAKING_CHANGE="function_breaking_change",h.METADATA_BREAKING_CHANGE="metadata_breaking_change"})(Ae||(Ae={}));var he;(function(h){h.FUNCTIONS="functions",h.EVENTS="events",h.TYPES="types"})(he||(he={}));const ge="Invalid app",Ne="Warning",rt=s(h=>{let{message:y,startingLine:P=0,startingColumn:R=0,endingLine:U=0,endingColumn:K=0}=h;return{severity:"error",message:y,from:Bt().Pos(P,R),to:Bt().Pos(U,K)}},"buildAppManifestError"),an=s(h=>`Expecting ${h.expected}, got: '${h.token}'.`,"formatJsonErrorMessage"),qe=s(h=>(0,$.isString)(h)?`${h.replace(/^\w/,y=>y.toUpperCase())}`:ge,"formatApiErrorMessage"),Ot=s(h=>{const y=[];Ge().parseError=(P,R)=>{const U=an(R),{loc:K}=R;y.push(rt({startingLine:K.first_line-1,startingColumn:K.first_column,endingLine:K.last_line-1,endingColumn:K.last_column,message:U}))};try{Ge().parse(h)}catch{return y}return y},"getJsonErrors"),pt=s(h=>{try{le().parse(h,{keepCstNodes:!0})}catch(U){var y,P,R;const K=U==null||(y=U.source)===null||y===void 0||(P=y.resolved)===null||P===void 0||(R=P.cstNode)===null||R===void 0?void 0:R.rangeAsLinePos;return[rt(K?{startingLine:K.start.line-1,startingColumn:K.start.col-1,endingLine:K.end.line-1,endingColumn:K.end.col-1,message:U.message}:{message:U.message})]}return[]},"getYamlErrors"),tt=s((h,y)=>{const P=(0,yt.q)(h);return y.map(R=>{var U,K,re,S;const f=P==null?void 0:P.pointers[R.pointer];return rt({startingLine:f==null||(U=f.value)===null||U===void 0?void 0:U.line,startingColumn:f==null||(K=f.value)===null||K===void 0?void 0:K.column,endingLine:f==null||(re=f.valueEnd)===null||re===void 0?void 0:re.line,endingColumn:f==null||(S=f.valueEnd)===null||S===void 0?void 0:S.column,message:qe(R.message)})})},"getJsonManifestErrors"),dt=s((h,y)=>{var P,R,U;const K=le().parseDocument(h,{keepCstNodes:!0}),re=y.pointer,S=(P=re==null?void 0:re.slice(1))===null||P===void 0?void 0:P.split("/");return S?(R=K==null?void 0:K.getIn(S,!0))===null||R===void 0||(U=R.cstNode)===null||U===void 0?void 0:U.rangeAsLinePos:null},"getYamlLinePos"),Mt=s((h,y)=>y.map(P=>{const R=dt(h,P);return rt(R?{startingLine:R.start.line-1,startingColumn:R.start.col-1,endingLine:R.end.line-1,endingColumn:R.end.col-1,message:qe(P.message)}:{message:qe(P.message)})}),"getYamlManifestErrors"),on=s((h,y)=>{const P=h;if(P===Ae.BREAKING_CHANGE&&y)switch(y.split("/")[1]){case he.EVENTS:case he.TYPES:return Ae.METADATA_BREAKING_CHANGE;case he.FUNCTIONS:return Ae.FUNCTION_BREAKING_CHANGE;default:return Ae.BREAKING_CHANGE}return P},"getWarningCode"),Dn=s((h,y)=>y.map(P=>{const R=dt(h,P),U=on(P.code,P.pointer);return{...rt(R?{startingLine:R.start.line-1,startingColumn:R.start.col-1,endingLine:R.end.line-1,endingColumn:R.end.col-1,message:qe(P.message)}:{message:qe(P.message)}),code:U,severity:"warning"}}),"getYamlManifestWarnings"),lt=s((h,y)=>{const P=(0,yt.q)(h);return y.map(R=>{var U,K,re,S;let f=P==null?void 0:P.pointers[R.pointer||""];if(!f){var v;let k=R.pointer;!((v=R.pointer)===null||v===void 0)&&v.endsWith("/")&&(k=R.pointer.substring(0,R.pointer.length-1),f=P==null?void 0:P.pointers[k||""])}const x=on(R.code,R.pointer);return{...rt(f.value&&f.valueEnd?{startingLine:f==null||(U=f.value)===null||U===void 0?void 0:U.line,startingColumn:f==null||(K=f.value)===null||K===void 0?void 0:K.column,endingLine:f==null||(re=f.valueEnd)===null||re===void 0?void 0:re.line,endingColumn:f==null||(S=f.valueEnd)===null||S===void 0?void 0:S.column,message:qe(R.message)}:{message:qe(R.message)}),code:x,severity:"warning"}})},"getJsonManifestWarnings");function Je(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(Je,"validate_manifest_asyncGeneratorStep");function et(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){Je(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){Je(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(et,"validate_manifest_asyncToGenerator");const Ye=(0,xe.Ay)("Checks that manifest has valid JSON and properly describes an app",function(){var h=et(function*(y,P,R){let{json:U="",yaml:K="",appId:re}=R;const S=P();if((0,$.isEmpty)(U)&&(0,$.isEmpty)(K))return y((0,we.iG)([])),y((0,we.sg)([])),y((0,we.Lf)("")),Z.S.resolve();const f=K?pt(K):Ot(U);if(!(0,$.isEmpty)(f))return y((0,we.iG)(f)),y((0,we.sg)([])),Z.S.resolve();const v=C(S),x=K?(0,fe.eH)(K):U;try{const T=yield y(Xe({appId:re,token:v,manifest:x,reason:"validate_app_manifest"}));if(y((0,we.iG)([])),(0,st._Z)(S,"hermes_stable")==="on"){const D=(0,$.isArray)(T==null?void 0:T.warnings)?T.warnings:[],F=K?Dn(K,D):lt(U,D);!(0,$.isEmpty)(D)&&(0,$.isEmpty)(F)?y((0,we.sg)([rt({message:Ne})])):(0,$.isEmpty)(D)?y((0,we.sg)([])):y((0,we.sg)(F))}}catch(T){var k;y((0,we.sg)([]));const D=(0,$.isArray)(T==null||(k=T.data)===null||k===void 0?void 0:k.errors)?T.data.errors:[],F=K?Mt(K,D):tt(U,D);return(0,$.isEmpty)(F)?y((0,we.iG)([rt({message:ge})])):y((0,we.iG)(F)),Z.S.resolve()}return y((0,we.Lf)(x)),Z.S.resolve()});return function(y,P,R){return h.apply(this,arguments)}}());Ye.meta={name:"createThunk",key:"createThunkvalidateManifest",description:"Checks that manifest has valid JSON and properly describes an app"};function ht(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(ht,"create_asyncGeneratorStep");function Tt(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){ht(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){ht(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(Tt,"create_asyncToGenerator");const it={InvalidApp:"invalid_app",InvalidManifest:"invalid_manifest",FailedAddingCollaborator:"failed_adding_collaborator",FailedCreatingApp:"failed_creating_app",FailedDatastoreOperation:"failed_datastore_operation",Ratelimited:"ratelimited",EnterpriseIsRestricted:"enterprise_is_restricted",UnknownMethod:"unknown_method"},mt=(0,ke.A)("apps.manifest.create generated fetcher",function(){var h=Tt(function*(y,P,R){try{const U=["reason"],K=(0,$.omit)(R,U),re=(0,w.VA)(K),S=yield y((0,_e.H)({method:"apps.manifest.create",args:re,reason:R.reason}));return(0,w.XK)(S)}catch(U){throw(0,Ee.Ay)({getState:P}).error(`API call to apps.manifest.create
				with reason ${R.reason} failed, initiated by generated fetcher`),U}});return function(y,P,R){return h.apply(this,arguments)}}());mt.meta={name:"createFetcher",key:"createFetcherappsManifestCreateFetcher",description:"apps.manifest.create generated fetcher"};function ct(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(ct,"create_app_from_manifest_asyncGeneratorStep");function jt(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){ct(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){ct(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(jt,"create_app_from_manifest_asyncToGenerator");const Xt=(0,xe.Ay)("Uses manifest JSON to create a new app",function(){var h=jt(function*(y,P,R){let{referrer:U}=R;const K=P(),re=E(K),S=C(K);return yield y(mt({token:S,manifest:re,referrer:U,reason:"create_app_from_manifest"}))});return function(y,P,R){return h.apply(this,arguments)}}());Xt.meta={name:"createThunk",key:"createThunkcreateAppFromManifest",description:"Uses manifest JSON to create a new app"};var bt=H(750299),at=H(412733),kt=H(950805),Te=H(466891),Wn=H(952240),Wt=H(730965),xt=H(766665),Le=H(989217),hr=H(842172),Vt=H(649391);const tn=new kt.Ay("developer_app_settings"),Qt=464,xn=s(h=>{let{teams:y}=h;const P=(0,$e.wA)(),R=(0,pe.d4)(W),[U,K]=(0,_.useState)(!1),re=y.map(f=>({teamId:f.encoded_id,teamImg:f.icon_src,teamName:f.name,teamToken:f.token,canInstall:f.can_install})),S=s(f=>{const v=re.find(x=>x.teamId===f);v&&(P((0,we.JN)(v.teamToken)),P((0,we.hf)(f)),K(!v.canInstall))},"handleTeamSelected");return _.createElement(_.Fragment,null,U&&_.createElement(Le.Ay,{className:"margin_bottom_100","data-qa":"cant_install_alert",level:Le.A_.warning,heading:tn.t("This workspace requires apps to be approved by admins",{fallbackHash:"a22ecd1bd8fa433a61eaa72487c52d829f50b0a0"})},tn.t("You can still create your app, but you\u2019ll need to request approval to install it to this workspace. Request approval after creating your app OR sign into a different workspace.",{fallbackHash:"5c8e89e7695ab77432f4a3cb4d488a42ec9d7cf7"})),_.createElement(Wn.A,{text:tn.t("Pick a workspace to develop your app in:")}),_.createElement(hr.A,{initialSelectedTeamID:R,selectDataQa:"team_picker",teamsList:re,width:Qt,allowOrgSelection:!1,onTeamSelected:S,placeholderText:tn.t("Select a workspace")}),_.createElement(Vt.A,{className:"margin_top_50"},tn.t("Keep in mind that you can\u2019t change this app\u2019s workspace later. If you leave the workspace, you won\u2019t be able to manage any apps you\u2019ve built for it. The workspace will control the app even if you leave the workspace.",{fallbackHash:"90c92d449d5a321c2901599aa668d2c974aac339"})),_.createElement("div",{className:"margin_top_100 margin_bottom_200 caption sk_foreground_max"},_.createElement(xt.A,{invert:!0,href:`https://${(0,B.qF)()}/signin?redir=%2Fapi%2Fapps%3Fnew_app%3D1`,target:"_self"},tn.t("Sign into a different workspace"))))},"TeamPicker");xn.displayName="TeamPicker";const wr=xn;var zn=H(199558),Ir=H(615295),mr=H(47597),wn=H(721564),kr=H(281188),Kr=H(629086),Ln=H(228887),hi=H(441631),vr=H(253574),$r=H(312575);const ur=new kt.Ay("developer_app_settings"),pn="new_app_modal",Un=3,Gn=s(h=>{let{cancelButtonText:y,children:P,disableSubmitButton:R=!0,onCancel:U=$.noop,onSubmit:K=$.noop,showBetaTag:re=!1,showFooter:S=!0,stepNumber:f,submitButtonText:v,submitLoading:x=!1,title:k}=h;return _.createElement(_.Fragment,null,_.createElement(zn.A,null,_.createElement(Ir.A,{className:"display_flex align_items_center",title:k,id:"base_dialog_title","data-qa":`${pn}_header`},re&&_.createElement($r.A,{className:"margin_left_50"},ur.t("BETA")))),_.createElement(mr.A,null,_.createElement(wn.A,{"data-qa":`${pn}_body`},P)),S&&_.createElement(kr.A,{"data-qa":`${pn}_footer`,renderSpeedBump:T=>{let{cancel:D,closeModal:F}=T;return _.createElement(Ln.A,{heading:ur.t("Are you sure you want to exit this screen?"),continueButtonLabel:ur.t("Exit & Delete"),description:_.createElement("p",null,ur.t("Your manifest won\u2019t be saved \u2013 leaving this screen will delete whatever work you\u2019ve already entered.")),onCancel:D,onContinue:()=>F({force:!0})})}},f&&_.createElement("div",null,ur.t("Step {step} of {totalSteps}",{step:f,totalSteps:Un})),_.createElement(Kr.A,null,_.createElement(hi.Ay,{type:"outline",onClick:U,"data-qa":`${pn}_cancel`},y),_.createElement(vr.A,{type:"primary",onClick:K,"data-qa":`${pn}_go`,disabled:R,loading:x},v))))},"Step");Gn.displayName="Step";const kn=Gn,Qn=2,mi=s((h,y)=>{window.location.href=`/apps/${h}${y?"?created=1":""}`},"redirectToLegacyAppPage"),dr=s(h=>({_metadata:{schema_version:Qn},display_information:{name:h}}),"buildManifestFromAppName");function qn(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(qn,"create_step_asyncGeneratorStep");function cn(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){qn(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){qn(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(cn,"create_step_asyncToGenerator");const hn=new kt.Ay("developer_app_settings"),Zn=35,fr=s(h=>{let{onCancel:y,onCreateApp:P,teams:R}=h;const U=(0,$e.wA)(),K=(0,pe.d4)(C),[re,S]=(0,_.useState)(""),[f,v]=(0,_.useState)(!1),[x,k]=(0,_.useState)(null),T=!(0,$.isEmpty)(re)&&re.length<=Zn,D=(0,$.isEmpty)(K)||!T;(0,_.useEffect)(()=>{T&&U((0,we.Lf)((0,Te.Zf)(dr(re))))},[re,U,T]);const F=(0,_.useCallback)(z=>{S(z)},[]),j=(0,_.useCallback)(cn(function*(){k(null),v(!0);try{yield P(!1)}catch(z){(z==null?void 0:z.name)===it.Ratelimited?k(hn.t("You will need to wait a few minutes before creating another app on this workspace.",{fallbackHash:"7cc13347da7a5fc3a6f4ff51054fb123ad856b47"})):k(hn.t("Hmm, something went wrong. Try Again?")),v(!1)}}),[P]);return _.createElement(kn,{title:hn.t("Name app & choose workspace"),cancelButtonText:hn.t("Cancel"),onCancel:y,submitButtonText:hn.t("Create App"),disableSubmitButton:D,submitLoading:f,onSubmit:j},x&&_.createElement(Le.Ay,{className:"margin_bottom_100",level:Le.A_.error},x),_.createElement(Wn.A,{text:hn.t("App Name")},_.createElement(Wt.A,{id:"app_name",name:"app_name","data-qa":"app_name",value:re,onChange:F,maxCharacterLimit:Zn,placeholder:hn.t("e.g. Super Service"),hintText:hn.t("Don\u2019t worry - you\u2019ll be able to change this later.")})),_.createElement(wr,{teams:R}),_.createElement("p",{className:"p-new_app_modal__tos_banner"},hn.rt("By creating a <strong>Web API Application</strong>, you agree to the <Link>Slack API Terms of Service</Link>.",null,z=>{let{text:Q,tag:ce}=z;return ce==="strong"?_.createElement("strong",null,Q):_.createElement(xt.A,{href:"/terms-of-service/api"},Q)})))},"CreateStep");fr.displayName="CreateStep";const Cr=fr,Dt=new kt.Ay("developer_app_settings"),Me=s(h=>{let{onCancel:y,onNextStep:P,stepNumber:R,teams:U}=h;const K=(0,pe.d4)(C);return _.createElement(kn,{title:Dt.t("Pick a workspace to develop your app"),cancelButtonText:Dt.t("Cancel"),onCancel:y,submitButtonText:Dt.t("Next"),disableSubmitButton:(0,$.isEmpty)(K),onSubmit:P,stepNumber:R},_.createElement(wr,{teams:U}))},"ManifestTeamSelectStep");Me.displayName="ManifestTeamSelectStep";const er=Me;var rr=H(130041),Pn=H(528919),ft=H(682349),ir=H(371561),Nr=H(610202),gr=H(609751),d=H(316792),m=H(520496),V=H(601049);const ae=[{id:"app_mentions:read",description:"View messages that directly mention @your_slack_app in conversations that the app is in"},{id:"calls:read",description:"View information about ongoing and past calls"},{id:"calls:write",description:"Start and manage calls in a workspace"},{id:"channels:history",description:"View messages and other content in public channels that your Slack app has been added to"},{id:"channels:join",description:"Join public channels in a workspace"},{id:"channels:manage",description:"Manage public channels that your Slack app has been added to and create new ones"},{id:"channels:read",description:"View basic information about public channels in a workspace"},{id:"chat:write",description:"Send messages as @your_slack_app"},{id:"chat:write.customize",description:"Send messages as @your_slack_app with a customized username and avatar"},{id:"chat:write.public",description:"Send messages to channels @your_slack_app isn't a member of"},{id:"commands",description:"Add shortcuts and/or slash commands that people can use"},{id:"conversations.connect:manage",description:"Allows your Slack app to manage shared channels"},{id:"conversations.connect:read",description:"Receive shared channel invite events your Slack app has been invited to"},{id:"conversations.connect:write",description:"Create invitations to share channels that your Slack app has been added to, and accept shared channel invitations sent to your Slack app"},{id:"dnd:read",description:"View Do Not Disturb settings for people in a workspace"},{id:"emoji:read",description:"View custom emoji in a workspace"},{id:"files:read",description:"View files shared in channels and conversations that your Slack app has been added to"},{id:"files:write",description:"Upload, edit, and delete files as your Slack app"},{id:"groups:history",description:"View messages and other content in private channels that your Slack app has been added to"},{id:"groups:read",description:"View basic information about private channels that your Slack app has been added to"},{id:"groups:write",description:"Manage private channels that your Slack app has been added to and create new ones"},{id:"im:history",description:"View messages and other content in direct messages that your Slack app has been added to"},{id:"im:read",description:"View basic information about direct messages that your Slack app has been added to"},{id:"im:write",description:"Start direct messages with people"},{id:"incoming-webhook",description:"Post messages to specific channels in Slack"},{id:"links:read",description:"View URLs in messages"},{id:"links:write",description:"Show previews of URLs in messages"},{id:"metadata.message:read",description:"Allows your Slack app to read message metadata in channels that your Slack app has been added to"},{id:"mpim:history",description:"View messages and other content in group direct messages that your Slack app has been added to"},{id:"mpim:read",description:"View basic information about group direct messages that your Slack app has been added to"},{id:"mpim:write",description:"Start group direct messages with people"},{id:"pins:read",description:"View pinned content in channels and conversations that your Slack app has been added to"},{id:"pins:write",description:"Add and remove pinned messages and files"},{id:"reactions:read",description:"View emoji reactions and their associated content in channels and conversations that your Slack app has been added to"},{id:"reactions:write",description:"Add and edit emoji reactions"},{id:"reminders:read",description:"View reminders created by your Slack app"},{id:"reminders:write",description:"Add, remove, or mark reminders as complete"},{id:"remote_files:read",description:"View remote files added by the app in a workspace"},{id:"remote_files:share",description:"Share remote files on a user\u2019s behalf"},{id:"remote_files:write",description:"Add, edit, and delete remote files on a user\u2019s behalf"},{id:"team.billing:read",description:"Allows your Slack app to read the billing plan for workspaces your Slack app has been installed to"},{id:"team.preferences:read",description:"Allows your Slack app to read the preferences for workspaces your Slack app has been installed to"},{id:"team:read",description:"View the name, email domain, and icon for workspaces your Slack app is connected to"},{id:"usergroups:read",description:"View user groups in a workspace"},{id:"usergroups:write",description:"Create and manage user groups"},{id:"users.profile:read",description:"View profile details about people in a workspace"},{id:"users:read",description:"View people in a workspace"},{id:"users:read.email",description:"View email addresses of people in a workspace"},{id:"users:write",description:"Set presence for your Slack app"},{id:"workflow.steps:execute",description:"Add steps that people can use in Workflow Builder"}],je=[{id:"admin",description:"Administer a workspace"},{id:"admin.analytics:read",description:"Access analytics data about the organization"},{id:"admin.apps:read",description:"View apps and app requests in a workspace"},{id:"admin.apps:write",description:"Manage apps in a workspace"},{id:"admin.barriers:read",description:"Read information barriers in the organization"},{id:"admin.barriers:write",description:"Manage information barriers in the organization"},{id:"admin.conversations:read",description:"View the channel\u2019s member list, topic, purpose and channel name"},{id:"admin.conversations:write",description:"Start a new conversation, modify a conversation and modify channel details"},{id:"admin.invites:read",description:"View a workspace\u2019s invites and invite requests"},{id:"admin.invites:write",description:"Invite members to a workspace and approve or deny invitation requests"},{id:"admin.legal_holds:read",description:"View legal holds entities"},{id:"admin.legal_holds:write",description:"Create, edit, and disable legal holds entities"},{id:"admin.teams:read",description:"Access information about a workspace"},{id:"admin.teams:write",description:"Make changes to a workspace"},{id:"admin.usergroups:read",description:"Access information about user groups"},{id:"admin.usergroups:write",description:"Make changes to your usergroups"},{id:"admin.users:read",description:"Access a workspace\u2019s profile information"},{id:"admin.users:write",description:"Modify account information"},{id:"auditlogs:read",description:"View events from all workspaces, channels and users (Enterprise Grid only)"},{id:"calls:read",description:"View information about ongoing and past calls"},{id:"calls:write",description:"Start and manage calls in a workspace"},{id:"channels:history",description:"View messages and other content in a user\u2019s public channels"},{id:"channels:read",description:"View basic information about public channels in a workspace"},{id:"channels:write",description:"Manage a user\u2019s public channels and create new ones on a user\u2019s behalf"},{id:"chat:write",description:"Send messages on a user\u2019s behalf"},{id:"dnd:read",description:"View Do Not Disturb settings for people in a workspace"},{id:"dnd:write",description:"Edit a user\u2019s Do Not Disturb settings"},{id:"email",description:"View a user\u2019s email address"},{id:"emoji:read",description:"View custom emoji in a workspace"},{id:"files:read",description:"View files shared in channels and conversations that a user has access to"},{id:"files:write",description:"Upload, edit, and delete files on a user\u2019s behalf"},{id:"groups:history",description:"View messages and other content in a user\u2019s private channels"},{id:"groups:read",description:"View basic information about a user\u2019s private channels"},{id:"groups:write",description:"Manage a user\u2019s private channels and create new ones on a user\u2019s behalf"},{id:"identify",description:"View information about a user\u2019s identity"},{id:"identity.avatar",description:"View a user\u2019s Slack avatar"},{id:"identity.basic",description:"View information about a user\u2019s identity"},{id:"identity.email",description:"View a user\u2019s email address"},{id:"identity.team",description:"View a user\u2019s Slack workspace name"},{id:"im:history",description:"View messages and other content in a user\u2019s direct messages"},{id:"im:read",description:"View basic information about a user\u2019s direct messages"},{id:"im:write",description:"Start direct messages with people on a user\u2019s behalf"},{id:"links:read",description:"View URLs in messages"},{id:"links:write",description:"Show previews of URLs in messages"},{id:"mpim:history",description:"View messages and other content in a user\u2019s group direct messages"},{id:"mpim:read",description:"View basic information about a user\u2019s group direct messages"},{id:"mpim:write",description:"Start group direct messages with people on a user\u2019s behalf"},{id:"openid",description:"View information about a user\u2019s identity"},{id:"pins:read",description:"View pinned content in a user\u2019s channels and conversations"},{id:"pins:write",description:"Add and remove pinned messages and files on a user's behalf"},{id:"profile",description:"View a user\u2019s Slack avatar and Slack workspace's basic information"},{id:"reactions:read",description:"View emoji reactions in a user\u2019s channels and conversations and their associated content"},{id:"reactions:write",description:"Add and edit emoji reactions on a user's behalf"},{id:"reminders:read",description:"View reminders created by your Slack app"},{id:"reminders:write",description:"Add, remove, or mark reminders as complete"},{id:"remote_files:read",description:"View remote files added by the app in a workspace"},{id:"remote_files:share",description:"Share remote files on a user\u2019s behalf"},{id:"search:read",description:"Search a workspace\u2019s content"},{id:"stars:read",description:"View a user\u2019s starred messages and files"},{id:"stars:write",description:"Add or remove stars for a user"},{id:"team.billing:read",description:"Allows your Slack app to read a workspace's billing plan"},{id:"team.preferences:read",description:"Allows your Slack app to read a workspace's preferences"},{id:"team:read",description:"View the name, email domain, and icon for workspaces a user is connected to"},{id:"usergroups:read",description:"View user groups in a workspace"},{id:"usergroups:write",description:"Create and manage user groups"},{id:"users.profile:read",description:"View profile details about people in a workspace"},{id:"users.profile:write",description:"Edit a user\u2019s profile information and status"},{id:"users:read",description:"View people in a workspace"},{id:"users:read.email",description:"View email addresses of people in a workspace"},{id:"users:write",description:"Set a user\u2019s presence"}],ut=[{id:"app_mention",description:"Subscribe to only the message events that mention your app or bot"},{id:"channel_created",description:"A channel was created"},{id:"channel_deleted",description:"A channel was deleted"},{id:"channel_rename",description:"A channel was renamed"},{id:"channel_archive",description:"A channel was archived"},{id:"channel_unarchive",description:"A channel was unarchived"},{id:"channel_left",description:"You left a channel"},{id:"channel_shared",description:"A channel has been shared with an external workspace"},{id:"channel_unshared",description:"A channel has been unshared with an external workspace"},{id:"member_joined_channel",description:"A user joined a public or private channel"},{id:"member_left_channel",description:"A user left a public or private channel"},{id:"channel_history_changed",description:"Bulk updates were made to a channel's history"},{id:"dnd_updated_user",description:"Do not Disturb settings changed for a member"},{id:"im_history_changed",description:"Bulk updates were made to a DM's history"},{id:"message.im",description:"A message was posted in a direct message channel"},{id:"group_left",description:"You left a private channel"},{id:"group_archive",description:"A private channel was archived"},{id:"group_unarchive",description:"A private channel was unarchived"},{id:"group_rename",description:"A private channel was renamed"},{id:"group_deleted",description:"A private channel was deleted"},{id:"channel_id_changed",description:"A channel ID changed"},{id:"group_history_changed",description:"Bulk updates were made to a private channel's history"},{id:"message.groups",description:"A message was posted to a private channel"},{id:"file_created",description:"A file was created"},{id:"file_shared",description:"A file was shared"},{id:"file_unshared",description:"A file was unshared"},{id:"file_public",description:"A file was made public"},{id:"file_change",description:"A file was changed"},{id:"file_deleted",description:"A file was deleted"},{id:"pin_added",description:"A pin was added to a channel"},{id:"pin_removed",description:"A pin was removed from a channel"},{id:"user_change",description:"A member's data has changed"},{id:"team_join",description:"A new member has joined"},{id:"reaction_added",description:"A member has added an emoji reaction to an item"},{id:"reaction_removed",description:"A member removed an emoji reaction"},{id:"emoji_changed",description:"A custom emoji has been added or changed"},{id:"team_rename",description:"The workspace name has changed"},{id:"team_domain_change",description:"The workspace domain has changed"},{id:"email_domain_changed",description:"The workspace email domain has changed"},{id:"subteam_created",description:"A User Group has been added to the workspace"},{id:"subteam_updated",description:"An existing User Group has been updated or its members changed"},{id:"subteam_members_changed",description:"The membership of an existing User Group has changed"},{id:"message.channels",description:"A message was posted to a channel"},{id:"message.mpim",description:"A message was posted in a multiparty direct message channel"},{id:"link_shared",description:"A message was posted containing one or more links relevant to your application"},{id:"tokens_revoked",description:"API tokens for your app were revoked."},{id:"app_uninstalled",description:"Your Slack app was uninstalled."},{id:"grid_migration_started",description:"An enterprise grid migration has started on this workspace."},{id:"grid_migration_finished",description:"An enterprise grid migration has finished on this workspace."},{id:"app_home_opened",description:"User clicked into your App Home"},{id:"team_access_granted",description:"Access to a set of teams was granted to your org app"},{id:"team_access_revoked",description:"Access to a set of teams was revoked from your org app"},{id:"profile_opened",description:""},{id:"workflow_step_execute",description:"A workflow step supported by your app should execute"},{id:"workflow_step_deleted",description:"A workflow step supported by your app was removed from a workflow"},{id:"workflow_published",description:"A workflow that contains a step supported by your app was published"},{id:"workflow_unpublished",description:"A workflow that contains a step supported by your app was unpublished"},{id:"workflow_deleted",description:"A workflow that contains a step supported by your app was deleted"},{id:"call_rejected",description:"A Call was rejected"},{id:"shared_channel_invite_received",description:"A shared channel invite was sent to a Slack user"},{id:"shared_channel_invite_accepted",description:"A shared channel invite was accepted"},{id:"shared_channel_invite_approved",description:"A shared channel invite was approved"},{id:"shared_channel_invite_declined",description:"A shared channel invite was declined"},{id:"message_metadata_posted",description:"Message metadata was posted"},{id:"message_metadata_updated",description:"Message metadata was updated"},{id:"message_metadata_deleted",description:"Message metadata was deleted"}],Ct=[{id:"channel_created",description:"A channel was created"},{id:"channel_deleted",description:"A channel was deleted"},{id:"channel_rename",description:"A channel was renamed"},{id:"channel_archive",description:"A channel was archived"},{id:"channel_unarchive",description:"A channel was unarchived"},{id:"channel_left",description:"You left a channel"},{id:"channel_shared",description:"A channel has been shared with an external workspace"},{id:"channel_unshared",description:"A channel has been unshared with an external workspace"},{id:"member_joined_channel",description:"A user joined a public or private channel"},{id:"member_left_channel",description:"A user left a public or private channel"},{id:"channel_history_changed",description:"Bulk updates were made to a channel's history"},{id:"dnd_updated",description:"Do not Disturb settings changed for the current user"},{id:"dnd_updated_user",description:"Do not Disturb settings changed for a member"},{id:"im_created",description:"A DM was created"},{id:"im_open",description:"You opened a DM"},{id:"im_close",description:"You closed a DM"},{id:"im_history_changed",description:"Bulk updates were made to a DM's history"},{id:"message.im",description:"A message was posted in a direct message channel"},{id:"group_open",description:"You created a group DM"},{id:"group_close",description:"You closed a private channel"},{id:"group_left",description:"You left a private channel"},{id:"group_archive",description:"A private channel was archived"},{id:"group_unarchive",description:"A private channel was unarchived"},{id:"group_rename",description:"A private channel was renamed"},{id:"group_deleted",description:"A private channel was deleted"},{id:"channel_id_changed",description:"A channel ID changed"},{id:"group_history_changed",description:"Bulk updates were made to a private channel's history"},{id:"message.groups",description:"A message was posted to a private channel"},{id:"file_created",description:"A file was created"},{id:"file_shared",description:"A file was shared"},{id:"file_unshared",description:"A file was unshared"},{id:"file_public",description:"A file was made public"},{id:"file_change",description:"A file was changed"},{id:"file_deleted",description:"A file was deleted"},{id:"pin_added",description:"A pin was added to a channel"},{id:"pin_removed",description:"A pin was removed from a channel"},{id:"user_change",description:"A member's data has changed"},{id:"team_join",description:"A new member has joined"},{id:"star_added",description:"A member has saved an item for later or starred an item"},{id:"star_removed",description:"A member has removed an item saved for later or starred an item"},{id:"reaction_added",description:"A member has added an emoji reaction to an item"},{id:"reaction_removed",description:"A member removed an emoji reaction"},{id:"emoji_changed",description:"A custom emoji has been added or changed"},{id:"team_rename",description:"The workspace name has changed"},{id:"team_domain_change",description:"The workspace domain has changed"},{id:"email_domain_changed",description:"The workspace email domain has changed"},{id:"subteam_created",description:"A User Group has been added to the workspace"},{id:"subteam_updated",description:"An existing User Group has been updated or its members changed"},{id:"subteam_members_changed",description:"The membership of an existing User Group has changed"},{id:"subteam_self_added",description:"You have been added to a User Group"},{id:"subteam_self_removed",description:"You have been removed from a User Group"},{id:"message.channels",description:"A message was posted to a channel"},{id:"message.mpim",description:"A message was posted in a multiparty direct message channel"},{id:"message.app_home",description:"A user sent a message to your Slack app"},{id:"link_shared",description:"A message was posted containing one or more links relevant to your application"},{id:"app_requested",description:"User requested an app"},{id:"call_rejected",description:"A Call was rejected"},{id:"invite_requested",description:"User requested an invite"},{id:"shared_channel_invite_received",description:"A shared channel invite was sent to a Slack user"},{id:"shared_channel_invite_accepted",description:"A shared channel invite was accepted"},{id:"shared_channel_invite_approved",description:"A shared channel invite was approved"},{id:"shared_channel_invite_declined",description:"A shared channel invite was declined"}],Ie=s(h=>{let{value:y,path:P,forBoolean:R}=h;if(!y||!P)return;const U=y.split(`
`),K=P.split("."),re=s(z=>new RegExp(`\\n${z} *?:`),"getRootKeyRegExp"),S=s((z,Q)=>new RegExp(`^ {${Q}}${z} *?: *?$`),"getNestedKeyRegExp"),f=s((z,Q)=>new RegExp(`^ {${Q}}${z} *?:.*?$`),"getFinalNestedBooleanKeyRegExp"),v=K.shift();if(!v)return;const x=y.search(re(v));if(x===-1)return;let T=y.substring(0,x).split(`
`).length+1,D=0,F=-1,j=-1;for(;T<U.length;){const z=U[T];if(/^\s*?$/.test(z)){T+=1;continue}if(/^\S/.test(z)){j=T-1;break}const Q=z.search(/\S/);if(D===0&&Q&&(D=Q),(S(K[0],D).test(z)||R&&K.length===1&&f(K[0],D).test(z))&&(K.shift(),D=0,K.length===0)){if(R)return F=T,j=T,{lineStart:F,lineEnd:j};F=T+1}if(K.length===0&&Q<D){j=T-1;break}T+=1}if(j===-1&&(j=U.length-1),!(j<F)&&K.length===0)return{lineStart:F,lineEnd:j}},"getYamlObjectBounds"),mn=s(h=>{let{value:y,path:P,forBoolean:R}=h;if(!y||!P)return;const U=P.split("."),K=s((Q,ce)=>ce?R?new RegExp(`"${Q}"\\s*?:\\s*?`):new RegExp(`"${Q}"\\s*?:\\s*?\\[`):new RegExp(`"${Q}"\\s*?:\\s*?{`),"getKeyRegExp");let re=-1,S=-1,f=0,v=y;for(;U.length;){const Q=U.shift();if(!Q)return;const ce=U.length===0,ie=v.match(K(Q,ce));if(!ie)return;const{index:de}=ie;if(de===void 0)return;const me=ie[0].length,oe=de+me;f+=oe,v=v.substring(oe)}re=f;const x=R?v.search(/[,"\n}]/):v.search(/[}\]]/);S=x>-1?re+x:y.length-1;const k=y.substring(0,re).split(`
`),T=k.length-1,D=k[k.length-1].length;let F=-1,j=-1;const z=y.substring(re,S).split(`
`);return z.length===1?(F=T,j=D+y.substring(re,S).length):(F=T+z.length-1,j=z[z.length-1].length),{lineStart:T,lineEnd:F,chStart:D,chEnd:j}},"getJsonObjectBounds");var Pt;(function(h){h.OauthConfigScopesBot="oauth_config.scopes.bot",h.OauthConfigScopesUser="oauth_config.scopes.user",h.SettingsEventSubscriptionsBotEvents="settings.event_subscriptions.bot_events",h.SettingsEventSubscriptionsUserEvents="settings.event_subscriptions.user_events",h.SettingsInteractivityIsEnabled="settings.interactivity.is_enabled",h.SettingsOrgDeployEnabled="settings.org_deploy_enabled",h.SettingsSocketModeEnabled="settings.socket_mode_enabled",h.SettingsIsHosted="settings.is_hosted",h.SettingsTokenRotationEnabled="settings.token_rotation_enabled",h.FeaturesAppHomeHomeTabEnabled="features.app_home.home_tab_enabled",h.FeaturesAppHomeMessagesTabEnabled="features.app_home.messages_tab_enabled",h.FeaturesAppHomeMessagesTabReadOnlyEnabled="features.app_home.messages_tab_read_only_enabled",h.FeaturesBotUserAlwaysOnline="features.bot_user.always_online"})(Pt||(Pt={}));const qt=[{id:"true",description:""},{id:"false",description:""}],Kt={[Pt.OauthConfigScopesBot]:ae,[Pt.OauthConfigScopesUser]:je,[Pt.SettingsEventSubscriptionsBotEvents]:ut,[Pt.SettingsEventSubscriptionsUserEvents]:Ct,[Pt.SettingsInteractivityIsEnabled]:qt,[Pt.SettingsOrgDeployEnabled]:qt,[Pt.SettingsSocketModeEnabled]:qt,[Pt.SettingsIsHosted]:qt,[Pt.SettingsTokenRotationEnabled]:qt,[Pt.FeaturesAppHomeHomeTabEnabled]:qt,[Pt.FeaturesAppHomeMessagesTabEnabled]:qt,[Pt.FeaturesAppHomeMessagesTabReadOnlyEnabled]:qt,[Pt.FeaturesBotUserAlwaysOnline]:qt};let Ar={},yr={},br={};var wt;(function(h){h.yaml="yaml",h.json="json"})(wt||(wt={}));const vi={[wt.json]:4,[wt.yaml]:2},_r=s((h,y)=>{if(h===wt.yaml){Ar={},Object.values(Pt).forEach(R=>{Ar[R]=Ie({value:y,path:R,forBoolean:Kt[R]===qt})});const P=(0,fe.Zi)(y);Object.keys(P).length&&(br=P)}else{yr={},Object.values(Pt).forEach(R=>{yr[R]=mn({value:y,path:R,forBoolean:Kt[R]===qt})});const P=(0,Te.LL)(y,{fallback:{}});Object.keys(P).length&&(br=P)}},"calculateBounds"),Tr=s((h,y)=>{const P=Kt[h],R=(0,$.get)(br,h)||[],U=(0,$.differenceWith)(P,R,(K,re)=>{let{id:S}=K;return S===re});return y.length?U.filter(K=>{let{id:re}=K;return re.startsWith(y)&&y!==re}):U},"filterSelectedItems"),Yr=s(h=>h.length?qt.filter(y=>{let{id:P}=y;return P.startsWith(h)&&h!==P}):qt,"filterBooleanItems"),Or=s(h=>{let{editor:y,listItems:P,mode:R,cursorLine:U,startCh:K,endCh:re,forBoolean:S}=h;const f=y.getDoc().getCursor(),v=R===wt.json&&!S,x={hint(){return{from:f,to:f,list:P.map(k=>{let{id:T,description:D}=k;return{text:v?`"${T}"`:T,from:{line:U,ch:K},to:{line:U,ch:re},render:F=>{const j=document.createElement("div");j.innerText=T,j.classList.add("hint-label","overflow_ellipsis");const z=document.createElement("div");z.innerText=D,z.classList.add("hint-description","overflow_ellipsis"),F.appendChild(j),F.appendChild(z)}}})}},completeSingle:!1};y.showHint(x)},"processAndShowHint"),Rr=s((h,y)=>{const P=h.getDoc();if(h.state.completeActive)return;const{line:R,ch:U}=P.getCursor()||{};if(!(typeof R!="number"||typeof U!="number"))if(y===wt.yaml){const K=P.getLine(R);Object.values(Pt).forEach(re=>{const S=Ar==null?void 0:Ar[re];if(!S)return;const f=Kt[re]===qt,{lineStart:v,lineEnd:x}=S;if(R>=v&&R<=x){if(f&&/^\s*?\w+?:\s+?\S*?\s*?$/.test(K)){const k=K.match(/^(\s*?\w+?:\s+?)(\S*?)\s*?$/),T=(k==null?void 0:k[2])||"",D=((k==null?void 0:k[1])||"").length;if(U<D){h.closeHint();return}const F=Yr(T);if(F.length){const j=D+K.substring(D).indexOf(T),z=j+T.length;Or({editor:h,listItems:F,mode:y,cursorLine:R,startCh:j,endCh:z,forBoolean:f})}else h.closeHint()}else if(/^\s+?-\s+?\S*?\s*?$/.test(K)){const k=K.match(/^(\s+?-\s+?)(\S*?)\s*?$/),T=(k==null?void 0:k[2])||"",D=((k==null?void 0:k[1])||"").length;if(U<D){h.closeHint();return}const F=Tr(re,T);if(F.length){const j=D+K.substring(D).indexOf(T),z=j+T.length;Or({editor:h,listItems:F,mode:y,cursorLine:R,startCh:j,endCh:z,forBoolean:f})}else h.closeHint()}}})}else{const K=h.getTokenAt(h.getCursor()),{string:re,type:S,start:f,end:v}=K;Object.values(Pt).forEach(x=>{const k=yr==null?void 0:yr[x];if(!k)return;const T=Kt[x]===qt;if(!T){if(S!=="string"){h.closeHint();return}if(/"\S*?"/.test(re)&&U===v){h.closeHint();return}}const{lineStart:D,lineEnd:F,chStart:j,chEnd:z}=k;if(R>=D&&R<=F){if(R===D&&U<j){h.closeHint();return}if(!T&&R===F&&U>z){h.closeHint();return}const Q=re.replaceAll('"',""),ce=T?Yr(Q):Tr(x,Q);ce.length?Or({editor:h,listItems:ce,mode:y,cursorLine:R,startCh:f,endCh:v,forBoolean:T}):h.closeHint()}})}},"maybeShowTypeahead"),gi=new kt.Ay("developer_app_settings"),Fi=400,Jr=s(h=>{let{mode:y=wt.json,isInManifestEditor:P=!1,readOnly:R=!1,isManifestAfterSave:U=!1,resetIsManifestAfterSave:K=s(()=>{},"resetIsManifestAfterSave")}=h;const re=(0,$e.wA)(),{enableSpeedBump:S}=(0,V.k)(),f=(0,pe.d4)(X);var v;const x=(v=(0,pe.d4)(E))!==null&&v!==void 0?v:"",k=(0,_.useMemo)(()=>y===wt.json?x:(0,fe.sc)(x),[x,y]),T=(0,_.useRef)(y),D=(0,_.useRef)(null);(0,_.useEffect)(()=>{if(T.current!==y){if(D.current){const ne=D.current.editor.getDoc();ne.setValue(k),ne.clearHistory()}re((0,we.iG)([]))}T.current=y},[y,k,re]),(0,_.useEffect)(()=>{if(T.current===y&&D.current){const ne=D.current.editor.getDoc();if(ne.getValue()===""&&k||U){const q=ne.getCursor();ne.setValue(k),ne.setCursor(q),ne.clearHistory(),K()}}},[y,k,U,K]);const F=(0,pe.d4)(J),j=(0,_.useRef)(),z=(0,_.useRef)(),Q=s((ne,q)=>{P&&(_r(y,ne),Rr(q,T.current)),z.current&&z.current.cancel();const se=y===wt.json?{json:ne}:{yaml:ne};f&&(se.appId=f),z.current=re(Ye(se));const Ke=!(0,$.isEmpty)(ne);S(Ke)},"handleChange"),ce=(0,$.debounce)(Q,Fi),ie=s((ne,q,se)=>{R||((q==null?void 0:q.origin)==="paste"?(ce.cancel(),Q(se,ne)):ce(se,ne))},"handleInputOrPaste"),de=s((ne,q)=>{if(R)return;const se=ne.getDoc();j.current&&se.removeLineClass(j.current,"background"),q.line?(j.current=q.line,se.addLineClass(j.current,"background","p-new_app_modal__codemirror_highlight")):j.current=void 0,P&&!R&&Rr(ne,T.current)},"handleCursor"),me=(0,_.useCallback)((ne,q)=>{q(F)},[F]),oe=(0,_.useMemo)(()=>({lineNumbers:!0,mode:y===wt.json?{name:"javascript",json:!0}:{name:"yaml"},lineWrapping:!0,indentUnit:vi[y],extraKeys:{Tab:ne=>{const q=Array(ne.getOption("indentUnit")+1).join(" ");ne.replaceSelection(q,"end","+input")}},scrollbarStyle:"null",gutters:["CodeMirror-lint-markers"],lint:{getAnnotations:me,async:!0},placeholder:gi.t("*Paste your manifest code here*"),readOnly:R}),[me,y,R]);return _.createElement(ft.wN,{className:(0,Pn.A)("p-new_app_modal__codemirror",{"p-new_app_modal__codemirror--update":P}),editorDidMount:ne=>{const q=ne.getDoc();(0,$.defer)(()=>{q.setValue(k),q.clearHistory()})},options:oe,onChange:ie,onCursor:de,ref:D})},"CodemirrorInput");Jr.displayName="CodemirrorInput";const ar=Jr,Mn=new kt.Ay("developer_app_settings"),yi=s(h=>{let{isManifestFromExternal:y=!1,hasInitialManifest:P=!1,mode:R=wt.json,onPrevStep:U,onNextStep:K,stepNumber:re,isInExperiementHermesStable:S}=h;const f=(0,pe.d4)(E),v=(0,pe.d4)(T=>!(0,$.isEmpty)(A(T))),x=(0,_.useMemo)(()=>({[wt.json]:{title:Mn.t("JSON"),id:wt.json,"data-qa":wt.json,content:_.createElement(ar,{mode:wt.json}),isDisabled:v},[wt.yaml]:{title:Mn.t("YAML"),id:wt.yaml,"data-qa":wt.yaml,content:_.createElement(ar,{mode:wt.yaml}),isDisabled:v}}),[v]),k=(0,_.useMemo)(()=>S?[x[wt.json],x[wt.yaml]]:[x[wt.yaml],x[wt.json]],[S,x]);return _.createElement(kn,{title:Mn.t("Enter app manifest below"),showBetaTag:!0,cancelButtonText:P?Mn.t("Cancel"):Mn.t("Back"),onCancel:U,submitButtonText:Mn.t("Next"),disableSubmitButton:(0,$.isEmpty)(f)||(0,$.isEmpty)((0,fe.sc)(f))||v,onSubmit:K,stepNumber:re},v&&_.createElement(Le.Ay,{className:"margin_bottom_100",level:Le.A_.warning},_.createElement("strong",null,Mn.t("We can\u2019t translate a manifest with errors."))),y&&_.createElement(Le.Ay,{className:"margin_bottom_100",level:Le.A_.warning},_.createElement("strong",null,Mn.t("This manifest was created by a 3rd party"))),_.createElement("p",null,Mn.rt("This is your app\u2019s manifest containing basic info, scopes, settings, and features. For help on how this works, you can check out our <Link1>documentation</Link1> or check out a few <Link2>examples</Link2>.",null,T=>{let{tag:D,text:F}=T;return _.createElement(xt.A,{invert:!0,href:D==="Link1"?"/tools/manifests":"/tutorials"},F)})),_.createElement(rr.A,{defaultTabId:R,tabMenuClassnames:"p-new_app_modal__input_tabs",tabs:k}))},"ManifestInputStep");yi.displayName="ManifestInputStep";const Xr=yi,Dr=s(h=>{try{return JSON.parse(h)}catch{return}},"getParsedAppManifest"),sa=s(h=>{var y;return h==null||(y=h.display_information)===null||y===void 0?void 0:y.name},"getName"),Bi=s(h=>{var y;return h==null||(y=h.display_information)===null||y===void 0?void 0:y.background_color},"getBackgroundColor");var bi;const Wi=s(h=>{var y,P;return(bi=h==null||(y=h.oauth_config)===null||y===void 0||(P=y.scopes)===null||P===void 0?void 0:P.bot)!==null&&bi!==void 0?bi:[]},"getBotScopes");var Hr;const _i=s(h=>{var y,P;return(Hr=h==null||(y=h.oauth_config)===null||y===void 0||(P=y.scopes)===null||P===void 0?void 0:P.user)!==null&&Hr!==void 0?Hr:[]},"getUserScopes");var Ei;const Si=s(h=>{var y;return(Ei=h==null||(y=h.oauth_config)===null||y===void 0?void 0:y.redirect_urls)!==null&&Ei!==void 0?Ei:[]},"getRedirectUrls"),zi=s(h=>{var y,P;return!!(!(h==null||(y=h.features)===null||y===void 0||(P=y.app_home)===null||P===void 0)&&P.home_tab_enabled)},"isHomeTabEnabled"),Fr=s(h=>{var y,P;return!!(!(h==null||(y=h.features)===null||y===void 0||(P=y.app_home)===null||P===void 0)&&P.messages_tab_enabled)},"isMessagesTabEnabled"),Cn=s(h=>{var y,P;return h==null||(y=h.features)===null||y===void 0||(P=y.bot_user)===null||P===void 0?void 0:P.display_name},"getBotDisplayName");var Br;const xi=s(h=>{var y,P;return(Br=h==null||(y=h.features)===null||y===void 0||(P=y.shortcuts)===null||P===void 0?void 0:P.length)!==null&&Br!==void 0?Br:0},"getShortcutsCount");var Wr;const zr=s(h=>{var y,P;return(Wr=h==null||(y=h.features)===null||y===void 0||(P=y.slash_commands)===null||P===void 0?void 0:P.length)!==null&&Wr!==void 0?Wr:0},"getSlashCommandsCount");var Qr;const wi=s(h=>{var y,P;return(Qr=h==null||(y=h.features)===null||y===void 0||(P=y.workflow_steps)===null||P===void 0?void 0:P.length)!==null&&Qr!==void 0?Qr:0},"getWorkflowStepsCount");var _n;const Ui=s(h=>{var y;return(_n=h==null||(y=h.features)===null||y===void 0?void 0:y.unfurl_domains)!==null&&_n!==void 0?_n:[]},"getUnfurlDomains"),la=s(h=>{var y;return!!(!(h==null||(y=h.settings)===null||y===void 0)&&y.socket_mode_enabled)},"isSocketModeEnabled"),qr=s(h=>{var y,P;return!!(!(h==null||(y=h.settings)===null||y===void 0||(P=y.interactivity)===null||P===void 0)&&P.request_url)},"isInteractivityEnabled"),ki=s(h=>{var y;return!!(!(h==null||(y=h.settings)===null||y===void 0)&&y.org_deploy_enabled)},"isOrgDeployEnabled");var jn;const Zr=s(h=>{var y,P,R;return(jn=h==null||(y=h.settings)===null||y===void 0||(P=y.event_subscriptions)===null||P===void 0||(R=P.bot_events)===null||R===void 0?void 0:R.length)!==null&&jn!==void 0?jn:0},"getBotEventSubscriptionsCount");var In;const Ur=s(h=>{var y,P,R;return(In=h==null||(y=h.settings)===null||y===void 0||(P=y.event_subscriptions)===null||P===void 0||(R=P.user_events)===null||R===void 0?void 0:R.length)!==null&&In!==void 0?In:0},"getUserEventSubscriptionsCount"),ei=s(h=>Zr(h)>0||Ur(h)>0,"hasEventSubscriptions");var pr;const Gi=s(h=>{var y,P;return(pr=h==null||(y=h.settings)===null||y===void 0||(P=y.allowed_ip_address_ranges)===null||P===void 0?void 0:P.length)!==null&&pr!==void 0?pr:0},"getAllowedIpRangesCount"),Rt=new kt.Ay("developer_app_settings"),un=s(h=>{let{text:y,info:P,count:R}=h;return _.createElement("div",{className:"p-new_app_modal__confirm_row",key:(0,$.snakeCase)(y)},_.createElement("strong",null,y,R?` (${R})`:""),P?_.createElement("span",null,P):null)},"renderRow"),ji=s(h=>{let{hasInitialManifest:y=!1}=h;const P=(0,pe.d4)(E),R=P&&Dr(P);if(!R)return null;const U=Bi(R),K=U?_.createElement("div",{className:"p-new_app_modal__bg_color",style:{backgroundColor:U}}):null,re=_.createElement("strong",null,sa(R)),S=[],f=[],v=[],x=[],k=Wi(R);(0,$.isEmpty)(k)||S.push(un({text:Rt.t("Bot Scopes"),count:k.length,info:k.join(", ")}));const T=_i(R);(0,$.isEmpty)(T)||S.push(un({text:Rt.t("User Scopes"),count:T.length,info:T.join(", ")}));const D=Si(R);(0,$.isEmpty)(D)||S.push(un({text:Rt.t("Redirect URLs"),count:D.length,info:D.join(", ")})),(0,$.isEmpty)(S)||x.push({id:"oauth",title:Rt.t("OAuth"),content:S});let F;const j=zi(R),z=Fr(R);j&&z?F=Rt.t("Home & Message tab enabled"):j?F=Rt.t("Home tab enabled"):z&&(F=Rt.t("Message tab enabled")),f.push(un({text:Rt.t("App Home"),info:F}));const Q=Cn(R);(0,$.isEmpty)(Q)||f.push(un({text:Rt.t("Bot User Name"),info:Q}));const ce=xi(R);ce>0&&f.push(un({text:Rt.t("Shortcuts"),count:ce}));const ie=zr(R);ie>0&&f.push(un({text:Rt.t("Slash Commands"),count:ie}));const de=wi(R);de>0&&f.push(un({text:Rt.t("Workflow Steps"),count:de}));const me=Ui(R);if((0,$.isEmpty)(me)||f.push(un({text:Rt.t("Unfurl Domains"),count:me.length,info:me.join(", ")})),(0,$.isEmpty)(f)||x.push({id:"features",title:Rt.t("Features"),content:f}),la(R)?(v.push(un({text:Rt.t("Socket Mode")})),v.push(un({text:Rt.t("Interactivity (via Socket Mode)")}))):qr(R)&&v.push(un({text:Rt.t("Interactivity")})),ei(R)){let ne;const q=Zr(R),se=Ur(R);q===0?ne=Rt.t("{count, plural, =1 {# user event} other {# user events} }",{count:se}):se===0?ne=Rt.t("{count, plural, =1 {# bot event} other {# bot events} }",{count:q}):ne=Rt.t("{botEventsCount, plural, =1 {# bot event} other {# bot events} }, {userEventsCount, plural, =1 {# user event} other {# user events} }",{botEventsCount:q,userEventsCount:se}),v.push(un({text:Rt.t("Event Subscriptions"),info:ne}))}const oe=Gi(R);return oe>0&&v.push(un({text:Rt.t("Allowed IP ranges"),count:oe})),ki(R)&&v.push(un({text:Rt.t("Org Deploy")})),(0,$.isEmpty)(v)||x.push({id:"settings",title:Rt.t("Settings"),content:v}),_.createElement(_.Fragment,null,y&&_.createElement("p",null,Rt.t("This is a read-only summary of the app you\u2019ll be creating from this tutorial. You can view & edit any details like basic app info, or request URL options in the JSON file of this tutorial app\u2019s configurations. ")),_.createElement("div",{className:"p-new_app_modal__color_name_wrapper"},K,re),(0,$.isEmpty)(x)?null:_.createElement(rr.A,{className:"margin_top_100",tabs:x}))},"ConfirmationInfo");ji.displayName="ConfirmationInfo";const Vi=ji;function ti(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(ti,"manifest_confirm_step_asyncGeneratorStep");function ca(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){ti(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){ti(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(ca,"manifest_confirm_step_asyncToGenerator");const On=new kt.Ay("developer_app_settings"),Ci=s(h=>{let{isManifestFromExternal:y=!1,isManifestInvalid:P=!1,hasInitialManifest:R=!1,onPrevStep:U,onNextStep:K,onCreateApp:re,stepNumber:S}=h;const[f,v]=(0,_.useState)(!1),[x,k]=(0,_.useState)(null),T=(0,_.useCallback)(ca(function*(){k(null),v(!0);try{yield re(!0)}catch(F){(F==null?void 0:F.name)===it.Ratelimited?k(On.t("You will need to wait a few minutes before creating another app on this workspace.",{fallbackHash:"7cc13347da7a5fc3a6f4ff51054fb123ad856b47"})):k(On.t("Hmm, something went wrong. Try Again?")),v(!1)}}),[re]),D=(0,_.useMemo)(()=>{if(y)return P?_.createElement(Le.Ay,{className:"margin_bottom_100",heading:On.t("We can\u2019t render a summary or create this app"),level:Le.A_.error},On.t("There are errors in the 3rd party manifest file used to configure this app - please contact the 3rd party, or create a new app from scratch.")):_.createElement(Le.Ay,{className:"margin_bottom_100",heading:On.t("This app is created from a 3rd party manifest"),level:Le.A_.warning},On.t("Always verify URLs and permissions below."))},[y,P]);return _.createElement(kn,{title:On.t("Review summary & create your app"),cancelButtonText:R?On.t("Edit Configurations"):On.t("Back"),onCancel:U,submitButtonText:P?On.t("Create app from scratch"):On.t("Create"),disableSubmitButton:!1,onSubmit:P?K:T,submitLoading:f,stepNumber:S},x&&_.createElement(Le.Ay,{className:"margin_bottom_100",level:Le.A_.error},x),D,!P&&_.createElement(Vi,{hasInitialManifest:R}))},"ManifestConfirmStep");Ci.displayName="ManifestConfirmStep";const Ki=Ci;var ni=H(676531),Ni=H(868682);const or=new kt.Ay("developer_app_settings"),Lr=s(h=>{let{createAutomationUrl:y,onCreate:P,onManifest:R}=h;return _.createElement(kn,{showFooter:!1,title:or.t("Create an app")},y!==null&&_.createElement(Le.Ay,{type:"inline",level:"default",icon:"slack",align:"left",className:"p-new_app_modal__next_gen_alert"},_.createElement("span",null,or.rt("<strong>Create a Slack automation with the next generation Slack platform.</strong> Develop Functions and Workflows using the Slack CLI. <Link>Learn more</Link>.",{"<strong>":U=>{let{text:K}=U;return _.createElement("strong",null,K)},"<Link>":U=>{let{text:K}=U;return _.createElement(xt.A,{invert:!0,href:y},K)}}))),_.createElement("div",null,or.t("Choose how you\u2019d like to configure your app\u2019s scopes and settings.")),_.createElement(Ni.A,{className:"p-new_app_modal__initial_button",onClick:P,"data-qa":"initial_create_button"},_.createElement("div",null,_.createElement("div",{className:"p-new_app_modal__initial_button_heading"},or.t("From scratch")),_.createElement("p",{className:"margin_0"},or.t("Use our configuration UI to manually add basic info, scopes, settings, & features to your app."))),_.createElement(ni.A,{type:"chevron-large-right",className:"p-new_app_modal__initial_chevron"})),_.createElement(Ni.A,{className:"p-new_app_modal__initial_button p-new_app_modal__initial_button--bordered",onClick:R,"data-qa":"initial_manifest_button"},_.createElement("div",null,_.createElement("div",{className:"p-new_app_modal__initial_button_heading"},or.t("From an app manifest")),_.createElement("p",{className:"margin_0"},or.t("Use a manifest file to add your app\u2019s basic info, scopes, settings & features to your app."))),_.createElement(ni.A,{type:"chevron-large-right",className:"p-new_app_modal__initial_chevron"})),_.createElement("p",{className:"p-new_app_modal__initial_help"},or.rt("Need help? Check our <Link1>documentation</Link1>, or <Link2>see an example</Link2>",null,U=>{let{tag:K,text:re}=U;return _.createElement(xt.A,{invert:!0,href:K==="Link1"?"/tools/manifests":"/tutorials"},re)})))},"InitialStep");var nn;(function(h){h.INITIAL="initial",h.CREATE="create",h.MANIFEST_TEAM_SELECT="manifest_select",h.MANIFEST_INPUT="manifest_input",h.MANIFEST_CONFIRM="manifest_confirm"})(nn||(nn={}));const ua=JSON.parse('{"display_information":{"name":"Demo App"},"settings":{"org_deploy_enabled":false,"socket_mode_enabled":false,"is_hosted":false,"token_rotation_enabled":false}}');function Ai(h,y,P,R,U,K,re){try{var S=h[K](re),f=S.value}catch(v){P(v);return}S.done?y(f):Promise.resolve(f).then(R,U)}s(Ai,"new_app_modal_asyncGeneratorStep");function Pr(h){return function(){var y=this,P=arguments;return new Promise(function(R,U){var K=h.apply(y,P);function re(f){Ai(K,R,U,re,S,"next",f)}s(re,"_next");function S(f){Ai(K,R,U,re,S,"throw",f)}s(S,"_throw"),re(void 0)})}}s(Pr,"new_app_modal_asyncToGenerator");const Zt="new_app_modal",da="automation/quickstart",ii=s(h=>{let{initialJson:y,initialYaml:P,teams:R,manifestName:U,returnUrl:K,isInApiDocs:re=!1,isInExperiementHermesStable:S}=h;const f=(0,$e.wA)(),v=(0,bt.A)(),x=(0,pe.d4)(se=>!(0,$.isEmpty)(A(se))),k=!(0,$.isEmpty)(y),T=!(0,$.isEmpty)(P),D=k||T,F=(0,$.isEmpty)(U)&&D,j=D?nn.MANIFEST_TEAM_SELECT:nn.INITIAL,[z,Q]=(0,_.useState)(j);(0,_.useEffect)(()=>{if(D){const se=P?(0,fe.eH)(P):y;f((0,we.Lf)(se))}else try{const se=JSON.stringify(ua,null,vi[wt.json]);f((0,we.Lf)(se))}catch(se){v.error("Manifest JSON stringify error:",se)}},[f,k,D,y,P,v]);const ce=s(()=>{f((0,a.O)()),f((0,we.cL)())},"onClose"),ie=function(){var se=Pr(function*(Ke){let Ve;F||re?Ve="devtracks":Ke&&(Ve="textfield");const Fe=yield f(Xt({referrer:Ve})),Be=Fe==null?void 0:Fe.appId;(0,at.mn)(Be,{showWelcomeModal:D,showInstallCoachmark:Ke,showTutorialRedirect:!!U,tutorialTitle:void 0,tutorialRedirect:K}),mi(Be,!0)});return s(function(Ve){return se.apply(this,arguments)},"onCreateApp")}(),de=function(){var se=Pr(function*(){const Ke=D?nn.MANIFEST_CONFIRM:nn.MANIFEST_INPUT;Q(Ke),D&&F&&(yield f(Ye(P?{yaml:P}:{json:y})))});return s(function(){return se.apply(this,arguments)},"manifestTeamSelectNext")}(),me=s(()=>{D?ce():Q(nn.MANIFEST_TEAM_SELECT)},"manifestInputPrev"),oe=(0,_.useMemo)(()=>S||k&&F?wt.json:wt.yaml,[k,S,F]),ne=S?`https://api.${(0,B.Xk)()}/${da}`:null;let q;switch(z){case nn.CREATE:q=_.createElement(Cr,{teams:R,onCancel:ce,onCreateApp:ie});break;case nn.MANIFEST_TEAM_SELECT:q=_.createElement(er,{teams:R,onCancel:ce,onNextStep:de,stepNumber:D?void 0:1});break;case nn.MANIFEST_INPUT:q=_.createElement(Xr,{isManifestFromExternal:F,hasInitialManifest:D,onPrevStep:me,onNextStep:()=>Q(nn.MANIFEST_CONFIRM),stepNumber:D?void 0:2,mode:oe,isInExperiementHermesStable:S});break;case nn.MANIFEST_CONFIRM:q=_.createElement(Ki,{isManifestFromExternal:F,hasInitialManifest:D,onPrevStep:()=>Q(nn.MANIFEST_INPUT),onNextStep:()=>Q(nn.CREATE),onCreateApp:ie,stepNumber:D?void 0:3,isManifestInvalid:x});break;case nn.INITIAL:default:q=_.createElement(Lr,{createAutomationUrl:ne,onCreate:()=>Q(nn.CREATE),onManifest:()=>Q(nn.MANIFEST_TEAM_SELECT)})}return _.createElement(Y.A,{className:"p-new_app_modal",labelledby:"base_dialog_title",closeModal:ce,role:"alertdialog",dataQa:Zt,bodyOpenClassName:"position_fixed"},q)},"NewAppModal");ii.displayName="NewAppModal";const Gr=ii},847021:(Jt,nt,H)=>{"use strict";var _=H(590490),$e=H(639714),pe=H(120312),$=H.n(pe),Y=H(364439),a=H(296540),fe=H(463329),B=H(404197),we=H(170426),ve=H(950805),st=H(766665),Re=H(130041),te=H(864240),E=H(490491),M=H(849930),A=H(850406);const C=new ve.Ay("developer_app_settings");var W;(function(S){S.yaml="yaml",S.json="json"})(W||(W={}));const X=s(S=>{let{initialJson:f,initialYaml:v}=S;const x=(0,fe.wA)();let k=v,T=f;k&&T||(k&&(T=(0,A.eH)(k)),T&&(k=(0,A.sc)(T)));const D=s(()=>{x((0,te.O)())},"onClose"),F=C.t("YAML"),j=C.t("JSON"),z=(0,a.useMemo)(()=>[{title:F,id:W.yaml,"data-qa":W.yaml,content:a.createElement("pre",{className:"apiCode__pre apiDocs__viewManifestCode apiDocs__viewManifestCode--yaml"},a.createElement("code",{className:"hljs yaml"},k))},{title:j,id:W.json,"data-qa":W.json,content:a.createElement("pre",{className:"apiCode__pre apiDocs__viewManifestCode apiDocs__viewManifestCode--json"},a.createElement("code",{className:"hljs json"},T))}],[T,j,k,F]);return k&&T?a.createElement(E.A,{className:"apiDocs__viewManifestModal",closeModal:D,labelledby:"base_dialog_title"},a.createElement(M.rQ,null,a.createElement(M.Rc,{title:C.t("View app manifest")})),a.createElement(M.$m,null,a.createElement("p",null,C.t("This is the manifest of an app that is pre-configured for this tutorial.")),a.createElement("p",null,C.rt("It contains configuration for basic info, scopes, settings, and features. For help on how this works, you can check out our <Link1>documentation</Link1>.",null,Q=>{let{tag:ce,text:ie}=Q;return a.createElement(st.A,{invert:!0,href:ce==="Link1"?"/reference/manifests":"/tutorials"},ie)})),a.createElement(Re.A,{defaultTabId:W.yaml,tabMenuClassnames:"apiDocs__viewManifestTabs",tabs:z}))):a.createElement(E.A,{className:"p-new_app_modal",labelledby:"base_dialog_title"},a.createElement(M.rQ,null,a.createElement(M.Rc,{title:C.t("View app manifest")})),a.createElement(M.$m,null,C.t("No manifest found")))},"ViewManifestModal");X.displayName="ViewManifestModal";const O=X;function J(){return J=Object.assign||function(S){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(S[x]=v[x])}return S},J.apply(this,arguments)}s(J,"_extends");const Z=s(S=>{let{initialJson:f,initialYaml:v}=S;const x=(0,fe.wA)(),k=(0,a.useCallback)(D=>x((0,we.q)({element:a.createElement(O,J({},D))})),[x]),T=s(()=>{k({initialJson:f,initialYaml:v})},"clickHandler");return a.createElement("div",null,a.createElement(B.Ay,{type:"outline",size:"medium",onClick:T},"View settings"),a.createElement(Y.A,null))},"ViewManifestModalContainer");Z.displayName="ViewManifestModalContainer";const xe=Z;var _e=H(676531),ke=H(729807);function Ee(){return Ee=Object.assign||function(S){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(S[x]=v[x])}return S},Ee.apply(this,arguments)}s(Ee,"create_app_manifest_modal_container_extends");const w=s(S=>{let{initialJson:f,initialYaml:v,manifestName:x,returnUrl:k,teams:T}=S;const D=(0,fe.wA)(),F=(0,a.useCallback)(z=>D((0,we.q)({element:a.createElement(ke.A,Ee({},z))})),[D]),j=s(()=>{F({initialJson:f,initialYaml:v,manifestName:x,returnUrl:k,teams:T,isInApiDocs:!0})},"clickHandler");return a.createElement("div",null,a.createElement(B.Ay,{type:"primary",size:"medium",onClick:j},a.createElement(_e.A,{type:"magic",size:"inherit"})," Create app"),a.createElement(Y.A,null))},"CreateAppManifestModalContainer");w.displayName="CreateAppManifestModalContainer";const Se=w,N=s(S=>{let{entry:f}=S;const v=["apiChangelog__entry",`apiChangelog__entry--${f.category}`,`apiChangelog__entry--${f.kind}`];var x;(x=f.deprecation_notice)!==null&&x!==void 0&&x&&v.push("apiChangelog__entry--deprecation");var k;return a.createElement("div",{className:v.join(" ")},(k=f.deprecation_notice)!==null&&k!==void 0&&k?a.createElement("div",{className:"apiChangelog__category apiChangelog__category--deprecation"},"Deprecation"):a.createElement("div",{className:`apiChangelog__category apiChangelog__category--${f.category}`},f.category),a.createElement("div",{className:"apiChangelog__body"},a.createElement("div",{className:"apiChangelog__text"},a.createElement("p",{dangerouslySetInnerHTML:{__html:f.text}}))))},"ApiDocsChangelogEntry");N.displayName="ApiDocsChangelogEntry";const He=N,Xe=s(S=>{let{entries:f,year:v="",month:x="",priorityList:k=!1}=S;return a.createElement("div",{className:"apiChangelog__group"},k?a.createElement("div",null,a.createElement("h2",null,"Important updates"),f.map(T=>a.createElement(He,{key:`group_priority_entry_${T.date}`,entry:T}))):a.createElement("div",null,a.createElement("h2",null,x," ",v),f.map(T=>a.createElement(He,{key:`group_${v}-${x}_entry_${T.date}_${T.text.replace(/[^\w-]/g,"")}`,entry:T}))))},"ApiDocsChangelogGroup");Xe.displayName="ApiDocsChangelogGroup";const yt=Xe,Ft=s(S=>{let{entriesGrouped:f,year:v,priorityEntries:x=[]}=S;const[k,T]=(0,a.useState)(v),[D,F]=(0,a.useState)(f),j=new Date().getFullYear().toString(),[z,Q]=(0,a.useState)(Object.values(x).length>0&&k===""),ce=[...new Set(Object.keys(f).map(ie=>new Date(ie).getFullYear()))];return(0,a.useEffect)(()=>{let ie=f;if(k&&k!==""){const de=Object.keys(f).filter(me=>new Date(me).getFullYear().toString()===k);ie={},de.forEach(me=>{ie[me]=f[me]})}F(ie)},[f,k]),(0,a.useEffect)(()=>{const ie=new URL(window.location.href);k&&k!==""?(ie.searchParams.set("year",k),window.history.pushState(null,"",ie.toString())):(ie.searchParams.delete("year"),window.history.pushState(null,"",ie.toString())),Q(Object.values(x).length>0&&k==="")},[k,x,j]),a.createElement("div",{className:"apiChangelog__container"},a.createElement("div",{className:"apiChangelog__filters"},a.createElement("div",{className:"apiChangelog__filtersLabel"},"Show only"),a.createElement("div",{className:"apiChangelog__filterButtons"},ce.map(ie=>{const de=["apiChangelog__filterButton"],me=ie.toString()===k;return me&&de.push("apiChangelog__filterButton--active"),a.createElement("span",{tabIndex:0,role:"menuitem",key:`filter_${ie}`,className:de.join(" "),onClick:()=>{T(me?"":ie.toString())}},ie)}))),z?a.createElement("div",{className:"apiChangelog__list apiChangelog__list--priority"},a.createElement(yt,{key:"group__priority",entries:Object.values(x),priorityList:!0})):null,a.createElement("div",{className:"apiChangelog__list"},Object.keys(D).map(ie=>{const de=new Date(ie);return a.createElement(yt,{key:`group__${ie}`,entries:D[ie],year:de.toLocaleString((0,ve.Yp)(),{year:"numeric"}),month:de.toLocaleString((0,ve.Yp)(),{month:"long"})})})))},"ApiDocsChangelog");Ft.displayName="ApiDocsChangelog";const Ge=Ft;var Ze=H(426583);const Bt=s(S=>{let{iconProps:f}=S;return a.createElement(Ze.A,{name:f.name})},"ApiDocsIcon");Bt.displayName="ApiDocsIcon";const Pe=Bt;var le=H(952240),Ae=H(74335),he=H(914279),ge=H(453058);const Ne=new ve.Ay("developer_app_settings"),rt=s(S=>{let{rating:f,onSubmitParent:v,variant:x}=S;const[k,T]=(0,a.useState)(""),[D,F]=(0,a.useState)("default"),j=(0,fe.wA)(),z=["angry","puzzled","neutral","thumbsdown","clown_face","sob","wastebasket"],Q=z.includes(f)?"What can we improve?":"What did you like?",ce=z.includes(f)?"disliked":"liked",ie=x==="futurePlatform"?"the next-generation platform":"this page",de=(0,a.useCallback)(()=>{j((0,te.O)())},[j]),me=(0,a.useCallback)(()=>{v(k,f,D),j((0,te.O)())},[j,v,k,f,D]),oe=(0,a.useCallback)(q=>{T(q)},[]),ne=(0,a.useCallback)(q=>{F(q.target.value)},[]);return a.createElement(E.A,{className:"apiFeedback__modal",closeModal:de},a.createElement(M.rQ,null,a.createElement(M.Rc,{title:Ne.t("Send your feedback")})),a.createElement(M.$m,null,a.createElement(M.qf,null,a.createElement(le.A,{text:Q,htmlFor:"feedback-comments",id:"feedback-comments-label",optional:!0},a.createElement(Ae.A,{className:"apiFeedback__commentsTextarea",hintText:`Please let us know what you ${ce} about ${ie} so we can keep improving.`,id:"feedback-comments-textarea",isDisabled:!1,isRequired:!1,labelId:"feedback-comments-label",name:"feedback-comments",size:"medium",value:k,onChange:oe}))),x==="futurePlatform"?null:a.createElement(M.qf,null,a.createElement(ge.A,{legendText:Ne.t("What\u2019s your feedback about?")},a.createElement(le.A,{text:Ne.t("The page itself"),type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"feedbackTargetPage",name:"feedbackTargetPage",checked:D==="page"||D==="default",onChange:ne,value:"page"})),a.createElement(le.A,{text:Ne.t("Feature described on the page"),type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"feedbackTargetProduct",name:"feedbackTargetProduct",checked:D==="product",onChange:ne,value:"product"})),a.createElement(le.A,{text:Ne.t("Both"),type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"feedbackTargetBoth",name:"feedbackTargetBoth",checked:D==="both",onChange:ne,value:"both"}))))),a.createElement(M.jl,null,a.createElement(M.ox,null,a.createElement(M.s_,{type:"outline"},"Cancel"),a.createElement(B.$n,{onClick:me},"Send"))))},"ApiDocsFeedbackModal");rt.displayName="ApiDocsFeedbackModal";const an=rt,qe=s(S=>{let{slug:f,feedbackOptions:v,helpText:x,variant:k}=S;const[T,D]=(0,a.useState)(!1),F=(0,fe.wA)(),j=(0,a.useCallback)((ie,de,me)=>{D(!0);const oe=new FormData;oe.append("vote",de),oe.append("text",ie),oe.append("target",me),oe.append("path",f),oe.append("future","true"),oe.append("variant",k);try{fetch("/feedback/submit",{method:"POST",body:oe})}catch{}},[f,k]),z=(0,a.useCallback)(ie=>F((0,we.q)({element:a.createElement(an,{rating:ie,variant:k,onSubmitParent:j})})),[F,j,k]),Q=(0,a.useCallback)(ie=>{z(ie.target.value)},[z]),ce=[];for(const[ie,de]of Object.entries(v))ce.push(a.createElement("button",{key:ie,type:"submit",name:"vote",onClick:Q,className:"apiFeedback__button",value:ie},String.fromCodePoint(de)));return a.createElement("div",{className:"apiFeedback"},T?a.createElement("div",{className:"apiFeedback__helpText apiFeedback__helpText--submitted"},a.createElement(_e.A,{type:"check-circle-o-large",inline:!0,size:"inherit"}),a.createElement("span",null,"Thank you for your feedback!")):a.createElement("div",null,a.createElement("p",{className:"apiFeedback__helpText"},x),a.createElement("div",{className:"apiFeedback__buttons"},ce)),a.createElement(Y.A,null))},"ApiDocsFeedback");qe.displayName="ApiDocsFeedback";const Ot=qe;var pt=H(441631),tt=H(912143),dt=H(389667),Mt=H(730965);const on=s(S=>{let{text:f,id:v,value:x,scaleOptions:k,onValueUpdate:T}=S;return a.createElement("section",{className:`apiSurvey__question apiSurvey__question--scale apiSurvey__question--value${x}`},a.createElement("div",{className:"apiSurvey__questionText"},a.createElement("legend",{className:"c-legend"},f)),a.createElement("div",{className:"apiSurvey__scaleRow"},Object.entries(k).map((D,F)=>{let[j,z]=D;return a.createElement("div",{key:`apiSurvey__scaleOption--${z}`,className:`apiSurvey__scaleColumn apiSurvey__scaleColumn--${F+1}`},a.createElement("input",{type:"radio",id:`scale_${v}${F+1}`,name:v,value:F+1,onChange:T}))})),a.createElement("div",{className:"apiSurvey__scaleLabels"},Object.entries(k).map((D,F)=>{let[j,z]=D;return a.createElement("label",{key:`apiSurvey__scaleOptionLabel--${z}`,htmlFor:`scale_${v}${F+1}`,className:"apiSurvey__scaleLabel"},z)})))},"ApiDocsSurveyQuestionScale");on.displayName="ApiDocsSurveyQuestionScale";const Dn=on,lt=s(S=>{let{text:f,id:v,value:x,scaleOptions:k,onValueUpdate:T,required:D}=S;return a.createElement(ge.A,{className:"apiSurvey__radioGroup"},a.createElement("span",{className:"apiSurvey__radioGroupText"},f),k.map(F=>a.createElement("div",{className:"apiSurvey__radioOption",key:`option_${v}-${F}`},a.createElement(he.A,{id:`${v}-${F}`,name:v,value:F,checked:x===F,onChange:T,required:D}),a.createElement("span",null,F))))},"ApiDocsSurveyQuestionPickOne");lt.displayName="ApiDocsSurveyQuestionPickOne";const Je=lt;var et=H(959896),Ye=H(530177);const ht="I'd like to create a workspace in my sandbox",Tt="I'd like to create a user in my sandbox",it=s(S=>{let{text:f,id:v,value:x,scaleOptions:k,onValueUpdate:T,required:D,isDevProgram:F=!1,hasToolTip:j=!1}=S;const z=x.split(";");return a.createElement("div",{className:"apiSurvey__checkboxGroup"},a.createElement("span",{className:"apiSurvey__checkboxGroupText"},f),F&&j?k.map(Q=>a.createElement("div",{className:"apiSurvey__checkboxOption",key:`option_${v}-${Q}`},a.createElement(et.A,{id:`${v}-${Q}`,name:v,value:Q,checked:z.includes(Q),onChange:T,required:D}),a.createElement("span",null,Q),Q===ht?a.createElement(Ye.Ay,{tip:"A workspace with the same name as your sandbox will be created in the sandbox",position:"top"},a.createElement("div",{className:"devProgram__aligned"},a.createElement(Ze.A,{name:"help",variation:"filled"}))):null,Q===Tt?a.createElement(Ye.Ay,{tip:"A user by the name of Demo User will be added to your sandbox, once created you can sign in as that user with the same password you're using for your sandbox",position:"top"},a.createElement("div",{className:"devProgram__aligned"},a.createElement(Ze.A,{name:"help",variation:"filled"}))):null)):k.map(Q=>a.createElement("div",{className:"apiSurvey__checkboxOption",key:`option_${v}-${Q}`},a.createElement(et.A,{id:`${v}-${Q}`,name:v,value:Q,checked:z.includes(Q),onChange:T,required:D}),a.createElement("span",null,Q))))},"ApiDocsSurveyQuestionPickMultiple");it.displayName="ApiDocsSurveyQuestionPickMultiple";const mt=it,ct=["Yes","No"],jt={1:"1",2:"2",3:"3",4:"4",5:"5"},Xt=s(S=>{let{question:f,updateParentResponse:v,required:x,currentValue:k="",showValidity:T=!1,subText:D="",hasCustomError:F=!1,isDevProgram:j=!1}=S,z=null;const[Q,ce]=(0,a.useState)(k),ie=x&&Q!=="",de=!ie&&T,me=(0,a.useCallback)(Be=>{const Qe=Be.target.value;ce(_t=>Qe),v(f.id,f.type,Qe,f.text)},[ce,v,f]),oe=(0,a.useCallback)(Be=>{ce(Qe=>Be),v(f.id,f.type,Be,f.text)},[ce,v,f]),ne=(0,a.useCallback)(Be=>{const Qe=Be.target.value,_t=Be.target.checked;ce(Nt=>{const Oe=Nt.split(";"),Ue=Oe.indexOf(Qe);Ue!==-1?_t||Oe.splice(Ue,1):_t&&Oe.push(Qe);const Et=Oe.join(";");return v(f.id,f.type,Et,f.text),Et})},[ce,v,f]);switch(f.type){case"text":z=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Mt.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:oe,size:"medium",value:Q,isRequired:x}),D?a.createElement("div",{className:"c-form__sub-text"},D):a.createElement("div",null));break;case"longText":z=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Ae.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:oe,size:"medium",value:Q,isRequired:x}));break;case"scale":var q;z=a.createElement(Dn,{text:f.text,id:f.id,value:Q,scaleOptions:(q=f.scaleOptions)!==null&&q!==void 0?q:jt,onValueUpdate:me});break;case"pickOne":var se;z=a.createElement(Je,{text:f.text,id:f.id,value:Q,scaleOptions:(se=f.options)!==null&&se!==void 0?se:ct,onValueUpdate:me,required:x});break;case"yesNo":z=a.createElement(Je,{text:f.text,id:f.id,value:Q,scaleOptions:ct,onValueUpdate:me,required:x});break;case"pickMultiple":if(j){var Ke;z=a.createElement(mt,{text:f.text,id:f.id,value:Q,scaleOptions:(Ke=f.options)!==null&&Ke!==void 0?Ke:ct,onValueUpdate:ne,required:!1,isDevProgram:!0,hasToolTip:!0})}else{var Ve;z=a.createElement(mt,{text:f.text,id:f.id,value:Q,scaleOptions:(Ve=f.options)!==null&&Ve!==void 0?Ve:ct,onValueUpdate:ne,required:!0})}break;case"password":z=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Mt.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:oe,size:"medium",value:Q,isRequired:x,type:"password"}),D?a.createElement("div",{className:"c-form__sub-text"},D):a.createElement("div",null));break;default:break}let Fe=[];return j?Fe=["apiSurvey__questionHolderDevProgram",`apiSurvey__questionHolderType--${f.type}`,`apiSurvey__questionHolder--validity${ie}`]:Fe=["apiSurvey__questionHolder",`apiSurvey__questionHolderType--${f.type}`,`apiSurvey__questionHolder--validity${ie}`],de&&Fe.push(`${Fe[0]}--error`),F&&j&&f.id==="domain"&&Fe.push(`${Fe[0]}--domain-error`),F&&j&&f.id==="org_name"&&Fe.push(`${Fe[0]}--org-name-error`),F&&j&&f.id==="username"&&Fe.push(`${Fe[0]}--username-error`),F&&j&&f.id==="password"&&Fe.push(`${Fe[0]}--password-error`),a.createElement("span",{className:Fe.join(" ")},z)},"ApiDocsSurveyQuestion");Xt.displayName="ApiDocsSurveyQuestion";const bt=Xt,at=s(S=>{let{onGroupComplete:f,survey:v}=S;var x;const[k,T]=(0,a.useState)(0),D=v.questionGroups[k],[F,j]=(0,a.useState)(!D.required),[z,Q]=(0,a.useState)(!1),[ce,ie]=(0,a.useState)({}),de=(0,fe.wA)(),me=(0,a.useCallback)(()=>{de((0,te.O)())},[de]),oe=(0,a.useCallback)(function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;f(ce),Be&&de((0,te.O)())},[de,f,ce]),ne=(0,a.useCallback)(()=>{F?(T(Be=>Be+1),oe(!1),Q(!1),ie({})):Q(!0)},[T,F,oe]),q=v.questionGroups.length,se=k<q-1,Ke=(0,a.useCallback)((Be,Qe,_t,Nt)=>{ie(Oe=>({...Oe,[Be]:{type:Qe,value:_t,questionText:Nt}}))},[ie]);(0,a.useEffect)(()=>{if(D.required){let Nt=!0;var Be;for(const Oe of(Be=D.questions)!==null&&Be!==void 0?Be:[]){var Qe;const Ue=(Qe=ce[Oe.id])!==null&&Qe!==void 0?Qe:null;if(Ue){var _t;if(((_t=Ue.value)!==null&&_t!==void 0?_t:"")===""){Nt=!1;break}}else{Nt=!1;break}}j(Nt)}},[ce,D]);const Ve=["apiSurvey__questionGroup"];z&&Ve.push("apiSurvey__questionGroup--showValidity");var Fe;return a.createElement(E.A,{className:"apiSurvey__modal",closeModal:me},a.createElement(M.rQ,null,a.createElement(M.Rc,{title:D.title})),a.createElement(M.$m,{className:"apiSurvey__modalPreamble"},a.createElement("p",null,D.preamble)),D.questions?a.createElement(M.$m,{className:Ve.join(" ")},(x=D.questions)===null||x===void 0?void 0:x.map(Be=>{var Qe;return a.createElement(M.qf,{key:`question_section_${Be.id}`},a.createElement(bt,{question:Be,updateParentResponse:Ke,currentValue:(Qe=ce[Be.id])===null||Qe===void 0?void 0:Qe.value,required:(Fe=D.required)!==null&&Fe!==void 0?Fe:!1,showValidity:z}))})):null,a.createElement(M.jl,null,a.createElement("div",null,`Step ${k+1} of ${q}`),a.createElement(M.ox,null,a.createElement(M.s_,{type:"outline"},"Quit"),se?a.createElement(B.$n,{onClick:ne},"Next step"):a.createElement(B.$n,{onClick:oe},"Send survey"))))},"ApiDocsSurveyModal");at.displayName="ApiDocsSurveyModal";const kt=at,Te=s(S=>{let{survey:f,crumb:v,trigger:x,triggerText:k="Start survey"}=S;const[T,D]=(0,a.useState)(!1),[F,j]=(0,a.useState)(""),[z,Q]=(0,a.useState)(!1),[ce,ie]=(0,a.useState)(x!=="question"),[de,me]=(0,a.useState)({}),oe=(0,fe.wA)();var ne;const q=(ne=f.questionGroups[0].required)!==null&&ne!==void 0?ne:!1,se=(0,a.useCallback)(()=>{D(!0),Q(!1);const Oe=new FormData;if(Oe.append("label",f.label),Oe.append("crumb",v),Oe.append("ts",F),Oe.append("path",window.location.pathname),Object.keys(de).length!==0)try{Oe.append("survey",JSON.stringify(de)),fetch("/survey/submit",{method:"POST",body:Oe}).then(Ue=>Ue.json()).then(Ue=>{(0,tt.n0)("future_survey_promo",1,30,`.${(0,dt.Xk)()}`),j(Et=>{if(Et===""){var zt;return(zt=Ue.timestamp)!==null&&zt!==void 0?zt:""}return Et})})}catch{}},[de,f,v,F]),Ke=(0,a.useCallback)(Oe=>{me(Ue=>({...Ue,...Oe})),Q(!0)},[me]);(0,a.useEffect)(()=>{z&&se()},[de,z,se]);const Ve=(0,a.useCallback)((Oe,Ue,Et,zt)=>{me(Rn=>({...Rn,[Oe]:{type:Ue,value:Et,questionText:zt}})),ie(Et!=="")},[me]),Fe=(0,a.useCallback)(()=>oe((0,we.q)({element:a.createElement(kt,{survey:f,onGroupComplete:Ke})})),[oe,Ke,f]),Be=(0,a.useCallback)(()=>{x==="question"?f.questionGroups.length>0?(se(),q||D(!0),Fe()):se():Fe()},[Fe,f.questionGroups,se,x,q]);let Qe=a.createElement("span",{role:"link",tabIndex:0,onClick:Be,className:"apiSurvey__trigger apiSurvey__trigger--link"},k);x==="button"&&(Qe=a.createElement(pt.Ay,{type:"primary",onClick:Be},k));const _t=f.triggerQuestion;if(x==="question"&&_t){var Nt;Qe=a.createElement("div",{className:"apiSurvey__triggerQuestion"},a.createElement(bt,{required:!0,updateParentResponse:Ve,question:_t,currentValue:(Nt=de[_t.id])===null||Nt===void 0?void 0:Nt.value}),a.createElement(pt.Ay,{className:"apiSurvey__triggerQuestionButton",size:"small",type:"primary",onClick:Be,disabled:!ce},k))}return a.createElement("div",{className:"apiSurvey"},T?a.createElement("div",{className:"apiSurvey__submittedMessage"},a.createElement(Ze.A,{name:"check-circle",inline:!0}),a.createElement("span",null,"Thank you for your feedback!")):Qe,a.createElement(Y.A,{windowId:void 0}))},"ApiDocsSurvey");Te.displayName="ApiDocsSurvey";const Wn=Te;var Wt=H(307415),xt=H(451976),Le=H(390705);const hr=s(S=>{let{item:f,type:v}=S;const x=f.icon?a.createElement(_e.A,{type:f.icon,size:"inherit",inline:!0}):null,k=f.image?a.createElement("img",{src:f.image,alt:""}):null,T=["apiDocsHeaderNavReact__cardItem"];f.color&&T.push(`apiDocsHeaderNavReact__cardItem--${f.color}`),f.subtitle&&T.push("apiDocsHeaderNavReact__cardItem--withSubtitle");let D=a.createElement("a",{className:T.join(" "),href:f.url},x||k?a.createElement("span",{className:"apiDocsHeaderNavReact__cardItemImage"},x||k):null,a.createElement("span",{className:"apiDocsHeaderNavReact__cardItemTitle"},f.title),f.subtitle?a.createElement("span",{className:"apiDocsHeaderNavReact__cardItemSubtitle"},f.subtitle):null);switch(v){case"apps":if(f.appId&&f.image){const F={icons:{image_32:f.image},id:f.appId,name:f.title};D=a.createElement("a",{className:T.join(" "),href:f.url},a.createElement(Le.A,{app:F,showBadge:!1}))}break;case"tutorials":D=a.createElement("div",{className:`apiTracks__trackCardInner apiTracks__trackCardInner--minimal apiTracks__trackCardInner--${f.color}`},a.createElement("span",{className:"apiTracks__trackTitle apiTracks__trackTitle"},a.createElement("a",{className:T.join(" "),href:f.url},f.title)));break;default:break}return D},"ApiDocsHeaderNavCardItem");hr.displayName="ApiDocsHeaderNavCardItem";const Vt=hr,tn=s(S=>{let{items:f,center:v,headerItem:x,footerItems:k,type:T}=S;const D=["apiDocsHeaderNavReact__cardPointer"];x&&D.push("apiDocsHeaderNavReact__cardPointer--withHeader");var F;return a.createElement("div",{className:"apiDocsHeaderNavReact__card"},a.createElement("div",{className:D.join(" "),style:{left:`${v}px`}}),a.createElement("div",{className:"apiDocsHeaderNavReact__cardInner"},x?a.createElement("div",{className:"apiDocsHeaderNavReact__cardHeader"},a.createElement(Vt,{item:x})):null,a.createElement("div",{className:"apiDocsHeaderNavReact__cardItems"},f.map(j=>a.createElement(Vt,{key:`mainItem_${j.title}_${(F=j.appId)!==null&&F!==void 0?F:""}`,item:j,type:T}))),k?a.createElement("div",{className:"apiDocsHeaderNavReact__cardFooter"},k.map(j=>a.createElement(Vt,{key:`footerItem_${j.title}`,item:j}))):null))},"ApiDocsHeaderNavCard");tn.displayName="ApiDocsHeaderNavCard";const Qt=tn,xn=s(()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,"getWidth");function wr(){const[S,f]=(0,a.useState)(xn());return(0,a.useEffect)(()=>{const v=(0,Wt.debounce)(()=>{f(xn())},16,{leading:!0});return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),S}s(wr,"useCurrentWidth");const zn=s(S=>{let{group:f}=S;const v=(0,a.useRef)(null),x=(0,a.useRef)(null),k=(0,a.useRef)(null),T=wr(),[D,F]=(0,a.useState)(0),[j,z]=(0,a.useState)(0),[Q,ce]=(0,a.useState)(!1);(0,a.useLayoutEffect)(()=>{var ne;const q=(ne=v.current)!==null&&ne!==void 0?ne:null;var se;const Ke=(se=x.current)!==null&&se!==void 0?se:null;if(q&&Ke){q.style.removeProperty("display");var Ve;const Fe=(Ve=document.querySelector("#apiDocsHeaderNavNonReact"))!==null&&Ve!==void 0?Ve:null;Fe&&(Fe.style.display="none");const Be=Ke.getBoundingClientRect().left+Ke.getBoundingClientRect().width/2;z(Be);const Qe=Be+q.getBoundingClientRect().width/2;Qe>T?F(0):F(T-Qe),Fe&&Fe.style.removeProperty("display"),q.style.display="none"}},[T]),(0,a.useEffect)(()=>{var ne;const q=(ne=v.current)!==null&&ne!==void 0?ne:null;q&&(Q?q.style.removeProperty("display"):q.style.display="none")},[Q]);const ie=s(ne=>{ce(ne)},"activeChange"),de=s(ne=>{var q;const se=(q=k.current)!==null&&q!==void 0?q:null;se&&(se.style.display=ne?"block":"none"),ce(ne)},"touchActive"),me=["apiDocsHeaderNavReact__navItem",`apiDocsHeaderNavReact__navItem--${f.type}`],oe=["apiDocsHeaderNavReact__cardHolder",`apiDocsHeaderNavReact__cardHolder--${f.type}`];return Q&&me.push("apiDocsHeaderNavReact__navItem--active"),a.createElement("div",{ref:x,onMouseLeave:()=>ie(!1),onBlur:()=>ie(!1),className:me.join(" ")},a.createElement("span",{tabIndex:0,role:"menuitem",onMouseEnter:()=>ie(!0),onMouseDown:ne=>{const q=(0,xt.cX)()?ne.metaKey:ne.ctrlKey;ne.button===0&&!q&&(window.location.href=f.baseUrl),ne.button===0&&q&&window.open(f.baseUrl)},onTouchStart:()=>de(!0),"data-hover-target":f.type,className:"apiDocsHeaderNavReact__navItemLink"},f.label),a.createElement("div",{ref:v,className:oe.join(" "),style:{right:`${D}px`}},a.createElement("div",{ref:k,onTouchStart:()=>de(!1),className:"apiDocsHeaderNavReact__touchCardOverlay"}),a.createElement(Qt,{center:j,type:f.type,items:f.items,headerItem:f.headerItem,footerItems:f.footerItems})))},"ApiDocsHeaderNavItem");zn.displayName="ApiDocsHeaderNavItem";const Ir=zn,mr=s(S=>{let{items:f}=S;return(0,a.useEffect)(()=>{document.body.classList.add("apiDocsHeaderNavReact--active")},[]),a.createElement("div",{className:"apiDocsHeaderNavReact"},a.createElement("div",{className:"apiDocsHeaderNavReact__container"},f.map(v=>a.createElement(Ir,{key:`navItem_type_${v.type}`,group:v}))))},"ApiDocsHeaderNav");mr.displayName="ApiDocsHeaderNav";const wn=mr;var kr=H(252734);const Kr=s(S=>{let{ariaLabel:f,baseUrl:v,options:x}=S;const k=(0,a.useCallback)(T=>{window.location.href=`${v}/${T.value}`},[v]);return a.createElement(kr.Ay,{width:200,options:x,minOptionsListWidth:300,"aria-label":f,placeholderText:f,onOptionSelected:k})},"ApiDocsReferenceSwitcher");Kr.displayName="ApiDocsReferenceSwitcher";const Ln=Kr;var hi=H(841858);const vr=s(S=>{let{items:f,baseClass:v,type:x,initialQuery:k,initialFilter:T="",showHiddenOnload:D=!1,viewerIsAdmin:F=!1,filtersLabel:j,filters:z}=S;var Q;const ce=(Q=window.location.hash.split("#")[1])!==null&&Q!==void 0?Q:"",ie=k!==""?k:ce,[de,me]=(0,a.useState)(ie),[oe,ne]=(0,a.useState)(T),[q,se]=(0,a.useState)(D),[Ke,Ve]=(0,a.useState)(f),[Fe,Be]=(0,a.useState)(!0),Qe=s(Oe=>{Be(!0),me(Oe.target.value)},"filterChange"),_t=s(Oe=>{let Ue=Oe;switch(Oe){case"Events":Ue="Events API";break;case"granular_bot":Ue="Bot";break;case"bot":Ue="Legacy bot";break;case"user":Ue="User";break;case"workspace":Ue="Workspace";break;case"app_level":Ue="App level";break;case"app_config":Ue="Configuration";break;default:break}switch(x){case"scopes":return a.createElement("a",{href:`/docs/token-types#${Oe}`},Ue);default:return Ue}},"formatGroupLabel");_t.displayName="formatGroupLabel";let Nt;if(z||F){let Oe=[];if(z&&(Oe=Oe.concat(z.map(Ue=>{const Et=["apiReferenceFilterableList__filterButton"],zt=Ue.filter===oe;return zt&&Et.push("apiReferenceFilterableList__filterButton--active"),a.createElement("span",{tabIndex:0,role:"menuitem",key:`filter_${Ue.label}`,className:Et.join(" "),onClick:()=>{Be(!0),ne(zt?"":Ue.filter)}},Ue.label)}))),F){const Ue=["apiReferenceFilterableList__filterButton"];q&&Ue.push("apiReferenceFilterableList__filterButton--active"),Oe.push(a.createElement("span",{key:"filters_hidden",role:"menuitem",tabIndex:0,className:Ue.join(" "),onClick:()=>{Be(!0),se(!q)}},a.createElement(_e.A,{type:"eye",size:"inherit",inline:!0})))}Nt=a.createElement("div",{className:"apiReferenceFilterableList__filterButtonRow"},a.createElement("span",{className:"apiReferenceFilterableList__filterButtonsLabel",key:"filters_label"},j??"Filter by"),a.createElement("div",{className:"apiReferenceFilterableList__filterButtons"},Oe))}return(0,a.useEffect)(()=>{let Oe=f;F&&!q&&(Oe=Oe.filter(Ue=>{let{isPublic:Et}=Ue;return Et})),oe&&oe!==""&&(Oe=Oe.filter(Ue=>{let{groups:Et}=Ue;return(Et??[]).find(zt=>zt.toLowerCase().startsWith(oe.toLowerCase()))})),de&&de!==""&&(Oe=Oe.filter(Ue=>{let{name:Et}=Ue;return Et.toLowerCase().includes(de.toLowerCase())})),Be(!1),Ve(Oe)},[de,q,f,F,oe]),(0,a.useEffect)(()=>{const Oe=new URL(window.location.href);de&&de!==""?(Oe.searchParams.set("query",de),window.history.pushState(null,"",Oe.toString())):(Oe.searchParams.delete("query"),window.history.pushState(null,"",Oe.toString()))},[de]),(0,a.useEffect)(()=>{const Oe=new URL(window.location.href);oe&&oe!==""?(Oe.searchParams.set("filter",oe),window.history.pushState(null,"",Oe.toString())):(Oe.searchParams.delete("filter"),window.history.pushState(null,"",Oe.toString()))},[oe]),a.createElement("div",{className:`apiReferenceFilterableList ${v}`},a.createElement("div",{className:"apiReferenceFilterableList__filters"},a.createElement(hi.A,{value:de,"aria-label":`Find ${x}`,className:"apiReferenceFilterableList__filterInput",hasResetButton:!0,placeholder:`Search ${x}`,icon:"code",autoFocus:!0,size:"large",onChange:Qe,isLoading:Fe}),Nt),a.createElement("div",{className:"apiReferenceFilterableList__list"},Ke.length?Ke.map(Oe=>{let{name:Ue,link:Et,isPublic:zt,isDeprecated:Rn,description:At,groups:gt}=Oe,$t=["apiReferenceFilterableList__listItem",`apiReferenceFilterableList__listItem--${Ue}`],Hn=[];return zt||($t.push("apiReferenceFilterableList__listItem--hidden"),Hn.push(a.createElement("span",{className:"apiReference__pill apiReference__pill--hidden"},a.createElement("em",null,"Hidden")))),Rn&&($t.push("apiReferenceFilterableList__listItem--deprecated"),Hn.push(a.createElement("span",{className:"apiReference__pill apiReference__pill--deprecated"},a.createElement("em",null,"Deprecated")))),gt&&gt.length&&($t=$t.concat(gt.map(En=>`apiReferenceFilterableList__listItem--${En}`)),x!=="methods"&&(Hn=Hn.concat(gt.map(En=>a.createElement("span",{key:`item${Ue}groupPill${En}`,className:`apiReference__pill apiReference__pill--${En}`},a.createElement("em",null,_t(En))))))),a.createElement("div",{key:`item__${Ue}`,className:$t.join(" ")},a.createElement("a",{className:"apiReferenceFilterableList__listItemLink",href:Et},Ue.split(".").map((En,ai,sr)=>{let vt=En;return ai!==sr.length-1&&(vt+="."),a.createElement("span",{key:`link_${Ue}_portion_${En}`},vt)})),a.createElement("span",{className:"apiReferenceFilterableList__listItemDescription"},At),a.createElement("span",{className:"apiReferenceFilterableList__listItemGroups"},Hn))}):a.createElement("div",{className:"apiReferenceFilterableList_emptyList"},`No ${x} found.`)))},"ApiDocsFilterableReferenceList");vr.displayName="ApiDocsFilterableReferenceList";const $r=vr;var ur=H(926274),pn=H(865848);const Un=s(S=>{let{apps:f}=S;const[v,x]=(0,a.useState)({}),[k,T]=(0,a.useState)(["openid"]),[D,F]=(0,a.useState)("https://example.com"),[j,z]=(0,a.useState)("default"),[Q,ce]=(0,a.useState)("light"),[ie,de]=(0,a.useState)("default"),[me,oe]=(0,a.useState)("full"),ne=f.map(At=>({label:At.title,value:At.clientId,originalApp:At})),q=s(At=>{const gt=f.find($t=>$t.clientId===At.value);gt&&(x(gt),F(gt.redirectUri))},"appChange"),se=s(At=>{F(At)},"redirectChange"),Ke=s(At=>{const gt=[...k],$t=gt.indexOf(At);$t===-1?(gt.push(At),T(gt)):(gt.splice($t,1),T(gt))},"scopeChange"),Ve=s(()=>{oe(me==="full"?"icon":"full")},"typeChange"),Fe=s(At=>{z(At)},"sizeChange"),Be=s(At=>{ce(At)},"themeChange"),Qe=s(At=>{de(At)},"cornerChange");let _t=48,Nt=256,Oe=20;me==="icon"&&(Nt=48,Oe=24);let Ue=16;j==="max"&&(_t=56,me==="icon"?(Nt=56,Oe=28):(Nt=296,Oe=24),Ue=18),j==="min"&&(me==="icon"?(_t=36,Nt=36,Oe=18):(_t=44,Nt=224,Oe=16),Ue=14);const Et={alignItems:"center",color:Q==="light"?"#000":"#fff",backgroundColor:Q==="light"?"#fff":"#4A154B",border:Q==="light"?"1px solid #ddd":"0",borderRadius:ie==="default"?"4px":`${_t}px`,display:"inline-flex",fontFamily:"Lato, sans-serif",fontSize:`${Ue}px`,fontWeight:600,height:_t,justifyContent:"center",textDecoration:"none",width:Nt},zt={height:`${Oe}px`,width:`${Oe}px`,marginRight:me==="full"?"12px":"0"};let Rn=null;return(0,a.useEffect)(()=>{document.body.classList.add("apiDocsSIWSButtonGenerator--active")},[]),v&&Object.keys(v).length!==0&&(Rn=a.createElement("a",{href:`https://slack.com/openid/connect/authorize?scope=${encodeURIComponent(k.join(" "))}&response_type=code&redirect_uri=${encodeURIComponent(D)}&client_id=${encodeURIComponent(v.clientId)}`,style:Et},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:zt,viewBox:"0 0 122.8 122.8"},a.createElement("path",{d:"M25.8 77.6c0 7.1-5.8 12.9-12.9 12.9S0 84.7 0 77.6s5.8-12.9 12.9-12.9h12.9v12.9zm6.5 0c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V77.6z",fill:"#e01e5a"}),a.createElement("path",{d:"M45.2 25.8c-7.1 0-12.9-5.8-12.9-12.9S38.1 0 45.2 0s12.9 5.8 12.9 12.9v12.9H45.2zm0 6.5c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H12.9C5.8 58.1 0 52.3 0 45.2s5.8-12.9 12.9-12.9h32.3z",fill:"#36c5f0"}),a.createElement("path",{d:"M97 45.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9-5.8 12.9-12.9 12.9H97V45.2zm-6.5 0c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V12.9C64.7 5.8 70.5 0 77.6 0s12.9 5.8 12.9 12.9v32.3z",fill:"#2eb67d"}),a.createElement("path",{d:"M77.6 97c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9-12.9-5.8-12.9-12.9V97h12.9zm0-6.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H77.6z",fill:"#ecb22e"})),me==="full"?"Sign in with Slack":null)),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__root"},a.createElement("div",{className:"apiDocsSIWSButtonGenerator__settings"},a.createElement("div",{className:"apiDocsSIWSButtonGenerator__settingGroup"},a.createElement("span",{className:"apiDocsSIWSButtonGenerator__settingTitle"},"Configuration"),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(ur.A,{options:ne,ariaLabel:"Choose an app",placeholderText:"Choose an app",selectId:"thePerfectSelect",optionsRowHeight:32,width:200,renderOption:At=>{const gt={icons:{image_32:At.originalApp.image},id:At.originalApp.appId,name:At.originalApp.title};return a.createElement(Le.A,{app:gt,showBadge:!0})},onOptionSelected:q}),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(le.A,{text:"Redirect URI"},a.createElement(Mt.A,{className:"apiDocsSIWSButtonGenerator__settingWithHint",id:"siwsRedirectUri",name:"siwsRedirectUri",value:D,onChange:se}),a.createElement("span",{className:"apiDocsSIWSButtonGenerator__settingHint c-hint"},"You must enter a"," ",a.createElement("a",{href:"/authentication/sign-in-with-slack#request"},"valid redirect URI"))))),a.createElement("span",{className:"apiDocsSIWSButtonGenerator__settingTitle"},"Scopes"),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(le.A,{text:"openid (required)",type:"inline"},a.createElement(et.A,{id:"scopeSwitch",checked:!0,disabled:!0})),a.createElement(le.A,{text:"email",type:"inline"},a.createElement(et.A,{id:"scopeSwitch",onChange:()=>Ke("email")})),a.createElement(le.A,{text:"profile",type:"inline"},a.createElement(et.A,{id:"scopeSwitch",onChange:()=>Ke("profile")})))),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__settingGroup"},a.createElement("span",{className:"apiDocsSIWSButtonGenerator__settingTitle"},"Appearance"),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(le.A,{text:"Icon only",type:"inline"},a.createElement(et.A,{id:"typeSwitch",checked:me!=="full",onChange:Ve}))),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Size"},a.createElement(le.A,{text:"Small",htmlFor:"buttonSize-small",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-small",name:"buttonSize-small",value:"min",checked:j==="min",onChange:()=>{Fe("min")}})),a.createElement(le.A,{text:"Default",htmlFor:"buttonSize-default",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-default",name:"buttonSize-default",value:"default",checked:j==="default",onChange:()=>{Fe("default")}})),a.createElement(le.A,{text:"Large",htmlFor:"buttonSize-large",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-large",name:"buttonSize-large",value:"max",checked:j==="max",onChange:()=>{Fe("max")}})))),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Color theme"},a.createElement(le.A,{text:"Light",htmlFor:"buttonTheme-light",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonTheme-light",name:"buttonTheme-light",value:"light",checked:Q==="light",onChange:()=>{Be("light")}})),a.createElement(le.A,{text:"Aubergine",htmlFor:"buttonTheme-aubergine",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonTheme-aubergine",name:"buttonTheme-aubergine",value:"aubergine",checked:Q==="aubergine",onChange:()=>{Be("aubergine")}})))),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Corners"},a.createElement(le.A,{text:"Default",htmlFor:"buttonCorners-default",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonCorners-default",name:"buttonCorners-default",value:"default",checked:ie==="default",onChange:()=>{Qe("default")}})),a.createElement(le.A,{text:"Maximum",htmlFor:"buttonCorners-max",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonCorners-max",name:"buttonCorners-max",value:"max",checked:ie==="max",onChange:()=>{Qe("max")}})))))),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__buttonOutput"},a.createElement("div",{className:"apiDocsSIWSButtonGenerator__buttonPreview"},Rn),a.createElement("div",{className:"apiDocsSIWSButtonGenerator__buttonSource"},a.createElement(le.A,{text:"Your Sign in with Slack button HTML"},a.createElement("div",{className:"apiDocsSIWSButtonGenerator__snippet"},a.createElement(Ae.A,{isDisabled:!0,name:"snippet",id:"siws-snippet",value:v&&Rn?pn.renderToStaticMarkup(Rn):"Select an app to get started"}))))))},"ApiDocsSIWSButtonGenerator");Un.displayName="ApiDocsSIWSButtonGenerator";const Gn=Un;var kn=H(890831);const Qn=s(S=>{let{teams:f,appConfigTokens:v}=S;return a.createElement("div",null,a.createElement(kn.A,{teams:f,appConfigTokens:v}),a.createElement(Y.A,null))},"ApiDocsConfigTokenCard");Qn.displayName="ApiDocsConfigTokenCard";const mi=Qn;var dr=H(473395);const qn=s(S=>{let{apps:f,botScopes:v,userScopes:x}=S;const[k,T]=(0,a.useState)({}),[D,F]=(0,a.useState)([]),[j,z]=(0,a.useState)([]),[Q,ce]=(0,a.useState)("https://example.com"),[ie,de]=(0,a.useState)("default"),[me,oe]=(0,a.useState)("light"),[ne,q]=(0,a.useState)("default"),[se,Ke]=(0,a.useState)("full"),Ve=f.map(vt=>({label:vt.title,value:vt.clientId,originalApp:vt})),Fe=v.map(vt=>({label:vt,value:vt})),Be=x.map(vt=>({label:vt,value:vt})),Qe=s(vt=>{const Vn=f.find(St=>St.clientId===vt.value);Vn&&(T(Vn),ce(Vn.redirectUri))},"appChange"),_t=s(vt=>{ce(vt)},"redirectChange"),Nt=s(vt=>{const Vn=vt.map(St=>St.value);F(Vn)},"botScopeChange"),Oe=s(vt=>{const Vn=vt.map(St=>St.value);z(Vn)},"userScopeChange"),Ue=s(()=>{Ke(se==="full"?"icon":"full")},"typeChange"),Et=s(vt=>{de(vt)},"sizeChange"),zt=s(vt=>{oe(vt)},"themeChange"),Rn=s(vt=>{q(vt)},"cornerChange");let At=48,gt=236,$t=20;se==="icon"&&(gt=48,$t=24);let Hn=16;ie==="max"&&(At=56,se==="icon"?(gt=56,$t=28):(gt=276,$t=24),Hn=18),ie==="min"&&(se==="icon"?(At=36,gt=36,$t=18):(At=44,gt=204,$t=16),Hn=14);const En={alignItems:"center",color:me==="light"?"#000":"#fff",backgroundColor:me==="light"?"#fff":"#4A154B",border:me==="light"?"1px solid #ddd":"0",borderRadius:ne==="default"?"4px":`${At}px`,display:"inline-flex",fontFamily:"Lato, sans-serif",fontSize:`${Hn}px`,fontWeight:600,height:At,justifyContent:"center",textDecoration:"none",width:gt},ai={height:`${$t}px`,width:`${$t}px`,marginRight:se==="full"?"12px":"0"};let sr=null;return(0,a.useEffect)(()=>{document.body.classList.add("apiDocsAddToSlackButtonGenerator--active")},[]),k&&Object.keys(k).length!==0&&(sr=a.createElement("a",{href:`https://slack.com/oauth/v2/authorize?scope=${encodeURIComponent(D.join(","))}&user_scope=${encodeURIComponent(j.join(","))}&redirect_uri=${encodeURIComponent(Q)}&client_id=${encodeURIComponent(k.clientId)}`,style:En},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:ai,viewBox:"0 0 122.8 122.8"},a.createElement("path",{d:"M25.8 77.6c0 7.1-5.8 12.9-12.9 12.9S0 84.7 0 77.6s5.8-12.9 12.9-12.9h12.9v12.9zm6.5 0c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V77.6z",fill:"#e01e5a"}),a.createElement("path",{d:"M45.2 25.8c-7.1 0-12.9-5.8-12.9-12.9S38.1 0 45.2 0s12.9 5.8 12.9 12.9v12.9H45.2zm0 6.5c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H12.9C5.8 58.1 0 52.3 0 45.2s5.8-12.9 12.9-12.9h32.3z",fill:"#36c5f0"}),a.createElement("path",{d:"M97 45.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9-5.8 12.9-12.9 12.9H97V45.2zm-6.5 0c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V12.9C64.7 5.8 70.5 0 77.6 0s12.9 5.8 12.9 12.9v32.3z",fill:"#2eb67d"}),a.createElement("path",{d:"M77.6 97c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9-12.9-5.8-12.9-12.9V97h12.9zm0-6.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H77.6z",fill:"#ecb22e"})),se==="full"?"Add to Slack":null)),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__root"},a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__settings"},a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__settingGroup"},a.createElement("span",{className:"apiDocsAddToSlackButtonGenerator__settingTitle"},"Configuration"),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(ur.A,{options:Ve,ariaLabel:"Choose an app",placeholderText:"Choose an app",selectId:"thePerfectSelect",optionsRowHeight:32,width:200,renderOption:vt=>{const Vn={icons:{image_32:vt.originalApp.image},id:vt.originalApp.appId,name:vt.originalApp.title};return a.createElement(Le.A,{app:Vn,showBadge:!0})},onOptionSelected:Qe}),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(le.A,{text:"Redirect URI"},a.createElement(Mt.A,{className:"apiDocsAddToSlackButtonGenerator__settingWithHint",id:"siwsRedirectUri",name:"siwsRedirectUri",value:Q,onChange:_t,width:200,isDisabled:!(k&&Object.keys(k).length!==0)}),a.createElement("span",{className:"apiDocsAddToSlackButtonGenerator__settingHint c-hint"},"You must enter a"," ",a.createElement("a",{href:"/authentication/sign-in-with-slack#request"},"valid redirect URI"))))),a.createElement("span",{className:"apiDocsAddToSlackButtonGenerator__settingTitle"},"Scopes"),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(le.A,{text:"Bot scopes"},a.createElement(dr.Ay,{options:Fe,selectId:"scopeSwitch",width:200,onSelectedItemsChange:Nt}))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(le.A,{text:"User scopes"},a.createElement(dr.Ay,{options:Be,selectId:"scopeSwitch",width:200,onSelectedItemsChange:Oe})))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__settingGroup"},a.createElement("span",{className:"apiDocsAddToSlackButtonGenerator__settingTitle"},"Appearance"),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(le.A,{text:"Icon only",type:"inline"},a.createElement(et.A,{id:"typeSwitch",checked:se!=="full",onChange:Ue}))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Size"},a.createElement(le.A,{text:"Small",htmlFor:"buttonSize-small",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-small",name:"buttonSize-small",value:"min",checked:ie==="min",onChange:()=>{Et("min")}})),a.createElement(le.A,{text:"Default",htmlFor:"buttonSize-default",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-default",name:"buttonSize-default",value:"default",checked:ie==="default",onChange:()=>{Et("default")}})),a.createElement(le.A,{text:"Large",htmlFor:"buttonSize-large",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonSize-large",name:"buttonSize-large",value:"max",checked:ie==="max",onChange:()=>{Et("max")}})))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Color theme"},a.createElement(le.A,{text:"Light",htmlFor:"buttonTheme-light",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonTheme-light",name:"buttonTheme-light",value:"light",checked:me==="light",onChange:()=>{zt("light")}})),a.createElement(le.A,{text:"Aubergine",htmlFor:"buttonTheme-aubergine",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonTheme-aubergine",name:"buttonTheme-aubergine",value:"aubergine",checked:me==="aubergine",onChange:()=>{zt("aubergine")}})))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__setting"},a.createElement(ge.A,{legendText:"Corners"},a.createElement(le.A,{text:"Default",htmlFor:"buttonCorners-default",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonCorners-default",name:"buttonCorners-default",value:"default",checked:ne==="default",onChange:()=>{Rn("default")}})),a.createElement(le.A,{text:"Maximum",htmlFor:"buttonCorners-max",type:"inline",cursor:"pointer"},a.createElement(he.A,{id:"buttonCorners-max",name:"buttonCorners-max",value:"max",checked:ne==="max",onChange:()=>{Rn("max")}})))))),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__buttonOutput"},a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__buttonPreview"},sr),a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__buttonSource"},a.createElement(le.A,{text:"Your Add to Slack button HTML"},a.createElement("div",{className:"apiDocsAddToSlackButtonGenerator__snippet"},a.createElement(Ae.A,{isDisabled:!0,name:"snippet",id:"siws-snippet",value:k&&sr?pn.renderToStaticMarkup(sr):"Select an app to get started"}))))))},"ApiDocsAddToSlackButtonGenerator");qn.displayName="ApiDocsAddToSlackButtonGenerator";const cn=qn,hn=s(S=>{let{submitPath:f,divClass:v}=S;const[x,k]=(0,a.useState)(!1),[T,D]=(0,a.useState)(""),[F,j]=(0,a.useState)(!0),[z,Q]=(0,a.useState)(""),ce=s((de,me)=>{const oe=/^[a-zA-Z ,.'-]{1,35}$/,ne=new RegExp(oe);return ne.test(de)&&ne.test(me)},"isValidName"),ie=s(de=>{k(!0);const me=de.currentTarget.querySelector('input[name="first_name"]').value,oe=de.currentTarget.querySelector('input[name="last_name"]').value;if(!ce(me,oe))j(!1),D("Oops! The name provided is invalid."),Q("error");else{j(!0);const ne=new FormData(de.target);try{fetch(f,{method:"POST",body:ne}).then(q=>q.json()).then(q=>{q.ok||q.error==="already_subscribed"?Q("hidden"):q.error==="invalid_email"?(D("Looks like that email address is invalid. Mind trying again?"),j(!1),Q("error")):(D(q.error),j(!1),Q("error"))}).catch(()=>{D("Developer newsletter subscription failed")})}catch(q){D(q)}}},"onModalSubmit");return a.createElement("div",{className:v},a.createElement("form",{className:x?`apiDevHome__subscribe ${z}`:"apiDevHome__subscribe",onSubmit:de=>{ie(de),de.preventDefault()}},a.createElement("div",{className:"o-two-columns-devNewsletter v--even"},a.createElement("input",{type:"text",className:"name",id:"first_name",name:"first_name",placeholder:"First name",required:!0}),a.createElement("input",{type:"text",className:"name",id:"last_name",name:"last_name",placeholder:"Last name",required:!0})),a.createElement("div",{className:"apiDevHome__email_submission"},a.createElement("input",{type:"text",className:"email",id:"email",name:"email",placeholder:"example@acme.com",required:!0}),x?a.createElement(a.Fragment,null,F?a.createElement("button",{type:"submit",className:"submit success"},a.createElement("svg",{width:"25",height:"26",viewBox:"0 0 25 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8281 10.8906C24.9375 11.5781 25 12.2656 25 13C25 19.9062 19.4062 25.5 12.5 25.5C5.59375 25.5 0 19.9062 0 13C0 6.09375 5.59375 0.5 12.5 0.5C14.7188 0.5 16.7969 1.07813 18.6094 2.09375C18.9688 2.29688 19.2031 2.67188 19.2031 3.10938C19.2031 3.75 18.6719 4.28125 18.0313 4.28125C17.8281 4.28125 17.625 4.21875 17.4531 4.125C15.9844 3.29688 14.2969 2.84375 12.5 2.84375C6.89062 2.84375 2.34375 7.39062 2.34375 13C2.34375 18.6094 6.89062 23.1563 12.5 23.1563C18.1094 23.1563 22.6563 18.6094 22.6563 13C22.6563 12.3906 22.6094 11.7813 22.5 11.2031C22.4844 11.1406 22.4844 11.0781 22.4844 11.0156C22.4844 10.375 23.0156 9.84375 23.6563 9.84375C24.3281 9.84375 24.6875 10.3594 24.8125 10.8281L24.8281 10.8906ZM9.82806 11.3124L12.4374 14.8905L21.9531 3.54676C22.1562 3.29676 22.4843 3.14051 22.8124 3.14051C23.0624 3.14051 23.3593 3.24988 23.5781 3.43738C23.8437 3.65613 23.9999 3.98426 23.9999 4.32801C23.9999 4.56238 23.8906 4.85926 23.7187 5.06238L13.2343 17.578C13.0312 17.8436 12.6874 17.9999 12.3437 17.9999C11.9999 17.9999 11.6249 17.8436 11.3593 17.4843L7.92181 12.6249C7.78118 12.4218 7.70306 12.2186 7.70306 11.9686C7.70306 11.6093 7.87493 11.2499 8.21868 11.0155C8.42181 10.8749 8.62493 10.7968 8.87493 10.7968C9.23431 10.7968 9.57806 10.9686 9.82806 11.3124Z",fill:"white"}))):a.createElement("button",{type:"submit",className:"submit fail"},a.createElement("svg",{width:"27",height:"24",viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4865 0C14.6198 0 15.7398 0.72 16.5532 2.12L26.2198 18.6933C26.6598 19.4533 26.8332 20.1867 26.8332 20.88C26.8332 22.6533 25.4732 24 23.1132 24H3.8865C1.53984 24 0.166504 22.6533 0.166504 20.88C0.166504 20.2 0.353171 19.4533 0.793171 18.6933L10.4465 2.12C11.2598 0.72 12.3665 0 13.4865 0ZM13.5009 2.14648C13.0209 2.14648 12.5675 2.46648 12.1942 3.10648L2.54088 19.6665C2.32755 20.0398 2.23421 20.3865 2.23421 20.6932C2.23421 21.4665 2.84755 21.9998 3.88755 21.9998H23.1142C24.1675 21.9998 24.7809 21.4665 24.7809 20.6932C24.7809 20.3865 24.6875 20.0398 24.4742 19.6665L14.8075 3.10648C14.4342 2.46648 13.9675 2.14648 13.5009 2.14648ZM13.4998 14.6667C12.7665 14.6667 12.1665 14.0667 12.1665 13.3333V8C12.1665 7.26667 12.7665 6.66667 13.4998 6.66667C14.2332 6.66667 14.8332 7.26667 14.8332 8V13.3333C14.8332 14.0667 14.2332 14.6667 13.4998 14.6667ZM13.4998 20C12.5798 20 11.8332 19.2533 11.8332 18.3333C11.8332 17.4133 12.5798 16.6667 13.4998 16.6667C14.4198 16.6667 15.1665 17.4133 15.1665 18.3333C15.1665 19.2533 14.4198 20 13.4998 20Z",fill:"white"})))):a.createElement("button",{type:"submit",className:"submit","aria-label":"submit button"},a.createElement("svg",{width:"29",height:"20",viewBox:"0 0 29 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.5 9C0.947715 9 0.5 9.44771 0.5 10C0.5 10.5523 0.947715 11 1.5 11V9ZM19.799 0.796592C19.4105 0.404036 18.7774 0.400732 18.3848 0.789214C17.9923 1.1777 17.989 1.81085 18.3774 2.20341L19.799 0.796592ZM27.5 10L28.2108 10.7034C28.5964 10.3137 28.5964 9.68625 28.2108 9.29659L27.5 10ZM18.3774 17.7966C17.989 18.1891 17.9923 18.8223 18.3848 19.2108C18.7774 19.5993 19.4105 19.596 19.799 19.2034L18.3774 17.7966ZM1.5 11H26.7353V9H1.5V11ZM26.7892 9.29659L18.3774 17.7966L19.799 19.2034L28.2108 10.7034L26.7892 9.29659ZM18.3774 2.20341L22.5833 6.45341L24.0049 5.04659L19.799 0.796592L18.3774 2.20341ZM22.5833 6.45341L26.7892 10.7034L28.2108 9.29659L24.0049 5.04659L22.5833 6.45341Z",fill:"white"}))))),x?a.createElement(a.Fragment,null,T?a.createElement("div",{className:"apiDevHome__subscribe--error"},T):a.createElement("div",{className:"apiDevHome__subscribe--success"},"Thanks! You\u2019re subscribed.")):null)},"ApiDocsDevNewsletterSubscribe");hn.displayName="ApiDocsDevNewsletterSubscribe";const Zn=hn,fr=s(S=>{let{email:f}=S;const v=(0,a.useCallback)(k=>{const T=new FormData;T.append("email",k),fetch("/api/developer.account.resendCode",{method:"POST",body:T}).then(D=>D.json()).then(D=>{D.ok&&(window.location.href=location.href)})},[]),x=(0,a.useCallback)(()=>{v(f)},[f,v]);return a.createElement("p",{className:"apiDocsDeveloperEmailResend__headerCopyLegalese display-as-mini c-legalese u-margin-bottom--xx-large"},"Didn\u2019t receive it? Check your spam folder or"," ",a.createElement(B.$n,{className:"apiDocsDeveloperEmailResend__resendCodeButton",onClick:x},"click here to resend the email."))},"ApiDocsDeveloperEmailResend");fr.displayName="ApiDocsDeveloperEmailResend";const Cr=fr,Dt=s(S=>{let{email:f}=S;return a.createElement("section",{className:"apiDocsDeveloperContactThanks o-hero"},a.createElement("div",{className:"apiDocsDeveloperContactThanks__content o-hero__content"},a.createElement("header",{className:"apiDocsDeveloperContactThanks__header o-hero__header"},a.createElement("h2",{className:"apiDocsDeveloperContactThanks__headerHeadline o-hero__header__headline"},a.createElement("p",null,"The adventure begins in your inbox!")),a.createElement("div",{className:"apiDocsDeveloperContactThanks__headerCopy hero__header__copy"},a.createElement("p",{className:"apiDocsDeveloperContactThanks__headerCopyText u-margin-bottom--large"},f!==""?a.createElement("p",{className:"apiDocsDeveloperContactThanks__headerCopyEmail--email u-margin-bottom--large"},"Your account activation email awaits at"," ",a.createElement("a",{href:"mailto: {email}"},f),". Click the link inside to activate your developer account, and let the magic unfold!",a.createElement(Cr,{email:f})):a.createElement("p",{className:"apiDocsDeveloperContactThanks__headerCopyEmail--none u-margin-bottom--large"},"Thank you for joining the Developer Program!")),a.createElement("p",null,a.createElement("a",{href:"/developer-program/dashboard"},a.createElement("p",null,"Back to the developer program page")))))))},"ApiDocsDeveloperContactThanks");Dt.displayName="ApiDocsDeveloperContactThanks";const Me=Dt,er=new ve.Ay("slack_developers"),rr=s(()=>a.createElement("section",{className:"apiDocsDeveloperNewsletterAction o-hero"},a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__content o-hero__content"},a.createElement("header",{className:"apiDocsDeveloperNewsletterAction__header o-hero__header"},a.createElement("h2",{className:"apiDocsDeveloperNewsletterAction__headerHeadline o-hero__header__headline"},a.createElement("p",null,er.t("Subscription confirmed",{fallbackHash:"e044b58b69d9d539dcf3b467b3fa028a5aaffed2"}))),a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__headerCopy hero__header__copy"},a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__headerCopyText u-margin-bottom--large"},a.createElement("p",{className:"apiDocsDeveloperNewsletterAction__headerCopyContext--context"},er.t("Your subscription to Slack\u2019s Developer Newsletter has been confirmed! You\u2019ll now begin receiving monthly updates on the latest in developing on Slack.",{fallbackHash:"d0b234c55274e67ec968553270b6f24966365329"}))))))),"ApiDocsDeveloperNewsletterConfirmation");rr.displayName="ApiDocsDeveloperNewsletterConfirmation";const Pn=rr,ft=new ve.Ay("slack_developers"),ir=s(S=>{let{entityId:f,status:v}=S;const[x,k]=(0,a.useState)(!1),[T,D]=(0,a.useState)(!1),[F,j]=(0,a.useState)(""),z=(0,a.useCallback)((ce,ie)=>{k(!0);const de=new FormData;de.append("entity_id",ce),de.append("status",ie),fetch("/api/developer.newsletter.updateSubscription",{method:"POST",body:de}).then(me=>me.json()).then(me=>{me.ok?D(!0):j(me.error)})},[]),Q=(0,a.useCallback)(()=>{z(f,v)},[f,v,z]);return a.createElement("div",{className:"apiDocsDeveloperEmailResend__headerCopyLegalese display-as-mini c-legalese u-margin-bottom--xx-large"},x?a.createElement(a.Fragment,null,T?a.createElement("p",null,ft.rt("You are now resubscribed to receive the developer newsletter.")):a.createElement("p",null,F)):a.createElement("p",null,ft.rt("Unsubscribed by accident? "),a.createElement(B.$n,{className:"apiDocsDeveloperEmailResend__resendCodeButton",onClick:Q},ft.rt("Resubscribe here")),"."))},"ApiDocsDeveloperUpdateSubscriptionNewsletter");ir.displayName="ApiDocsDeveloperUpdateSubscriptionNewsletter";const Nr=ir,gr=new ve.Ay("slack_developers"),d=s(S=>{let{entityId:f,status:v}=S;return a.createElement("section",{className:"apiDocsDeveloperNewsletterAction o-hero"},a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__content o-hero__content"},a.createElement("header",{className:"apiDocsDeveloperNewsletterAction__header o-hero__header"},a.createElement("h2",{className:"apiDocsDeveloperNewsletterAction__headerHeadline o-hero__header__headline"},a.createElement("p",null,gr.rt("We\u2019re sorry to see you go!"))),a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__headerCopy hero__header__copy"},a.createElement("div",{className:"apiDocsDeveloperNewsletterAction__headerCopyText"},a.createElement("p",{className:"apiDocsDeveloperNewsletterAction__headerCopyContext--context"},gr.rt("We must have missed the mark, but don\u2019t worry - we won\u2019t send you the developer newsletter anymore.")),a.createElement("p",{className:"apiDocsDeveloperNewsletterAction__headerCopyContext--context"},gr.rt("If you still want developement news from Slack, {twitterLink} or {blogLink}.",{twitterLink:a.createElement(st.A,{href:"https://twitter.com/slackapi"},"follow us on X"),blogLink:a.createElement(st.A,{href:`https://${(0,dt.Xk)()}/blog/developers`},"check out the developer blog")})),a.createElement(Nr,{entityId:f,status:v}))))))},"ApiDocsDeveloperNewsletterUnsubscribe");d.displayName="ApiDocsDeveloperNewsletterUnsubscribe";const m=d;var V=H(386667);const ae=s(S=>{let{branch:f,currentPath:v,activateParentHighlight:x,root:k=!1}=S;var T;const[D,F]=(0,a.useState)((T=f.defaultExpanded)!==null&&T!==void 0?T:!1),[j,z]=(0,a.useState)(!1),Q="devPortalTop__branch",ce=[Q,`${Q}--${f.type}`,`${Q}--${D?"active":"inactive"}`],ie=f.branches&&f.branches.length>0;v.includes("?")&&(v=v.split("?")[0]),k&&ce.push(`${Q}--root`),j&&ce.push(`${Q}--highlighted`);const de=(0,a.useCallback)(()=>{F(!0),x&&x()},[x]);(0,a.useEffect)(()=>{f.path&&f.path===v&&(z(!0),F(!0),x&&x())},[f,x,z,v]);const me=(0,a.useCallback)(()=>{F(!D)},[D]);if(f.type==="divider")return a.createElement("div",{className:ce.join(" ")},a.createElement("hr",null));const oe=f.type==="link"&&!ie?a.createElement("a",{href:f.path},f.title):a.createElement("span",null,f.title);let ne=null;if(ie){let q=null;q=f.branches,ne=a.createElement("div",{className:"devPortalTop__subBranches"},q==null?void 0:q.map(se=>a.createElement(ae,{branch:se,key:`navItem_branch_type_${f.title}_${se.type}_${se.title}`,currentPath:v,activateParentHighlight:de})))}return a.createElement("div",{className:ce.join(" ")},a.createElement("div",{className:"devPortalTop__branchTitle",onClick:me,tabIndex:0,"aria-current":f.path&&f.path===v?"page":!1},oe,ie?a.createElement(V.A,{"aria-label":"Toggle the visibility of navigation subitems",className:`devPortalTop__branchToggler devPortalTop__branchToggler--${D?"active":"inactive"}`,size:"small"},a.createElement(Ze.A,{name:"caret-right"})):null),ne)},"DeveloperPortalTopNavBranch");ae.displayName="DeveloperPortalTopNavBranch";const je=ae,Ct=[{title:"Dashboard",description:"Dashboard",order:1,overridePathRoot:"/developer-program",roots:[{path:"/developer-program/dashboard",title:"Dashboard",type:"link"},{path:"/developer-program/sandboxes",title:"Sandboxes",type:"link"},{path:"/developer-program/events",title:"Events",type:"link"},{path:"/developer-program/settings/profile",title:"Settings",type:"link"}]}],Ie=s(()=>{const S=Object.values(Ct).sort((x,k)=>x.order>k.order?1:-1);let f=S[0];(0,a.useEffect)(()=>{document.body.classList.add("devPortalTop--active")},[]);const v=window.location.pathname+window.location.search;return S.forEach(x=>{x.overridePathRoot&&window.location.pathname.startsWith(x.overridePathRoot)&&(f=x)}),a.createElement("div",{className:"devPortalTop"},f.roots.map(x=>a.createElement(je,{key:`navItem_type_${x.type}_${x.title}`,branch:x,currentPath:v,root:!0})))},"DeveloperPortalTopNav");Ie.displayName="DeveloperPortalTopNav";const mn=Ie,Pt=new ve.Ay("pages_apis"),qt=s(()=>a.createElement("footer",{className:"devPortalFooterNav"},a.createElement("div",{className:"devPortalFooterNav__logo"},a.createElement("i",{className:"c-icon c-icon--slack-pillow c-icon--inline c-icon--inherit"}),a.createElement(st.A,{href:"https://status.slack.com/"},a.createElement("p",null,Pt.t("Status"))),a.createElement(st.A,{href:"/developer-policy"},a.createElement("p",null,Pt.t("Policy"))),a.createElement(st.A,{href:"https://slack.com/intl/en-gb/terms-of-service/api-updated"},a.createElement("p",null,Pt.t("Terms")))),a.createElement("div",{className:"devPortalFooterNav__links"},a.createElement("div",{className:"devPortalFooterNav__promoItem"},a.createElement("div",null,a.createElement("i",{className:"c-icon c-icon--bell-o c-icon--inline c-icon--inherit"}),a.createElement("p",null,Pt.rt("Subscribe to our <a>developer changelog</a>",null,S=>{let{key:f,text:v}=S;return a.createElement("a",{key:f,href:"/changelog",rel:"noreferrer"},v)})))),a.createElement("div",{className:"devPortalFooterNav__promoItem"},a.createElement("div",null,a.createElement("i",{className:"c-icon c-icon--globe c-icon--inline c-icon--inherit"}),a.createElement("p",null,Pt.rt("Connect with our <a>platform community</a>",null,S=>{let{key:f,text:v}=S;return a.createElement("a",{key:f,target:"_blank",href:"https://slackcommunity.com/?utm_medium=referral&utm_source=apislack&utm_campaign=api_site_footer",rel:"noreferrer"},v)})))),a.createElement("div",{className:"devPortalFooterNav__promoItem"},a.createElement("div",null,a.createElement("i",{className:"c-icon c-icon--life-ring c-icon--inline c-icon--inherit"}),a.createElement("p",null,Pt.rt("Need help? <a>Contact developer support</a>",null,S=>{let{key:f,text:v}=S;return a.createElement("a",{key:f,href:"/support"},v)})))))),"DeveloperPortalFooterNav");qt.displayName="DeveloperPortalFooterNav";const Kt=qt,Ar=new ve.Ay("pages_apis"),yr=s(S=>{let{name:f}=S;return a.createElement("section",{className:"devPortalDashboardBanner"},a.createElement("div",{className:"devPortalDashboardBanner__content"},a.createElement("header",{className:"devPortalDashboardBanner__header"},a.createElement("h1",null,Ar.t("Let\u2019s build something great today, "),f,"!")),a.createElement("img",{className:"devPortalDashboardBanner__image",src:"/img/api/developer-program/dashboard_portal_header.svg",alt:"Header for dashboard portal"})))},"DeveloperPortalDashboardBanner");yr.displayName="DeveloperPortalDashboardBanner";const br=yr,wt=s(S=>{let{svgIcon:f,heading:v,url:x,copy:k,id:T}=S;return a.createElement("a",{className:"devPortalHomeCard",href:x,"data-clog-click":!0,"data-clog-ui-step":!0,"data-clog-ui-element":"link_feature_tile","data-clog-ui-component":"inc_feature_tile","data-clog-params":`trigger=${x}`,target:T!=="events"?"_blank":"",rel:T!=="events"?"noreferrer":""},f?a.createElement("img",{className:"devPortalHomeCard--icon",src:f,width:48,height:48,alt:`Icon for ${v} card`}):null,a.createElement("span",{className:"devPortalHomeCard--heading"},v),k?a.createElement("span",{className:"devPortalHomeCard--copy"},k):null)},"DeveloperPortalDashboardHomeCards");wt.displayName="DeveloperPortalDashboardHomeCards";const vi=wt;var _r=H(868682),Tr=H(989217),Yr=H(519137);const Or=s(S=>{let{question:f,updateParentResponse:v,required:x,currentValue:k="",showValidity:T=!1,subText:D="",hasCustomError:F=!1}=S,j=null;const[z,Q]=(0,a.useState)(k),ce=x&&z!=="",ie=!ce&&T,de=(0,a.useCallback)(oe=>{Q(ne=>oe),v(f.id,f.type,oe,f.text)},[Q,v,f]);switch(f.type){case"domain":j=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Mt.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:de,size:"medium",value:z,isRequired:x,placeholder:"test-sandbox-1234",maxCharacterLimit:21,suffix:`.enterprise.${(0,dt.Xk)()}`}),D?a.createElement("div",{className:"c-form__sub-text"},D):a.createElement("div",null));break;case"orgName":j=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Mt.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:de,size:"medium",value:z,isRequired:x,placeholder:"Test Sandbox 123"}),D?a.createElement("div",{className:"c-form__sub-text"},D):a.createElement("div",null));break;case"password":j=a.createElement(le.A,{text:f.text,htmlFor:f.id,id:`label_${f.id}`,optional:!x},a.createElement(Mt.A,{ariaDescribedById:`label_${f.id}`,name:f.id,id:f.id,onChange:de,size:"medium",value:z,isRequired:x,type:"password"}),D?a.createElement("div",{className:"c-form__sub-text"},D):a.createElement("div",null));break;default:break}const me=["developerPortalSurvey__questionHolderDevProgram",`developerPortalSurvey__questionHolderType--${f.type}`,`developerPortalSurvey__questionHolder--validity${ce}`];return ie&&me.push(`${me[0]}--error`),F&&f.id==="domain"&&me.push(`${me[0]}--domain-error`),F&&f.id==="org_name"&&me.push(`${me[0]}--org-name-error`),F&&f.id==="password"&&me.push(`${me[0]}--password-error`),a.createElement("span",{className:me.join(" ")},j)},"DeveloperPortalProvisionSandboxSurveyQuestion");Or.displayName="DeveloperPortalProvisionSandboxSurveyQuestion";const Rr=Or,gi=new ve.Ay("slack_developers"),Fi=s(S=>{let{form:f,developerId:v,token:x,isSandboxesPage:k=!1}=S;var T;const D=f.questionGroups[0],[F,j]=(0,a.useState)(!D.required),[z,Q]=(0,a.useState)({}),[ce,ie]=(0,a.useState)(!1),[de,me]=(0,a.useState)(!1),[oe,ne]=(0,a.useState)(!1),[q,se]=(0,a.useState)(!1),[Ke,Ve]=(0,a.useState)(""),[Fe,Be]=(0,a.useState)(!1),[Qe,_t]=(0,a.useState)(!1),[Nt,Oe]=(0,a.useState)({}),[Ue,Et]=(0,a.useState)(!1),zt=(0,fe.wA)(),Rn=(0,a.useCallback)(()=>{zt((0,te.O)())},[zt]),At=(0,a.useCallback)(St=>{Oe(Ut=>({...Ut,...St})),se(!0)},[Oe]),gt=(0,a.useCallback)(()=>{ie(!1),me(!1),ne(!1);const St=/^[a-zA-Z0-9-]{1,21}$/,Ut=/^[a-zA-Z0-9 ]{1,21}$/,dn=/^[a-zA-Z0-9]$/;St.test(z.domain.value)||ie(!0),Ut.test(z.org_name.value)||me(!0),(dn.test(z.password.value)||z.password.value.length<6||z.password.value.length>72)&&ne(!0),Et(!0)},[z]),$t=(0,a.useCallback)(()=>{window.location.href=`https://api.${(0,dt.Xk)()}/developer-program/sandboxes`},[]),Hn=(0,a.useCallback)(()=>{Be(!0),Ke&&Ve(""),se(!1);const St=new FormData;if(St.append("developer_id",v),St.append("token",x),Object.keys(Nt).length!==0)try{Object.keys(Nt).forEach(Ut=>{St.append(Ut,Nt[Ut].value)}),fetch("/api/enterprise.signup.createDevOrg",{method:"POST",body:St}).then(Ut=>Ut.json()).then(Ut=>{Ut.ok?(Be(!1),_t(!0),k&&$t()):(Be(!1),se(!1),Et(!1),Ve(Ut.error))})}catch(Ut){Be(!1),se(!1),Et(!1),Ve(Ut.error)}},[v,Nt,Be,Ve,Ke,x,k]);(0,a.useEffect)(()=>{q&&Hn()},[q,Hn]),(0,a.useEffect)(()=>{!ce&&!de&&!oe&&Ue&&(At(z),Be(!0))},[ce,de,oe,Ue]);const En=(0,a.useCallback)((St,Ut,dn,Nn)=>{Q(Er=>({...Er,[St]:{type:Ut,value:dn,questionText:Nn}}))},[Q]);(0,a.useEffect)(()=>{if(D.required){let Nn=!0;var St;for(const Er of(St=D.questions)!==null&&St!==void 0?St:[]){var Ut;const Ti=(Ut=z[Er.id])!==null&&Ut!==void 0?Ut:null;if(Ti){if(Er.id==="password"&&Ti.value.length<6){Nn=!1;break}var dn;if(((dn=Ti.value)!==null&&dn!==void 0?dn:"")===""){Nn=!1;break}}else{Nn=!1;break}}j(Nn)}},[z,D]);const ai=["developerPortalSurvey__questionGroup"];var sr,vt,Vn;return a.createElement(E.A,{className:"developerPortalSurvey__modal",closeModal:Rn},!Qe||Qe&&k?a.createElement(a.Fragment,null,a.createElement(M.rQ,null,a.createElement(M.Rc,{title:D.title})),Ke?a.createElement("div",{className:"developerPortalSurvey__modalPreamble--error"},a.createElement(Tr.Ay,{type:"boxed",level:"error",align:"left"},a.createElement("span",null,"An error occurred while provisioning your sandbox:"," ",Ke,". Please try again."))):null):null,Qe&&!k?a.createElement(M.rQ,null,a.createElement(M.Rc,{title:"Provision Sandbox Success"})):null,D.questions&&!Qe||Qe&&k?a.createElement(M.$m,{className:ai.join(" ")},(T=D.questions)===null||T===void 0?void 0:T.map(St=>{var Ut,dn,Nn;return a.createElement(M.qf,{key:`question_section_${St.id}`},St.id==="domain"?a.createElement(Rr,{question:St,updateParentResponse:En,currentValue:(Ut=z[St.id])===null||Ut===void 0?void 0:Ut.value,required:(sr=D.required)!==null&&sr!==void 0?sr:!1,subText:St.subText,hasCustomError:ce}):null,St.id==="org_name"?a.createElement(Rr,{question:St,updateParentResponse:En,currentValue:(dn=z[St.id])===null||dn===void 0?void 0:dn.value,required:(vt=D.required)!==null&&vt!==void 0?vt:!1,subText:St.subText,hasCustomError:de}):null,St.id==="password"?a.createElement(Rr,{question:St,updateParentResponse:En,currentValue:(Nn=z[St.id])===null||Nn===void 0?void 0:Nn.value,required:(Vn=D.required)!==null&&Vn!==void 0?Vn:!1,subText:St.subText,hasCustomError:oe}):null)})):null,Qe&&!k?a.createElement(M.$m,{className:"developerPortalSurvey__modalProvisonSandbox--success"},a.createElement(M.qf,null,a.createElement("p",null,"Visit the sandbox management page to get started."))):null,a.createElement(M.jl,null,a.createElement(M.ox,null,F&&!Fe&&!Qe?a.createElement(B.$n,{onClick:gt},gi.t("PROVISION SANDBOX")):null,!F&&!Fe&&!Qe?a.createElement(B.$n,{disabled:!0},gi.t("PROVISION SANDBOX")):null,Fe&&!Qe?a.createElement("div",{className:"developerPortalSurvey__sandboxesFooterLoading"},a.createElement("div",null,a.createElement(Yr.A,{color:"blue",size:"large"})),a.createElement("div",null,a.createElement("p",null,"Provisioning sandbox. Please wait..."))):null,Qe&&!k?a.createElement(B.$n,{onClick:$t},gi.t("MANAGE SANDBOXES")):null,Qe&&k?a.createElement("div",{className:"developerPortalSurvey__sandboxesFooter"},a.createElement("div",null,a.createElement(Ze.A,{name:"check",variation:"filled"})),a.createElement("div",null,a.createElement("p",null,"Provision sandbox success. Reloading..."))):null)))},"DeveloperPortalProvisionSandboxModal");Fi.displayName="DeveloperPortalProvisionSandboxModal";const Jr=Fi,Mn={label:"provision sandbox",title:"Provison sandbox",target:"provision",questionGroups:[{title:"Provision sandbox",required:!0,questions:[{id:"org_name",text:"Sandbox name",type:"orgName",subText:"Use only letters, numbers, and spaces"},{id:"domain",text:"Domain name",type:"domain",subText:"Use only letters, numbers, and dashes"},{id:"password",text:"Password",type:"password",subText:"Minimum of 6 characters"}]}]},yi=s(S=>{let{eligibility:f,reachLimit:v,developerId:x,token:k}=S;const T=(0,fe.wA)(),D=(0,a.useCallback)(()=>{T((0,we.q)({element:a.createElement(Jr,{form:Mn,developerId:x,token:k})}))},[T,Mn,x,k]),F=(0,a.useCallback)(()=>{D()},[D]);return a.createElement("div",{className:"devPortalProvisionSandbox","data-clog-click":!0,"data-clog-ui-step":!0,"data-clog-ui-element":"link_feature_tile","data-clog-ui-component":"inc_feature_tile"},a.createElement("img",{className:"devPortalProvisionSandbox--icon",src:"/img/api/developer-program/dashboard_icon_sandbox.svg",width:48,height:48,alt:"Icon for Provision sandbox card"}),a.createElement("span",{className:"devPortalProvisionSandbox--heading"},"Provision sandbox"),f?a.createElement("span",{className:"devPortalProvisionSandbox--copy"},"Create a sandbox and test your next idea against all Platform features."):a.createElement(a.Fragment,null,v?a.createElement("span",{className:"devPortalProvisionSandbox--copy"},"You have reached the maximum number of sandboxes that can be provisioned at this time."):a.createElement("span",{className:"devPortalProvisionSandbox--copy"},"Please join a paid plan workspace or provide a payment method for your developer workspace to provision a sandbox.")),f?a.createElement(_r.A,{className:"devPortalProvisionSandbox--button",onClick:F},"PROVISION SANDBOX"):a.createElement(a.Fragment,null,v?a.createElement("a",{className:"devPortalProvisionSandbox--button-deactivated-link",href:"/developer-program/sandboxes"},a.createElement("div",{className:"devPortalProvisionSandbox--button-deactivated"},"MANAGE SANDBOXES")):a.createElement("a",{className:"devPortalProvisionSandbox--button-activated-link",href:"/developer-program/sandboxes"},a.createElement("div",{className:"devPortalProvisionSandbox--button-activated"},"MANAGE SANDBOXES"))),a.createElement(Y.A,{windowId:void 0}))},"DeveloperPortalProvisionSandbox");yi.displayName="DeveloperPortalProvisionSandbox";const Xr=yi,Dr=s(S=>{let{blog:f}=S;const v=`https://${(0,dt.Xk)()}/blog/news/${f.slug}`;return a.createElement("a",{target:"_blank",rel:"noreferrer",href:v,"aria-describedby":"promo_aria_description","data-clog-click":!0,"data-clog-ui-element":"link_promo_cta","data-clog-ui-component":"inc_promo","data-clog-params":`trigger=${v}`},a.createElement("div",{className:"devPortalPromo__content"},a.createElement("figure",{className:"devPortalPromo__media"},a.createElement("img",{src:f.featured_image,alt:f.featured_image_alt,role:"presentation"})),a.createElement("header",{className:"devPortalPromo__copy"},a.createElement("span",{className:"devPortalPromo__subheading"},"News"),a.createElement("h3",{className:"devPortalPromo__heading"},f.meta_title)),a.createElement("div",{className:"devPortalPromo__ctas","aria-hidden":"true"},a.createElement("span",{className:"devPortalPromo__cta"},"READ STORY"))))},"DeveloperPortalDashboardLatestNewsCard");Dr.displayName="DeveloperPortalDashboardLatestNewsCard";const sa=Dr,Bi=s(()=>{const S=`https://${(0,dt.Xk)()}/blog/news`;return a.createElement("a",{target:"_blank",rel:"noreferrer",href:S,"aria-describedby":"promo_aria_description","data-clog-click":!0,"data-clog-ui-element":"link_promo_cta","data-clog-ui-component":"inc_promo","data-clog-params":`trigger=${S}`},a.createElement("div",{className:"devPortalPromo__contentAll"},a.createElement("header",{className:"devPortalPromo__copy"},a.createElement("div",null,a.createElement("span",{className:"devPortalPromo__subheadingAll"},"Collection")),a.createElement("div",null,a.createElement("h3",{className:"devPortalPromo__headingAll"},"All Developer News"))),a.createElement("figure",{className:"devPortalPromo__mediaAll"},a.createElement("img",{src:"/img/api/developer-program/dashboard_latest_news_all_news.svg",alt:"All news card",role:"presentation"})),a.createElement("div",{className:"devPortalPromo__ctas","aria-hidden":"true"},a.createElement("span",{className:"devPortalPromo__cta devPortalPromo__ctaAll"},"SEE ALL NEWS"))))},"DeveloperPortalDashboardAllNewsCard");Bi.displayName="DeveloperPortalDashboardAllNewsCard";const bi=Bi,Wi=s(S=>{let{blogs:f}=S;return a.createElement("div",{className:"devPortalDashboardLatestNews"},a.createElement("img",{src:"/img/api/developer-program/dashboard_background_right.svg",className:"devPortalDashboardLatestNews__background",alt:"Right circle background"}),a.createElement("div",{className:"devPortalDashboardLatestNews__itemTitle"},a.createElement("h2",null,"Latest developer news")),a.createElement("div",{className:"devPortalDashboardLatestNews__cardContainer"},a.createElement("div",{className:"devPortalPromoAll"},a.createElement(bi,null)),f.map(v=>a.createElement("div",{className:"devPortalPromo",key:v.id},a.createElement(sa,{key:v.id,blog:v})))))},"DeveloperPortalDashboardLatestNews");Wi.displayName="DeveloperPortalDashboardLatestNews";const Hr=Wi,_i=s(S=>{let{entries:f}=S,v=0;return a.createElement("div",{className:"devPortalDashboardChangelog"},a.createElement("img",{src:"/img/api/developer-program/dashboard_background_right.svg",className:"devPortalDashboardChangelog__background",alt:"Left circle background"}),a.createElement("div",{className:"devPortalDashboardChangelog__itemTitle"},a.createElement("h2",null,"API changelog")),a.createElement("div",{className:"devPortalDashboardChangelog__entryContainer"},f.map(x=>(v+=1,a.createElement("div",{className:`devPortalDashboardChangelog__changelogEntry devPortalDashboardChangelog__changelogEntry--${x.category} devPortalDashboardChangelog__changelogEntry--${x.kind}`,key:v},a.createElement("div",{className:"devPortalDashboardChangelog__body"},a.createElement("div",{className:"devPortalDashboardChangelog__text"},a.createElement("p",{dangerouslySetInnerHTML:{__html:x.modified_text}})),a.createElement("div",{className:"devPortalDashboardChangelog__date"},x.modified_date))))),a.createElement("a",{href:`https://api.${(0,dt.Xk)()}/changelog`,className:"devPortalDashboardChangelog__link",target:"_blank",rel:"noreferrer"},"View full changelog")))},"DeveloperPortalDashboardChangelog");_i.displayName="DeveloperPortalDashboardChangelog";const Ei=_i,Si=s(()=>{const[S,f]=(0,a.useState)([]);return(0,a.useEffect)(()=>{fetch("/api/developer.events.list").then(v=>v.json()).then(v=>{const x=v.events,k=x.filter(D=>D.event_promotion===!0),T=k.length>0?k:x;f(T.slice(0,1))})},[]),a.createElement("div",null,S.map(v=>a.createElement("div",{className:"devPortalHomePromotedEvent","data-clog-click":!0,"data-clog-ui-step":!0,"data-clog-ui-element":"link_feature_tile","data-clog-ui-component":"inc_feature_tile",key:v.id},a.createElement("div",{className:"devPortalHomePromotedEvent--card"},a.createElement("img",{className:"devPortalHomePromotedEvent--icon",src:"/img/api/developer-program/dashboard_icon_event.svg",alt:"Promoted Slack developer event",role:"presentation"}),a.createElement("span",{className:"devPortalHomePromotedEvent--heading"},v.event_name),a.createElement("span",{className:"devPortalHomePromotedEvent--copy"},v.event_description),a.createElement("a",{className:"devPortalHomePromotedEvent--button-link",href:v.event_link,target:"_blank",rel:"noreferrer"},a.createElement("div",{className:"devPortalHomePromotedEvent--button"},"VIEW DETAILS"))),a.createElement("div",{className:"devPortalHomePromotedEvent--thumbnail-card"},a.createElement("img",{className:"devPortalHomePromotedEvent--thumbnail",src:v.event_thumbnail,alt:v.event_name,role:"presentation"})))))},"DeveloperPortalDashboardPromotedEventCard");Si.displayName="DeveloperPortalDashboardPromotedEventCard";const zi=Si;var Fr=H(940038),Cn=H(598674);const Br=new ve.Ay("slack_developers"),xi=s(S=>{let{teamId:f,teamName:v,developerId:x,token:k,setDeleteSandboxError:T,url:D}=S;const[F,j]=(0,a.useState)(!1),z=(0,fe.wA)(),Q=(0,a.useCallback)(()=>{z((0,te.O)())},[z]),ce=(0,a.useCallback)(()=>{j(!0);const ie=new FormData;ie.append("token",k),ie.append("developer_id",x),ie.append("sandbox_team_id",f),fetch("/api/developer.sandbox.delete",{method:"POST",body:ie}).then(de=>de.json()).then(de=>{de.ok?window.location.href=`https://api.${(0,dt.Xk)()}/developer-program/sandboxes`:T(`An error occurred: ${de.error}. Please try to delete your sandbox again.`)})},[k,x,f,T]);return a.createElement(E.A,{closeModal:Q,className:"devPortalDeleteSandboxModal"},a.createElement(M.rQ,null,a.createElement(M.Rc,{title:"Confirm sandbox deletion"})),a.createElement(M.$m,{className:"devPortalDeleteSandboxModal__modalPreamble"},a.createElement("p",{className:"margin-bottom"},"Deleting a sandbox cannot be undone. All messages, files, and workflows will be unrecoverable."),a.createElement("p",null,a.createElement("b",null,"Are you sure you want to delete",a.createElement("a",{href:`https://${D}`,target:"_blank",rel:"noreferrer"}," ",v),"?"))),a.createElement(M.jl,null,a.createElement(M.ox,null,F?a.createElement(Yr.A,{color:"blue",size:"jumbo"}):a.createElement(B.$n,{onClick:ce},Br.t("DELETE SANDBOX")))))},"DeveloperPortalDeleteSandboxModal");xi.displayName="DeveloperPortalDeleteSandboxModal";const Wr=xi,zr=s(S=>{let{token:f,sandbox:v,setDeleteSandboxError:x,setExtendArchiveSandboxError:k,multipleSandboxes:T=!1}=S;const D=v.encoded_developer_id,F=v.encoded_team_id,j=v.team_name,z=new Date,Q=z.setMonth(z.getMonth()+6),ce=Date.parse(v.date_archived)<=Q,ie=(0,a.useCallback)((Ke,Ve)=>{const Fe=new FormData;Fe.append("token",f),Fe.append("developer_id",Ke),Fe.append("sandbox_team_id",Ve),fetch("/api/developer.sandbox.extendArchiveDate",{method:"POST",body:Fe}).then(Be=>Be.json()).then(Be=>{Be.ok?window.location.href=`https://api.${(0,dt.Xk)()}/developer-program/sandboxes`:k(`An error occurred: ${Be.error}. Please try to extend your sandbox archive date again.`)})},[f,k]),de=(0,a.useCallback)(()=>{ie(D,F)},[D,F,ie]),me=(0,fe.wA)(),oe=(0,a.useCallback)(()=>{me((0,we.q)({element:a.createElement(Wr,{teamId:F,teamName:j,developerId:D,setDeleteSandboxError:x,token:f,url:v.url})}))},[me,F,j,D,f,x]),ne=(0,a.useCallback)(()=>{oe()},[oe]),q=s(()=>a.createElement(Fr.Ay,{width:"auto"},a.createElement(Cn.Dr,{label:"Extend archive date",onSelected:()=>{de()},disabled:!ce}),a.createElement(Cn.bX,null),a.createElement(Cn.Dr,{label:"Delete sandbox",onSelected:()=>{ne()},danger:!0})),"renderActionMenu");q.displayName="renderActionMenu";const se=Math.floor((Date.parse(v.date_archived)-(Date.now()+864e5))/1e3/60/60/24);return a.createElement(a.Fragment,null,T?a.createElement("div",{key:v.id,className:"devPortalSandboxes__activeSandbox--topBorder"},a.createElement("div",null,a.createElement("p",{className:"devPortalSandboxes__activeSandbox--sandboxName"},a.createElement("a",{href:`https://${v.url}`,target:"_blank",rel:"noreferrer"},v.team_name)),a.createElement("p",{className:"devPortalSandboxes__activeSandbox__domain"},v.url)),a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive"},a.createElement("p",null,"Archives in ",se," days")),a.createElement("div",null,a.createElement(Cn.cQ,{renderMenu:q,position:"bottom-right",offsetY:8},a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__actionMenu"},a.createElement("img",{alt:`Menu for ${v.team_name}`,src:"/img/api/developer-program/sandboxes_menu_dots.svg"}))))):a.createElement("div",{key:v.id,className:"devPortalSandboxes__activeSandbox"},a.createElement("div",null,a.createElement("p",null,a.createElement("a",{href:`https://${v.url}`,target:"_blank",rel:"noreferrer"},v.team_name)),a.createElement("p",{className:"devPortalSandboxes__activeSandbox__domain"},v.url)),a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive"},a.createElement("p",null,"Archives in ",se," days")),a.createElement("div",null,a.createElement(Cn.cQ,{renderMenu:q,position:"bottom-right",offsetY:8},a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__actionMenu"},a.createElement("img",{alt:`Menu for ${v.team_name}`,src:"/img/api/developer-program/sandboxes_menu_dots.svg"}))))))},"DeveloperPortalActiveSandboxes");zr.displayName="DeveloperPortalActiveSandboxes";const Qr=zr,wi=s(S=>{let{eligibility:f,developerId:v,token:x,secondOption:k=!1}=S;const T=(0,fe.wA)(),D=(0,a.useCallback)(()=>{T((0,we.q)({element:a.createElement(Jr,{form:Mn,developerId:v,token:x,isSandboxesPage:!0})}))},[T,Mn,v,x]),F=(0,a.useCallback)(()=>{D()},[D]);return a.createElement(a.Fragment,null,f&&!k?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__provision"},a.createElement("div",null,a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__provisionSandbox",onClick:F},a.createElement("img",{alt:"Provision Sandbox icon",src:"/img/api/developer-program/sandboxes_provision_sandbox_plus.svg",className:"devPortalSandboxes__plusIcon"}),"Provision Sandbox"))):null,f&&k?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__provision--topBorder"},a.createElement("div",null,a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__provisionSandbox",onClick:F},a.createElement("img",{alt:"Provision Sandbox icon",src:"/img/api/developer-program/sandboxes_provision_sandbox_plus.svg",className:"devPortalSandboxes__plusIcon"}),"Provision Sandbox"))):null,!f&&!k?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__provision"},a.createElement("div",null,a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__provisionSandbox",onClick:F,disabled:!0},a.createElement("img",{alt:"Provision Sandbox icon",src:"/img/api/developer-program/sandboxes_provision_sandbox_plus.svg",className:"devPortalSandboxes__plusIcon"}),"Provision Sandbox"))):null,!f&&k?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__provision--topBorder"},a.createElement("div",null,a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__provisionSandbox",onClick:F,disabled:!0},a.createElement("img",{alt:"Provision Sandbox icon",src:"/img/api/developer-program/sandboxes_provision_sandbox_plus.svg",className:"devPortalSandboxes__plusIcon"}),"Provision Sandbox"))):null)},"DeveloperPortalSandboxesProvisionSandboxItem");wi.displayName="DeveloperPortalSandboxesProvisionSandboxItem";const _n=wi,Ui=s(S=>{let{eligibility:f,developerId:v,token:x,reachLimit:k}=S;return a.createElement(a.Fragment,null,a.createElement(_n,{eligibility:f&&!k,developerId:v,token:x}),a.createElement(_n,{eligibility:f&&!k,developerId:v,token:x,secondOption:!0}))},"DeveloperPortalSandboxesProvisionSandbox");Ui.displayName="DeveloperPortalSandboxesProvisionSandbox";const la=Ui,qr=s(S=>{let{token:f,sandbox:v,setUnarchiveSandboxError:x,setDeleteSandboxError:k,activeSandboxCount:T,daysToDelete:D,multipleSandboxes:F=!1}=S;const j=v.encoded_developer_id,z=v.encoded_team_id,Q=v.team_name,ce=T<2,ie=(0,a.useCallback)((se,Ke)=>{const Ve=new FormData;Ve.append("token",f),Ve.append("developer_id",se),Ve.append("sandbox_team_id",Ke),fetch("/api/developer.sandbox.unarchive",{method:"POST",body:Ve}).then(Fe=>Fe.json()).then(Fe=>{Fe.ok?window.location.href=`https://api.${(0,dt.Xk)()}/developer-program/sandboxes`:x(`An error occurred: ${Fe.error}. Please try to unarchive your sandbox again.`)})},[f,x]),de=(0,a.useCallback)(()=>{ie(j,z)},[j,z,ie]),me=(0,fe.wA)(),oe=(0,a.useCallback)(()=>{me((0,we.q)({element:a.createElement(Wr,{teamId:z,teamName:Q,developerId:j,setDeleteSandboxError:k,token:f,url:v.url})}))},[me,z,Q,j,f,k]),ne=(0,a.useCallback)(()=>{oe()},[oe]),q=s(()=>a.createElement(Fr.Ay,{width:"auto"},a.createElement(Cn.Dr,{label:"Unarchive sandbox",onSelected:()=>{de()},disabled:!ce,description:ce?null:"You must delete one of your active sandboxes before you can unarchive"}),a.createElement(Cn.bX,null),a.createElement(Cn.Dr,{label:"Delete sandbox",onSelected:()=>{ne()},danger:!0})),"renderActionMenu");return q.displayName="renderActionMenu",a.createElement(a.Fragment,null,F?a.createElement("div",{key:v.id,className:"devPortalSandboxes__activeSandbox--topBorder"},a.createElement("div",null,a.createElement("p",null,a.createElement("a",{href:`https://${v.url}`}," ",v.team_name)),a.createElement("p",{className:"devPortalSandboxes__activeSandbox__domain"},v.url)),a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive"},D<8?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive--delete-soon"},a.createElement(Ze.A,{name:"warning"}),a.createElement("p",null,"Deletes in ",D," days")):a.createElement("p",null,"Deletes in ",D," days")),a.createElement("div",null,a.createElement(Cn.cQ,{renderMenu:q,position:"bottom-right",offsetY:8},a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__actionMenu"},a.createElement("img",{alt:`Menu for ${v.team_name}`,src:"/img/api/developer-program/sandboxes_menu_dots.svg"}))))):a.createElement("div",{key:v.id,className:"devPortalSandboxes__activeSandbox"},a.createElement("div",null,a.createElement("p",null,a.createElement("a",{href:`https://${v.url}`}," ",v.team_name)),a.createElement("p",{className:"devPortalSandboxes__activeSandbox__domain"},v.url)),a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive"},D<8?a.createElement("div",{className:"devPortalSandboxes__activeSandbox__archive--delete-soon"},a.createElement(Ze.A,{name:"warning"}),a.createElement("p",null,"Deletes in ",D," days")):a.createElement("p",null,"Deletes in ",D," days")),a.createElement("div",null,a.createElement(Cn.cQ,{renderMenu:q,position:"bottom-right",offsetY:8},a.createElement(B.Ay,{className:"devPortalSandboxes__activeSandbox__actionMenu"},a.createElement("img",{alt:`Menu for ${v.team_name}`,src:"/img/api/developer-program/sandboxes_menu_dots.svg"}))))))},"DeveloperPortalArchivedSandboxes");qr.displayName="DeveloperPortalArchivedSandboxes";const ki=qr,jn=s(S=>{let{token:f,unarchivedSandboxes:v,archivedSandboxes:x,developerId:k,reachLimit:T,devTeam:D,eligibility:F,activeSandboxesCount:j,archivedSandboxesCount:z,totalSandboxesCount:Q}=S;const[ce,ie]=(0,a.useState)(""),[de,me]=(0,a.useState)(""),[oe,ne]=(0,a.useState)("");let q=1;return a.createElement("div",{className:"devPortalSandboxes"},a.createElement("h1",null,"Sandboxes"),!F&&!T?a.createElement("div",{className:"devPortalSandboxes__ineligible"},a.createElement("div",null,a.createElement("h2",null,"Paid plan workspace required"),a.createElement("p",null,"You are not eligible to provision a grid-sandbox. Please join a paid plan workspace or provide a payment method to your workspace."),a.createElement(pt.z9,{href:`https://${D}.${(0,dt.Xk)()}/admin/billing/payment_methods`,type:"primary",size:"large"},"Provide payment method")),a.createElement("div",{className:"devPortalSandboxes__ineligible__imageContainer"},a.createElement("img",{alt:"Ineligible workspace graphic",src:"/img/api/developer-program/sandboxes_payment_plan_pig.svg"}))):null,ce?a.createElement(Tr.Ay,{type:"boxed",level:"error",align:"left"},a.createElement("span",null,ce)):null,oe?a.createElement(Tr.Ay,{type:"boxed",level:"error",align:"left"},a.createElement("span",null,oe)):null,de?a.createElement(Tr.Ay,{type:"boxed",level:"error",align:"left"},a.createElement("span",null,de)):null,a.createElement("div",{className:"apiSiteDashboardSandboxes__error"},ce),a.createElement("div",{className:"apiSiteDashboardSandboxes__error"},oe),a.createElement("div",{className:"apiSiteDashboardSandboxes__error"},de),a.createElement("div",null,a.createElement("h3",null,"Active"),a.createElement(_r.A,{className:"devPortalSandboxes__sandboxCountBadge"},`${j}/2`),a.createElement("div",{className:"devPortalSandboxes__sandboxListContainer"},v.length>0?v.map(se=>q===1?(q+=1,a.createElement(Qr,{key:se.id,token:f,sandbox:se,setDeleteSandboxError:ie,setExtendArchiveSandboxError:me})):a.createElement(Qr,{key:se.id,token:f,sandbox:se,setDeleteSandboxError:ie,setExtendArchiveSandboxError:me,multipleSandboxes:!0})):a.createElement(la,{eligibility:F,developerId:k,token:f,reachLimit:T}),v.length===1?a.createElement("div",null,a.createElement(_n,{eligibility:F&&!T,developerId:k,token:f,secondOption:!0})):null)),x.length>0?a.createElement("div",{className:"devPortalSandboxes__archivedSection"},a.createElement("h3",null,"Archived"),a.createElement(_r.A,{className:"devPortalSandboxes__sandboxCountBadge"},z),a.createElement("div",{className:"devPortalSandboxes__sandboxListContainer"},x.map(se=>x.length===1?a.createElement(ki,{key:se.id,token:f,sandbox:se,setDeleteSandboxError:ie,setUnarchiveSandboxError:ne,activeSandboxCount:v.length,daysToDelete:se.date_deleted_countdown}):a.createElement(ki,{key:se.id,token:f,sandbox:se,setDeleteSandboxError:ie,setUnarchiveSandboxError:ne,activeSandboxCount:v.length,daysToDelete:se.date_deleted_countdown,multipleSandboxes:!0})))):null,a.createElement("div",{className:"devPortalSandboxes__total"},a.createElement("p",null,`Monthly sandbox provisioning limit: ${Q} out of 10`)))},"DeveloperPortalSandboxes");jn.displayName="DeveloperPortalSandboxes";const Zr=jn,In=s(S=>{let{events:f}=S;const v=f.filter(F=>F.event_promotion===!0),x=v.length>0?v[0]:f[0],T=new Date(x.event_start_date.replace(/-/g,"/")).toDateString().split(" "),D=`${T[1]} ${T[2]}`;return a.createElement("div",{className:"devPortalEvents__promotedEvent__sectionInner"},a.createElement("div",{className:"devPortalEvents__promotedEvent__item"},a.createElement("div",{className:"devPortalEvents__promotedEvent__itemInner"},a.createElement("div",{className:"devPortalEvents__promotedEvent__itemByline"},a.createElement(_r.A,{className:"devPortalEvents__promotedEvent__badge"},D),a.createElement("p",null,x.event_location)),a.createElement("div",{className:"devPortalEvents__promotedEvent__itemTitle"},a.createElement("h2",null,x.event_name)),a.createElement("div",{className:"devPortalEvents__promotedEvent__itemText"},a.createElement("p",null,x.event_description)),a.createElement("div",{className:"devPortalEvents__promotedEvent__itemCta"},a.createElement("a",{className:"button",href:x.event_link,target:"_blank",rel:"noreferrer"},"REGISTER NOW"))),a.createElement("div",{className:"devPortalEvents__promotedEvent__itemImage"},a.createElement("a",{href:x.event_link},a.createElement("img",{className:"image",src:x.event_images[0],alt:x.event_name})))))},"DeveloperPortalPromotedEvent");In.displayName="DeveloperPortalPromotedEvent";const Ur=In,ei=s(S=>{let{event:f}=S;const x=new Date(f.event_start_date.replace(/-/g,"/")).toDateString().split(" "),k=`${x[1]} ${x[2]}`;return a.createElement("div",{className:"devPortalEventsCard__content"},a.createElement("figure",{className:"devPortalEventsCard__media"},a.createElement("img",{src:f.event_images[0],alt:f.event_name,role:"presentation"})),a.createElement("header",{className:"devPortalEventsCard__copy"},a.createElement("span",{className:"devPortalEventsCard__subheading"},a.createElement(_r.A,{className:"devPortalEvents__promotedEvent__badge"},k),a.createElement("p",null,f.event_location)),a.createElement("h3",{className:"devPortalEventsCard__heading"},f.event_name)),a.createElement("div",{className:"devPortalEventsCard__description"},f.event_description),a.createElement("div",{className:"devPortalEventsCard__ctas"},a.createElement("a",{target:"_blank",rel:"noreferrer",href:f.event_link},a.createElement("span",{className:"devPortalEventsCard__cta"},"Register"," ",a.createElement("img",{src:"/img/api/developer-program/events_arrow_right.svg",alt:"Register for event"})))))},"DeveloperPortalEventCard");ei.displayName="DeveloperPortalEventCard";const pr=ei,Gi=s(S=>{let{events:f}=S;const v=f.filter(oe=>oe.event_promotion===!0),k=(v.length>0?v[0]:f[0]).id,T=f.filter(oe=>oe.id!==k),D=[],[F,j]=(0,a.useState)(T),[z,Q]=(0,a.useState)(""),[ce,ie]=(0,a.useState)(D),de=s(oe=>{const ne=[];if(oe.length>0)for(let q=0;q<T.length;q++)for(let se=0;se<oe.length;se++)T[q].event_type===oe[se]&&ne.push(T[q]);return ne},"getFilteredResults"),me=s((oe,ne)=>{const q=[];if(!oe&&ne.length===0){j(T);return}for(let se=0;se<T.length;se++)if(oe){const Ke=oe.toLowerCase(),Ve=T[se].event_tags.map(Fe=>Fe.toLowerCase());if(T[se].event_name.toLowerCase().includes(Ke)||Ve.includes(Ke)||T[se].event_description.toLowerCase().includes(Ke))if(ne.length>0){const Fe=de(ne);if(Fe.length>0)for(let Be=0;Be<Fe.length;Be++)Fe[Be].id===T[se].id&&q.push(T[se])}else q.push(T[se])}else{const Ke=de(ne);if(Ke.length>0)for(let Ve=0;Ve<Ke.length;Ve++)Ke[Ve].id===T[se].id&&q.push(T[se])}j(q)},"searchEvents");return a.createElement("div",{className:"devPortalDisplayEvents__sectionInner"},a.createElement("div",{className:"devPortalDisplayEvents__item"},a.createElement("div",{className:"devPortalDisplayEvents__searchContainer"},a.createElement("div",null,a.createElement("h2",null,"Browse all events")),a.createElement("div",{className:"devPortalDisplayEvents__filterSearch"},a.createElement("form",{className:"devFilterSearch"},a.createElement("div",{className:"filterInput"},a.createElement("div",{className:"filterByContainer"},a.createElement("h3",null,"Filter by")),a.createElement("div",{className:"virtualContainer"},a.createElement("label",{htmlFor:"virtual"},a.createElement("input",{type:"checkbox",className:"virtual",id:"virtual",name:"virtual",value:"virtual",onChange:oe=>{const ne=ce.indexOf(oe.target.value);ne>-1?(ce.splice(ne,1),ie(ce)):(ce.push(oe.target.value),ie(ce)),me(z,ce)}}),"Virtual")),a.createElement("div",{className:"inPersonContainer"},a.createElement("label",{htmlFor:"inPerson"}," ",a.createElement("input",{type:"checkbox",className:"inPerson",id:"inPerson",name:"inPerson",value:"in_person",onChange:oe=>{const ne=ce.indexOf(oe.target.value);ne>-1?(ce.splice(ne,1),ie(ce)):(ce.push(oe.target.value),ie(ce)),me(z,ce)}}),"In-Person")))),a.createElement("form",{className:"devEventSearch",onSubmit:oe=>{me(z,ce),oe.preventDefault()}},a.createElement("input",{type:"text",className:"query",id:"query",name:"query",value:z,placeholder:"Search",onChange:oe=>{Q(oe.target.value)}}),a.createElement("input",{type:"submit",className:"submit",value:"Search"})))),a.createElement("div",{className:"devPortalDisplayEvents__eventContainer"},F.length===0?a.createElement("h4",null,"No more events found."):a.createElement("div",{className:"devPortalDisplayEvents__eventCardContainer"},F.map(oe=>a.createElement(pr,{key:oe.id,event:oe}))))))},"DeveloperPortalEventsContainer");Gi.displayName="DeveloperPortalEventsContainer";const Rt=Gi,un=s(()=>{const[S,f]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{fetch("/api/developer.events.list").then(k=>k.json()).then(k=>{const T=k.events;f(T),x(!0)})},[]),a.createElement("div",{className:"devPortalEvents"},v?a.createElement(a.Fragment,null,a.createElement("div",{className:"devPortalEvents__promotedEvent"},a.createElement(Ur,{events:S})),a.createElement("div",{className:"devPortalEvents__events"},a.createElement(Rt,{events:S}))):null)},"DeveloperPortalEvents");un.displayName="DeveloperPortalEvents";const ji=un;var Vi=H(269551);const ti=s(()=>{const S=(0,fe.wA)(),f=(0,a.useCallback)(()=>{S((0,te.O)())},[S]);return a.createElement(E.A,{closeModal:f,className:"devPortalWelcomeModal"},a.createElement("img",{src:"/img/api/developer-program/dashboard_modal_welcome_image.svg",alt:"Welcome banner"}),a.createElement(M.$m,{className:"devPortalWelcomeModal__modalPreamble"},a.createElement("h3",null,"Welcome to the Slack Developer Program!"),a.createElement("p",{className:"devPortalWelcomeModal__paddingBottom"},"This portal is your home for exclusive access to beta features, tooling, and resources created to help you build and grow."),a.createElement("p",null,a.createElement("b",null,"Start by provisioning your own dedicated Enterprise Grid sandbox to freely experiment with all available Slack features."))),a.createElement(M.jl,null,a.createElement(M.ox,null,a.createElement(B.$n,{onClick:f},"Get started"))))},"DeveloperPortalWelcomeModal");ti.displayName="DeveloperPortalWelcomeModal";const ca=ti,On=s(S=>{let{firstNameError:f="",dataQaPrefix:v="developer_program_join_first_name"}=S;const[x,k]=(0,a.useState)(""),T=(0,a.useCallback)(D=>{k(F=>D)},[k]);return a.createElement(a.Fragment,null,a.createElement(le.A,{text:"First name",className:"c-form__label","data-qa":v},a.createElement(Mt.A,{className:"c-form__input",id:"first_name",name:"first_name",isRequired:!0,type:"text",value:x,onChange:T})),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},f))},"DeveloperProgramJoinFirstName");On.displayName="DeveloperProgramJoinFirstName";const Ci=On,Ki=s(S=>{let{lastNameError:f="",dataQaPrefix:v="developer_program_join_last_name"}=S;const[x,k]=(0,a.useState)(""),T=(0,a.useCallback)(D=>{k(F=>D)},[k]);return a.createElement(a.Fragment,null,a.createElement(le.A,{text:"Last name",className:"c-form__label","data-qa":v},a.createElement(Mt.A,{className:"c-form__input",id:"last_name",name:"last_name",isRequired:!0,type:"text",value:x,onChange:T})),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},f))},"DeveloperProgramJoinLastName");Ki.displayName="DeveloperProgramJoinLastName";const ni=Ki,Ni=s(S=>{let{country:f="",dataQaPrefix:v="developer_program_join_name",dataFirstNameQaPrefix:x="developer_program_first_name",dataLastNameQaPrefix:k="developer_program_last_name"}=S;return a.createElement(a.Fragment,null,f==="JP"||f==="KR"?a.createElement("div",{className:"o-two-columns v--even","data-qa":v},a.createElement(ni,{dataQaPrefix:k}),a.createElement(Ci,{dataQaPrefix:x})):a.createElement("div",{className:"o-two-columns v--even","data-qa":v},a.createElement(Ci,{dataQaPrefix:x}),a.createElement(ni,{dataQaPrefix:k})))},"DeveloperProgramJoinName");Ni.displayName="DeveloperProgramJoinName";const or=Ni,ri=s(S=>{let{dataQaPrefix:f="developer_program_join_email",emailError:v=""}=S;const[x,k]=(0,a.useState)(""),T=(0,a.useCallback)(D=>{k(F=>D)},[k]);return a.createElement("div",{className:"u-margin-top--flush","data-qa":f},a.createElement(le.A,{text:"Email address",className:"c-form__label"},a.createElement(Mt.A,{className:"c-form__input",id:"email",name:"email",placeholder:"example@acme.com",isRequired:!0,type:"email",value:x,onChange:T})),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},v))},"DeveloperProgramJoinEmail");ri.displayName="DeveloperProgramJoinEmail";const Lr=ri,nn=s(S=>{let{countryError:f="",dataQaPrefix:v="developer_program_join_country",countrySelect:x=""}=S;return a.createElement("div",{className:"v--even",id:"state_country_wrapper","data-qa":v},a.createElement(le.A,{className:"c-form__label",text:"Country/Region"},a.createElement("div",{dangerouslySetInnerHTML:{__html:x}}),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},f)))},"DeveloperProgramJoinCountry");nn.displayName="DeveloperProgramJoinCountry";const ua=nn,Ai=s(S=>{let{zipError:f="",dataQaPrefix:v="developer_program_join_zip"}=S;const[x,k]=(0,a.useState)(""),T=(0,a.useCallback)(D=>{k(F=>D)},[k]);return a.createElement("div",{className:"v--even",id:"state_country_wrapper","data-qa":v},a.createElement(le.A,{className:"c-form__label",text:"ZIP/Postal code"},a.createElement(Mt.A,{className:"c-form__input",id:"postal_code",maxCharacterLimit:12,name:"postal_code",isRequired:!0,type:"text",value:x,onChange:T}),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},f)))},"DeveloperProgramJoinZip");Ai.displayName="DeveloperProgramJoinZip";const Pr=Ai,Zt=s(S=>{let{dataQaPrefix:f="developer_program_join_newsletter"}=S;const[v,x]=(0,a.useState)(!0),k=s(()=>{v?x(!1):v||x(!0)},"valueUpdateCheckbox");return a.createElement("div",{className:"v--even",id:"state_country_wrapper","data-qa":f},a.createElement(le.A,{className:"u-weight-normal u-text--muted newsletter_subscribe_input",text:"Subscribe to the Developer Newsletter",type:"inline",cursor:"pointer"},a.createElement(et.A,{className:"c-form__checkbox c-form__consent__newsletter-subscribe-checkbox",name:"newsletter_subscribe_input",id:"newsletter_subscribe_input",type:"checkbox",checked:!!v,onChange:k})))},"DeveloperProgramJoinNewsletter");Zt.displayName="DeveloperProgramJoinNewsletter";const da=Zt,ii=s(S=>{let{dataQaPrefix:f="developer_program_join_tos",TOSError:v=""}=S;const[x,k]=(0,a.useState)(!1),T=s(()=>{x?k(!1):x||k(!0)},"valueUpdateCheckbox");return a.createElement("div",{className:"c-form__container u-margin-top--small u-margin-bottom--small c-form__checkbox__check c-form__consent__slack-tos-language",id:"state_country_wrapper","data-qa":f},a.createElement(le.A,{className:"u-weight-normal u-text--muted newsletter_subscribe_input",type:"inline",text:"",cursor:"pointer"},a.createElement(et.A,{className:"c-form__checkbox c-form__consent__slack-tos-checkbox",id:"slack_tos_input",name:"slack_tos_input",type:"checkbox",checked:!!x,onChange:T,isRequired:!0}),a.createElement("span",{className:"u-weight-normal u-text--muted slack_tos_input",dangerouslySetInnerHTML:{__html:`I agree to Slack's <a href="https://${dt.Xk}/trust/privacy/privacy-policy" target="__blank">Privacy Policy</a>,
						<a href="https://${dt.Xk}/terms-of-service/api" target="__blank">API Terms of Service</a>, and <a href="https://${dt.Xk}/terms-of-service/slack-developer-program" target="__blank">Developer Program Agreement</a>.`}})),a.createElement("div",{className:"c-form__inline-error u-margin-top--small u-margin-bottom--small hide checkbox-error-padding"},v))},"DeveloperProgramJoinTOS");ii.displayName="DeveloperProgramJoinTOS";const Gr=ii,h=s(S=>{let{consentError:f="",dataQaPrefix:v="developer_program_join_consent",consentFields:x=""}=S;return a.createElement("div",{className:"v--even",id:"state_country_wrapper","data-qa":v},a.createElement(le.A,{className:"c-form__label",text:""},a.createElement("div",{dangerouslySetInnerHTML:{__html:x}}),a.createElement("div",{className:"c-form__inline-error u-margin-bottom--small hide"},f)))},"DeveloperProgramJoinConsent");h.displayName="DeveloperProgramJoinConsent";const y=h,P=s(S=>{let{countrySelect:f,consentFields:v}=S;return(0,a.useEffect)(()=>{const x=new Event("rendered");document.dispatchEvent(x)},[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"c-cta c-cta-developer c-cta--signup t-dark-theme u-hide-on-print"},a.createElement("div",{className:"o-content-container"},a.createElement("header",{className:"o-hero__header"},a.createElement("h1",{className:"o-hero__header__headline"},"Join the Slack Developer Program"),a.createElement("p",{className:"o-hero__header__copy"},"Register today to create your developer account, and elevate your development experience with early access to beta features, a full-featured sandbox, and more!"),a.createElement("p",{className:"o-hero__header__copy o-hero__overlay"},"Want to learn about the program? Read the"," ",a.createElement("a",{href:"/developer-program#faq",target:"_blank"},"FAQ"),".")))),a.createElement("div",{className:"c-feature o-section v--borderless u-overflow--visible o-overflow-container u-margin-bottom--small"},a.createElement("div",{className:"c-form__wrap--inline u-padding--flush u-margin--centered"},a.createElement("div",{className:"c-shadowbox"},a.createElement("form",{className:"c-form v--vertical--spaced",id:"developer_contact_form",method:"post"},a.createElement("div",{className:"c-form__notifications u-margin-bottom--flush"},"Error messages go here. maybe add crumb below?"),a.createElement("div",null,a.createElement(or,null)),a.createElement("div",null,a.createElement(Lr,null)),a.createElement("div",{className:"o-two-columns v--even"},a.createElement(ua,{countrySelect:f}),a.createElement(Pr,null)),a.createElement("div",null,a.createElement(le.A,{className:"c-form__label",text:"Subscriptions"}),a.createElement(da,null)),a.createElement("div",null,a.createElement(Gr,null)),a.createElement("div",null,a.createElement(y,{consentFields:v})),a.createElement("div",{id:"form_errors",className:"c-form__inline-error u-margin-top--small u-margin-bottom--small hide c-form__main-error-message"},"Please complete the indicated fields above and try submitting again."),a.createElement("button",{className:"c-button c-form__action v--primary c-form__disabled u-margin-top--large c-form__full-width","data-clog-ui-element":"form_submit","data-clog-ui-step":"page_help_contact","data-js":"form_submit",id:"developer_submit",type:"submit",disabled:!0},"Submit"))))))},"DeveloperProgramJoin");P.displayName="DeveloperProgramJoin";const R=P,U=s(S=>{let{pageType:f,name:v="",eligibility:x=!1,reachLimit:k=!1,developerId:T="",token:D="",blogs:F=[],changelogEntries:j=[],unarchivedSandboxes:z=[],archivedSandboxes:Q=[],devTeam:ce="",activeSandboxesCount:ie=0,archivedSandboxesCount:de=0,totalSandboxesCount:me=0,pageMessage:oe="",email:ne="",status:q="",countrySelect:se="",consentFields:Ke=""}=S,Ve;const Fe=(0,fe.wA)(),Be=(0,a.useCallback)(()=>{Fe((0,we.q)({element:a.createElement(ca,null)}))},[Fe]);if(f==="home"){const Qe=[{svgIcon:"/img/api/developer-program/dashboard_icon_document.svg",heading:"Start building",copy:"Get up and running with an introduction to building on Slack.",url:`https://api.${(0,dt.Xk)()}/start`,id:"quickstart"},{svgIcon:"/img/api/developer-program/dashboard_icon_webinar.svg",heading:"Videos and webinars",copy:"Join our upcoming live events or on-demand webinars in a city or on a screen near you.",url:`https://api.${(0,dt.Xk)()}/developer-program/events`,id:"events"}];Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{id:"docs_div",className:"devPortalLayout__gridNav devPortalLayout__gridNav__light"},a.createElement(mn,null)),q==="new"?a.createElement(a.Fragment,null,Be()):null,a.createElement("div",{className:"devPortalLayout__gridMainContent"},a.createElement("div",{className:"devIdentityDashboard"},a.createElement(br,{name:v}),a.createElement("div",{className:"devPortalCards"},Qe.map(_t=>a.createElement(vi,{key:_t.heading,svgIcon:_t.svgIcon,heading:_t.heading,copy:_t.copy,url:_t.url,id:_t.id})),a.createElement(Xr,{eligibility:x,reachLimit:k,developerId:T,token:D})),a.createElement("div",{className:"devPortalExtendedCards"},a.createElement(zi,null)),a.createElement("div",{className:"devPortalLatestNewsContainer"},a.createElement(Hr,{blogs:F})),a.createElement("div",{className:"devPortalDashboardChangelogContainer"},a.createElement(Ei,{entries:j})))),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null)))}else f==="sandboxes"?Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{id:"docs_div",className:"devPortalLayout__gridNav"},a.createElement(mn,null)),a.createElement("div",{className:"devPortalLayout__gridMainContent"},a.createElement("div",{className:"devIdentitySandboxes"},a.createElement(Zr,{token:D,unarchivedSandboxes:z,archivedSandboxes:Q,developerId:T,reachLimit:k,devTeam:ce,eligibility:x,activeSandboxesCount:ie,archivedSandboxesCount:de,totalSandboxesCount:me})),a.createElement(Y.A,null)),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null))):f==="events"?Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{id:"docs_div",className:"devPortalLayout__gridNav"},a.createElement(mn,null)),a.createElement("div",{className:"devPortalLayout__gridMainContent"},a.createElement("div",{className:"devPortalEvents"},a.createElement(ji,null)),a.createElement(Y.A,null)),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null))):f==="deletedOrBlocked"?Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{className:"devPortalLayout__gridMainContent--message"},a.createElement("header",{className:"o-hero__header",dangerouslySetInnerHTML:{__html:oe}})),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null))):f==="notVerified"?Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{className:"devPortalLayout__gridMainContent--message"},a.createElement("header",{className:"o-hero__header",dangerouslySetInnerHTML:{__html:oe}}),a.createElement(Cr,{email:ne})),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null))):f==="joinForm"?Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{className:"devPortalLayout__gridMainContent"},a.createElement("div",{className:"devProgramJoin"},a.createElement(R,{countrySelect:se,consentFields:Ke})))):Ve=a.createElement("div",{className:"devPortalDashboardHome devPortalLayout__gridWrapper"},a.createElement("div",{className:"devPortalLayout__gridMainContent--message"},a.createElement("h1",null,"Seems like you might be lost..."),a.createElement("p",null,"This page was not found - you can visit the Developer Portal landing page"," ",a.createElement(Vi.A,{href:`https://api.${(0,dt.Xk)()}/developer-program`},"here"),".")),a.createElement("div",{className:"devPortalLayout__gridInternalPageFooter"},a.createElement(Kt,null)));return a.createElement("div",null,Ve)},"DeveloperPortalShell");U.displayName="DeveloperPortalShell";const K=U;(0,$e.Ay)({ModalContainer:Y.A,CreateAppModalContainer:Se,ViewManifestModalContainer:xe,ApiDocsChangelog:Ge,ApiDocsFeedback:Ot,ApiDocsSurvey:Wn,ApiDocsHeaderNav:wn,ApiDocsReferenceSwitcher:Ln,ApiDocsFilterableReferenceList:$r,ApiDocsSIWSButtonGenerator:Gn,ApiDocsAddToSlackButtonGenerator:cn,ApiDocsIcon:Pe});const re=(0,_.A)();(0,$e.IC)(re),(0,$e.Ay)({ApiDocsConfigTokenCard:mi,DeveloperPortalShell:K,DeveloperPortalTopNav:mn,DeveloperPortalFooterNav:Kt,ApiDocsDevNewsletterSubscribe:Zn,ApiDocsDeveloperContactThanks:Me,ApiDocsDeveloperEmailResend:Cr,ApiDocsDeveloperNewsletterConfirmation:Pn,ApiDocsDeveloperNewsletterUnsubscribe:m}),$().setAppElement("#page")},590490:(Jt,nt,H)=>{"use strict";H.d(nt,{A:()=>st});var _=H(213583),$e=H(389418),pe=H(813469),$=H(304129),Y=H(126688),a=H(260230),fe=H(436404),B=H(750993),we=H(225906),ve=H(991211);const st=s(()=>{const Re=window.boot_data,te=(0,$e.A)({teamOrEnterpriseId:Re.team_id||"T00000000",reducers:{bootData:a.A,experiments:$.A,selfTeamIds:B.A,sideEffects:ve.A,dangerouslyOverrideCreateSelectorSanityCheck:(0,pe.Ay)({},{},{storeKey:"dangerouslyOverrideCreateSelectorSanityCheck",persistenceEnabled:!1})},middlewares:(0,_.U)(),disablePersistence:!0,sideEffects:[]});return te.dispatch((0,Y.ob)(Re.experiment_assignments)),te.dispatch((0,fe.B)(Re)),(0,we.fO)(Re.api_token,Re.team_id),Re.page_needs_enterprise&&(0,we.fO)(Re.enterprise_api_token,Re.enterprise_id),te},"configureStoreForPrimer")},610202:(Jt,nt,H)=>{(function(_){_(H(315237))})(function(_){_.defineOption("placeholder","",function(B,we,ve){var st=ve&&ve!=_.Init;if(we&&!st)B.on("blur",Y),B.on("change",a),B.on("swapDoc",a),_.on(B.getInputField(),"compositionupdate",B.state.placeholderCompose=function(){$(B)}),a(B);else if(!we&&st){B.off("blur",Y),B.off("change",a),B.off("swapDoc",a),_.off(B.getInputField(),"compositionupdate",B.state.placeholderCompose),$e(B);var Re=B.getWrapperElement();Re.className=Re.className.replace(" CodeMirror-empty","")}we&&!B.hasFocus()&&Y(B)});function $e(B){B.state.placeholder&&(B.state.placeholder.parentNode.removeChild(B.state.placeholder),B.state.placeholder=null)}s($e,"clearPlaceholder");function pe(B){$e(B);var we=B.state.placeholder=document.createElement("pre");we.style.cssText="height: 0; overflow: visible",we.style.direction=B.getOption("direction"),we.className="CodeMirror-placeholder CodeMirror-line-like";var ve=B.getOption("placeholder");typeof ve=="string"&&(ve=document.createTextNode(ve)),we.appendChild(ve),B.display.lineSpace.insertBefore(we,B.display.lineSpace.firstChild)}s(pe,"setPlaceholder");function $(B){setTimeout(function(){var we=!1;if(B.lineCount()==1){var ve=B.getInputField();we=ve.nodeName=="TEXTAREA"?!B.getLine(0).length:!/[^\u200b]/.test(ve.querySelector(".CodeMirror-line").textContent)}we?pe(B):$e(B)},20)}s($,"onComposition");function Y(B){fe(B)&&pe(B)}s(Y,"onBlur");function a(B){var we=B.getWrapperElement(),ve=fe(B);we.className=we.className.replace(" CodeMirror-empty","")+(ve?" CodeMirror-empty":""),ve?pe(B):$e(B)}s(a,"onChange");function fe(B){return B.lineCount()===1&&B.getLine(0)===""}s(fe,"isEmpty")})},609751:(Jt,nt,H)=>{(function(_){_(H(315237))})(function(_){"use strict";var $e="CodeMirror-hint",pe="CodeMirror-hint-active";_.showHint=function(A,C,W){if(!C)return A.showHint(W);W&&W.async&&(C.async=!0);var X={hint:C};if(W)for(var O in W)X[O]=W[O];return A.showHint(X)},_.defineExtension("showHint",function(A){A=fe(this,this.getCursor("start"),A);var C=this.listSelections();if(!(C.length>1)){if(this.somethingSelected()){if(!A.hint.supportsSelection)return;for(var W=0;W<C.length;W++)if(C[W].head.line!=C[W].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var X=this.state.completionActive=new $(this,A);X.options.hint&&(_.signal(this,"startCompletion",this),X.update(!0))}}),_.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function $(A,C){if(this.cm=A,this.options=C,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var W=this;A.on("cursorActivity",this.activityFunc=function(){W.cursorActivity()})}}s($,"Completion");var Y=window.requestAnimationFrame||function(A){return setTimeout(A,1e3/60)},a=window.cancelAnimationFrame||clearTimeout;$.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&_.signal(this.data,"close"),this.widget&&this.widget.close(),_.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(A,C){var W=A.list[C],X=this;this.cm.operation(function(){W.hint?W.hint(X.cm,A,W):X.cm.replaceRange(B(W),W.from||A.from,W.to||A.to,"complete"),_.signal(A,"pick",W),X.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(a(this.debounce),this.debounce=0);var A=this.startPos;this.data&&(A=this.data.from);var C=this.cm.getCursor(),W=this.cm.getLine(C.line);if(C.line!=this.startPos.line||W.length-C.ch!=this.startLen-this.startPos.ch||C.ch<A.ch||this.cm.somethingSelected()||!C.ch||this.options.closeCharacters.test(W.charAt(C.ch-1)))this.close();else{var X=this;this.debounce=Y(function(){X.update()}),this.widget&&this.widget.disable()}},update:function(A){if(this.tick!=null){var C=this,W=++this.tick;te(this.options.hint,this.cm,this.options,function(X){C.tick==W&&C.finishUpdate(X,A)})}},finishUpdate:function(A,C){this.data&&_.signal(this.data,"update");var W=this.widget&&this.widget.picked||C&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=A,A&&A.list.length&&(W&&A.list.length==1?this.pick(A,0):(this.widget=new st(this,A),_.signal(A,"shown")))}};function fe(A,C,W){var X=A.options.hintOptions,O={};for(var J in M)O[J]=M[J];if(X)for(var J in X)X[J]!==void 0&&(O[J]=X[J]);if(W)for(var J in W)W[J]!==void 0&&(O[J]=W[J]);return O.hint.resolve&&(O.hint=O.hint.resolve(A,C)),O}s(fe,"parseOptions");function B(A){return typeof A=="string"?A:A.text}s(B,"getText");function we(A,C){var W={Up:function(){C.moveFocus(-1)},Down:function(){C.moveFocus(1)},PageUp:function(){C.moveFocus(-C.menuSize()+1,!0)},PageDown:function(){C.moveFocus(C.menuSize()-1,!0)},Home:function(){C.setFocus(0)},End:function(){C.setFocus(C.length-1)},Enter:C.pick,Tab:C.pick,Esc:C.close},X=/Mac/.test(navigator.platform);X&&(W["Ctrl-P"]=function(){C.moveFocus(-1)},W["Ctrl-N"]=function(){C.moveFocus(1)});var O=A.options.customKeys,J=O?{}:W;function Z(ke,Ee){var w;typeof Ee!="string"?w=s(function(Se){return Ee(Se,C)},"bound"):W.hasOwnProperty(Ee)?w=W[Ee]:w=Ee,J[ke]=w}if(s(Z,"addBinding"),O)for(var xe in O)O.hasOwnProperty(xe)&&Z(xe,O[xe]);var _e=A.options.extraKeys;if(_e)for(var xe in _e)_e.hasOwnProperty(xe)&&Z(xe,_e[xe]);return J}s(we,"buildKeyMap");function ve(A,C){for(;C&&C!=A;){if(C.nodeName.toUpperCase()==="LI"&&C.parentNode==A)return C;C=C.parentNode}}s(ve,"getHintElement");function st(A,C){this.completion=A,this.data=C,this.picked=!1;var W=this,X=A.cm,O=X.getInputField().ownerDocument,J=O.defaultView||O.parentWindow,Z=this.hints=O.createElement("ul"),xe=A.cm.options.theme;Z.className="CodeMirror-hints "+xe,this.selectedHint=C.selectedHint||0;for(var _e=C.list,ke=0;ke<_e.length;++ke){var Ee=Z.appendChild(O.createElement("li")),w=_e[ke],Se=$e+(ke!=this.selectedHint?"":" "+pe);w.className!=null&&(Se=w.className+" "+Se),Ee.className=Se,w.render?w.render(Ee,C,w):Ee.appendChild(O.createTextNode(w.displayText||B(w))),Ee.hintId=ke}var N=A.options.container||O.body,He=X.cursorCoords(A.options.alignWithWord?C.from:null),Xe=He.left,yt=He.bottom,Ft=!0,Ge=0,Ze=0;if(N!==O.body){var Bt=["absolute","relative","fixed"].indexOf(J.getComputedStyle(N).position)!==-1,Pe=Bt?N:N.offsetParent,le=Pe.getBoundingClientRect(),Ae=O.body.getBoundingClientRect();Ge=le.left-Ae.left-Pe.scrollLeft,Ze=le.top-Ae.top-Pe.scrollTop}Z.style.left=Xe-Ge+"px",Z.style.top=yt-Ze+"px";var he=J.innerWidth||Math.max(O.body.offsetWidth,O.documentElement.offsetWidth),ge=J.innerHeight||Math.max(O.body.offsetHeight,O.documentElement.offsetHeight);N.appendChild(Z);var Ne=A.options.moveOnOverlap?Z.getBoundingClientRect():new DOMRect,rt=A.options.paddingForScrollbar?Z.scrollHeight>Z.clientHeight+1:!1,an;setTimeout(function(){an=X.getScrollInfo()});var qe=Ne.bottom-ge;if(qe>0){var Ot=Ne.bottom-Ne.top,pt=He.top-(He.bottom-Ne.top);if(pt-Ot>0)Z.style.top=(yt=He.top-Ot-Ze)+"px",Ft=!1;else if(Ot>ge){Z.style.height=ge-5+"px",Z.style.top=(yt=He.bottom-Ne.top-Ze)+"px";var tt=X.getCursor();C.from.ch!=tt.ch&&(He=X.cursorCoords(tt),Z.style.left=(Xe=He.left-Ge)+"px",Ne=Z.getBoundingClientRect())}}var dt=Ne.right-he;if(dt>0&&(Ne.right-Ne.left>he&&(Z.style.width=he-5+"px",dt-=Ne.right-Ne.left-he),Z.style.left=(Xe=He.left-dt-Ge)+"px"),rt)for(var Mt=Z.firstChild;Mt;Mt=Mt.nextSibling)Mt.style.paddingRight=X.display.nativeBarWidth+"px";if(X.addKeyMap(this.keyMap=we(A,{moveFocus:function(lt,Je){W.changeActive(W.selectedHint+lt,Je)},setFocus:function(lt){W.changeActive(lt)},menuSize:function(){return W.screenAmount()},length:_e.length,close:function(){A.close()},pick:function(){W.pick()},data:C})),A.options.closeOnUnfocus){var on;X.on("blur",this.onBlur=function(){on=setTimeout(function(){A.close()},100)}),X.on("focus",this.onFocus=function(){clearTimeout(on)})}X.on("scroll",this.onScroll=function(){var lt=X.getScrollInfo(),Je=X.getWrapperElement().getBoundingClientRect(),et=yt+an.top-lt.top,Ye=et-(J.pageYOffset||(O.documentElement||O.body).scrollTop);if(Ft||(Ye+=Z.offsetHeight),Ye<=Je.top||Ye>=Je.bottom)return A.close();Z.style.top=et+"px",Z.style.left=Xe+an.left-lt.left+"px"}),_.on(Z,"dblclick",function(lt){var Je=ve(Z,lt.target||lt.srcElement);Je&&Je.hintId!=null&&(W.changeActive(Je.hintId),W.pick())}),_.on(Z,"click",function(lt){var Je=ve(Z,lt.target||lt.srcElement);Je&&Je.hintId!=null&&(W.changeActive(Je.hintId),A.options.completeOnSingleClick&&W.pick())}),_.on(Z,"mousedown",function(){setTimeout(function(){X.focus()},20)});var Dn=this.getSelectedHintRange();return(Dn.from!==0||Dn.to!==0)&&this.scrollToActive(),_.signal(C,"select",_e[this.selectedHint],Z.childNodes[this.selectedHint]),!0}s(st,"Widget"),st.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var A=this.completion.cm;this.completion.options.closeOnUnfocus&&(A.off("blur",this.onBlur),A.off("focus",this.onFocus)),A.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var A=this;this.keyMap={Enter:function(){A.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(A,C){if(A>=this.data.list.length?A=C?this.data.list.length-1:0:A<0&&(A=C?0:this.data.list.length-1),this.selectedHint!=A){var W=this.hints.childNodes[this.selectedHint];W&&(W.className=W.className.replace(" "+pe,"")),W=this.hints.childNodes[this.selectedHint=A],W.className+=" "+pe,this.scrollToActive(),_.signal(this.data,"select",this.data.list[this.selectedHint],W)}},scrollToActive:function(){var A=this.getSelectedHintRange(),C=this.hints.childNodes[A.from],W=this.hints.childNodes[A.to],X=this.hints.firstChild;C.offsetTop<this.hints.scrollTop?this.hints.scrollTop=C.offsetTop-X.offsetTop:W.offsetTop+W.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=W.offsetTop+W.offsetHeight-this.hints.clientHeight+X.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var A=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-A),to:Math.min(this.data.list.length-1,this.selectedHint+A)}}};function Re(A,C){if(!A.somethingSelected())return C;for(var W=[],X=0;X<C.length;X++)C[X].supportsSelection&&W.push(C[X]);return W}s(Re,"applicableHelpers");function te(A,C,W,X){if(A.async)A(C,X,W);else{var O=A(C,W);O&&O.then?O.then(X):X(O)}}s(te,"fetchHints");function E(A,C){var W=A.getHelpers(C,"hint"),X;if(W.length){var O=s(function(J,Z,xe){var _e=Re(J,W);function ke(Ee){if(Ee==_e.length)return Z(null);te(_e[Ee],J,xe,function(w){w&&w.list.length>0?Z(w):ke(Ee+1)})}s(ke,"run"),ke(0)},"resolved");return O.async=!0,O.supportsSelection=!0,O}else return(X=A.getHelper(A.getCursor(),"hintWords"))?function(J){return _.hint.fromList(J,{words:X})}:_.hint.anyword?function(J,Z){return _.hint.anyword(J,Z)}:function(){}}s(E,"resolveAutoHints"),_.registerHelper("hint","auto",{resolve:E}),_.registerHelper("hint","fromList",function(A,C){var W=A.getCursor(),X=A.getTokenAt(W),O,J=_.Pos(W.line,X.start),Z=W;X.start<W.ch&&/\w/.test(X.string.charAt(W.ch-X.start-1))?O=X.string.substr(0,W.ch-X.start):(O="",J=W);for(var xe=[],_e=0;_e<C.words.length;_e++){var ke=C.words[_e];ke.slice(0,O.length)==O&&xe.push(ke)}if(xe.length)return{list:xe,from:J,to:Z}}),_.commands.autocomplete=_.showHint;var M={hint:_.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};_.defineOption("hintOptions",null)})},371561:(Jt,nt,H)=>{(function(_){_(H(315237))})(function(_){"use strict";var $e="CodeMirror-lint-markers";function pe(O,J,Z){var xe=document.createElement("div");xe.className="CodeMirror-lint-tooltip cm-s-"+O.options.theme,xe.appendChild(Z.cloneNode(!0)),O.state.lint.options.selfContain?O.getWrapperElement().appendChild(xe):document.body.appendChild(xe);function _e(ke){if(!xe.parentNode)return _.off(document,"mousemove",_e);xe.style.top=Math.max(0,ke.clientY-xe.offsetHeight-5)+"px",xe.style.left=ke.clientX+5+"px"}return s(_e,"position"),_.on(document,"mousemove",_e),_e(J),xe.style.opacity!=null&&(xe.style.opacity=1),xe}s(pe,"showTooltip");function $(O){O.parentNode&&O.parentNode.removeChild(O)}s($,"rm");function Y(O){O.parentNode&&(O.style.opacity==null&&$(O),O.style.opacity=0,setTimeout(function(){$(O)},600))}s(Y,"hideTooltip");function a(O,J,Z,xe){var _e=pe(O,J,Z);function ke(){_.off(xe,"mouseout",ke),_e&&(Y(_e),_e=null)}s(ke,"hide");var Ee=setInterval(function(){if(_e)for(var w=xe;;w=w.parentNode){if(w&&w.nodeType==11&&(w=w.host),w==document.body)return;if(!w){ke();break}}if(!_e)return clearInterval(Ee)},400);_.on(xe,"mouseout",ke)}s(a,"showTooltipFor");function fe(O,J,Z){this.marked=[],this.options=J,this.timeout=null,this.hasGutter=Z,this.onMouseOver=function(xe){X(O,xe)},this.waitingFor=0}s(fe,"LintState");function B(O,J){return J instanceof Function?{getAnnotations:J}:((!J||J===!0)&&(J={}),J)}s(B,"parseOptions");function we(O){var J=O.state.lint;J.hasGutter&&O.clearGutter($e);for(var Z=0;Z<J.marked.length;++Z)J.marked[Z].clear();J.marked.length=0}s(we,"clearMarks");function ve(O,J,Z,xe,_e){var ke=document.createElement("div"),Ee=ke;return ke.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+Z,xe&&(Ee=ke.appendChild(document.createElement("div")),Ee.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),_e!=!1&&_.on(Ee,"mouseover",function(w){a(O,w,J,Ee)}),ke}s(ve,"makeMarker");function st(O,J){return O=="error"?O:J}s(st,"getMaxSeverity");function Re(O){for(var J=[],Z=0;Z<O.length;++Z){var xe=O[Z],_e=xe.from.line;(J[_e]||(J[_e]=[])).push(xe)}return J}s(Re,"groupByLine");function te(O){var J=O.severity;J||(J="error");var Z=document.createElement("div");return Z.className="CodeMirror-lint-message CodeMirror-lint-message-"+J,typeof O.messageHTML<"u"?Z.innerHTML=O.messageHTML:Z.appendChild(document.createTextNode(O.message)),Z}s(te,"annotationTooltip");function E(O,J,Z){var xe=O.state.lint,_e=++xe.waitingFor;function ke(){_e=-1,O.off("change",ke)}s(ke,"abort"),O.on("change",ke),J(O.getValue(),function(Ee,w){O.off("change",ke),xe.waitingFor==_e&&(w&&Ee instanceof _&&(Ee=w),O.operation(function(){A(O,Ee)}))},Z,O)}s(E,"lintAsync");function M(O){var J=O.state.lint,Z=J.options,xe=Z.options||Z,_e=Z.getAnnotations||O.getHelper(_.Pos(0,0),"lint");if(_e)if(Z.async||_e.async)E(O,_e,xe);else{var ke=_e(O.getValue(),xe,O);if(!ke)return;ke.then?ke.then(function(Ee){O.operation(function(){A(O,Ee)})}):O.operation(function(){A(O,ke)})}}s(M,"startLinting");function A(O,J){we(O);for(var Z=O.state.lint,xe=Z.options,_e=Re(J),ke=0;ke<_e.length;++ke){var Ee=_e[ke];if(Ee){var w=[];Ee=Ee.filter(function(Ft){return w.indexOf(Ft.message)>-1?!1:w.push(Ft.message)});for(var Se=null,N=Z.hasGutter&&document.createDocumentFragment(),He=0;He<Ee.length;++He){var Xe=Ee[He],yt=Xe.severity;yt||(yt="error"),Se=st(Se,yt),xe.formatAnnotation&&(Xe=xe.formatAnnotation(Xe)),Z.hasGutter&&N.appendChild(te(Xe)),Xe.to&&Z.marked.push(O.markText(Xe.from,Xe.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+yt,__annotation:Xe}))}Z.hasGutter&&O.setGutterMarker(ke,$e,ve(O,N,Se,_e[ke].length>1,Z.options.tooltips))}}xe.onUpdateLinting&&xe.onUpdateLinting(J,_e,O)}s(A,"updateLinting");function C(O){var J=O.state.lint;J&&(clearTimeout(J.timeout),J.timeout=setTimeout(function(){M(O)},J.options.delay||500))}s(C,"onChange");function W(O,J,Z){for(var xe=Z.target||Z.srcElement,_e=document.createDocumentFragment(),ke=0;ke<J.length;ke++){var Ee=J[ke];_e.appendChild(te(Ee))}a(O,Z,_e,xe)}s(W,"popupTooltips");function X(O,J){var Z=J.target||J.srcElement;if(/\bCodeMirror-lint-mark-/.test(Z.className)){for(var xe=Z.getBoundingClientRect(),_e=(xe.left+xe.right)/2,ke=(xe.top+xe.bottom)/2,Ee=O.findMarksAt(O.coordsChar({left:_e,top:ke},"client")),w=[],Se=0;Se<Ee.length;++Se){var N=Ee[Se].__annotation;N&&w.push(N)}w.length&&W(O,w,J)}}s(X,"onMouseOver"),_.defineOption("lint",!1,function(O,J,Z){if(Z&&Z!=_.Init&&(we(O),O.state.lint.options.lintOnChange!==!1&&O.off("change",C),_.off(O.getWrapperElement(),"mouseover",O.state.lint.onMouseOver),clearTimeout(O.state.lint.timeout),delete O.state.lint),J){for(var xe=O.getOption("gutters"),_e=!1,ke=0;ke<xe.length;++ke)xe[ke]==$e&&(_e=!0);var Ee=O.state.lint=new fe(O,B(O,J),_e);Ee.options.lintOnChange!==!1&&O.on("change",C),Ee.options.tooltips!=!1&&Ee.options.tooltips!="gutter"&&_.on(O.getWrapperElement(),"mouseover",Ee.onMouseOver),M(O)}}),_.defineExtension("performLint",function(){this.state.lint&&M(this)})})},315237:function(Jt){(function(nt,H){Jt.exports=H()})(this,function(){"use strict";var nt=navigator.userAgent,H=navigator.platform,_=/gecko\/\d/i.test(nt),$e=/MSIE \d/.test(nt),pe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nt),$=/Edge\/(\d+)/.exec(nt),Y=$e||pe||$,a=Y&&($e?document.documentMode||6:+($||pe)[1]),fe=!$&&/WebKit\//.test(nt),B=fe&&/Qt\/\d+\.\d+/.test(nt),we=!$&&/Chrome\//.test(nt),ve=/Opera\//.test(nt),st=/Apple Computer/.test(navigator.vendor),Re=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(nt),te=/PhantomJS/.test(nt),E=st&&(/Mobile\/\w+/.test(nt)||navigator.maxTouchPoints>2),M=/Android/.test(nt),A=E||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(nt),C=E||/Mac/.test(H),W=/\bCrOS\b/.test(nt),X=/win/i.test(H),O=ve&&nt.match(/Version\/(\d*\.\d*)/);O&&(O=Number(O[1])),O&&O>=15&&(ve=!1,fe=!0);var J=C&&(B||ve&&(O==null||O<12.11)),Z=_||Y&&a>=9;function xe(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}s(xe,"classTest");var _e=s(function(e,t){var r=e.className,n=xe(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},"rmClass");function ke(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}s(ke,"removeChildren");function Ee(e,t){return ke(e).appendChild(t)}s(Ee,"removeChildrenAndAdd");function w(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}s(w,"elt");function Se(e,t,r,n){var i=w(e,t,r,n);return i.setAttribute("role","presentation"),i}s(Se,"eltP");var N;document.createRange?N=s(function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i},"range"):N=s(function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n},"range");function He(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}s(He,"contains");function Xe(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}s(Xe,"activeElt");function yt(e,t){var r=e.className;xe(t).test(r)||(e.className+=(r?" ":"")+t)}s(yt,"addClass");function Ft(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!xe(r[n]).test(t)&&(t+=" "+r[n]);return t}s(Ft,"joinClasses");var Ge=s(function(e){e.select()},"selectInput");E?Ge=s(function(e){e.selectionStart=0,e.selectionEnd=e.value.length},"selectInput"):Y&&(Ge=s(function(e){try{e.select()}catch{}},"selectInput"));function Ze(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}s(Ze,"bind");function Bt(e,t,r){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(r!==!1||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}s(Bt,"copyObj");function Pe(e,t,r,n,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var c=e.indexOf("	",o);if(c<0||c>=t)return l+(t-o);l+=c-o,l+=r-l%r,o=c+1}}s(Pe,"countColumn");var le=s(function(){this.id=null,this.f=null,this.time=0,this.handler=Ze(this.onTimeout,this)},"Delayed");le.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},le.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};function Ae(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}s(Ae,"indexOf");var he=50,ge={toString:function(){return"CodeMirror.Pass"}},Ne={scroll:!1},rt={origin:"*mouse"},an={origin:"+move"};function qe(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("	",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}s(qe,"findColumn");var Ot=[""];function pt(e){for(;Ot.length<=e;)Ot.push(tt(Ot)+" ");return Ot[e]}s(pt,"spaceStr");function tt(e){return e[e.length-1]}s(tt,"lst");function dt(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}s(dt,"map");function Mt(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}s(Mt,"insertSorted");function on(){}s(on,"nothing");function Dn(e,t){var r;return Object.create?r=Object.create(e):(on.prototype=e,r=new on),t&&Bt(t,r),r}s(Dn,"createObj");var lt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Je(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||lt.test(e))}s(Je,"isWordCharBasic");function et(e,t){return t?t.source.indexOf("\\w")>-1&&Je(e)?!0:t.test(e):Je(e)}s(et,"isWordChar");function Ye(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}s(Ye,"isEmpty");var ht=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Tt(e){return e.charCodeAt(0)>=768&&ht.test(e)}s(Tt,"isExtendingChar");function it(e,t,r){for(;(r<0?t>0:t<e.length)&&Tt(e.charAt(t));)t+=r;return t}s(it,"skipExtendingChars");function mt(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}s(mt,"findFirst");function ct(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),l.level==1?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}s(ct,"iterateBidiSections");var jt=null;function Xt(e,t,r){var n;jt=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&r=="before"?n=i:jt=i),o.from==t&&(o.from!=o.to&&r!="before"?n=i:jt=i)}return n??jt}s(Xt,"getBidiPartAt");var bt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(p){return p<=247?e.charAt(p):1424<=p&&p<=1524?"R":1536<=p&&p<=1785?t.charAt(p-1536):1774<=p&&p<=2220?"r":8192<=p&&p<=8203?"w":p==8204?"b":"L"}s(r,"charType");var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,l=/[Lb1n]/,c=/[1n]/;function u(p,g,b){this.level=p,this.from=g,this.to=b}return s(u,"BidiSpan"),function(p,g){var b=g=="ltr"?"L":"R";if(p.length==0||g=="ltr"&&!n.test(p))return!1;for(var I=p.length,L=[],G=0;G<I;++G)L.push(r(p.charCodeAt(G)));for(var ee=0,ue=b;ee<I;++ee){var ye=L[ee];ye=="m"?L[ee]=ue:ue=ye}for(var Ce=0,be=b;Ce<I;++Ce){var De=L[Ce];De=="1"&&be=="r"?L[Ce]="n":o.test(De)&&(be=De,De=="r"&&(L[Ce]="R"))}for(var ze=1,We=L[0];ze<I-1;++ze){var ot=L[ze];ot=="+"&&We=="1"&&L[ze+1]=="1"?L[ze]="1":ot==","&&We==L[ze+1]&&(We=="1"||We=="n")&&(L[ze]=We),We=ot}for(var Ht=0;Ht<I;++Ht){var yn=L[Ht];if(yn==",")L[Ht]="N";else if(yn=="%"){var Yt=void 0;for(Yt=Ht+1;Yt<I&&L[Yt]=="%";++Yt);for(var nr=Ht&&L[Ht-1]=="!"||Yt<I&&L[Yt]=="1"?"1":"N",Yn=Ht;Yn<Yt;++Yn)L[Yn]=nr;Ht=Yt-1}}for(var sn=0,Jn=b;sn<I;++sn){var Sn=L[sn];Jn=="L"&&Sn=="1"?L[sn]="L":o.test(Sn)&&(Jn=Sn)}for(var fn=0;fn<I;++fn)if(i.test(L[fn])){var ln=void 0;for(ln=fn+1;ln<I&&i.test(L[ln]);++ln);for(var en=(fn?L[fn-1]:b)=="L",Xn=(ln<I?L[ln]:b)=="L",aa=en==Xn?en?"L":"R":b,pi=fn;pi<ln;++pi)L[pi]=aa;fn=ln-1}for(var Tn=[],Mr,bn=0;bn<I;)if(l.test(L[bn])){var No=bn;for(++bn;bn<I&&l.test(L[bn]);++bn);Tn.push(new u(0,No,bn))}else{var Vr=bn,Ri=Tn.length,Hi=g=="rtl"?1:0;for(++bn;bn<I&&L[bn]!="L";++bn);for(var Bn=Vr;Bn<bn;)if(c.test(L[Bn])){Vr<Bn&&(Tn.splice(Ri,0,new u(1,Vr,Bn)),Ri+=Hi);var oa=Bn;for(++Bn;Bn<bn&&c.test(L[Bn]);++Bn);Tn.splice(Ri,0,new u(2,oa,Bn)),Ri+=Hi,Vr=Bn}else++Bn;Vr<bn&&Tn.splice(Ri,0,new u(1,Vr,bn))}return g=="ltr"&&(Tn[0].level==1&&(Mr=p.match(/^\s+/))&&(Tn[0].from=Mr[0].length,Tn.unshift(new u(0,0,Mr[0].length))),tt(Tn).level==1&&(Mr=p.match(/\s+$/))&&(tt(Tn).to-=Mr[0].length,Tn.push(new u(0,I-Mr[0].length,I)))),g=="rtl"?Tn.reverse():Tn}}();function at(e,t){var r=e.order;return r==null&&(r=e.order=bt(e.text,t)),r}s(at,"getOrder");var kt=[],Te=s(function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||kt).concat(r)}},"on");function Wn(e,t){return e._handlers&&e._handlers[t]||kt}s(Wn,"getHandlers");function Wt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=Ae(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}s(Wt,"off");function xt(e,t){var r=Wn(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}s(xt,"signal");function Le(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),xt(e,r||t.type,e,t),wr(t)||t.codemirrorIgnore}s(Le,"signalDOMEvent");function hr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)Ae(r,t[n])==-1&&r.push(t[n])}s(hr,"signalCursorActivity");function Vt(e,t){return Wn(e,t).length>0}s(Vt,"hasHandler");function tn(e){e.prototype.on=function(t,r){Te(this,t,r)},e.prototype.off=function(t,r){Wt(this,t,r)}}s(tn,"eventMixin");function Qt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}s(Qt,"e_preventDefault");function xn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}s(xn,"e_stopPropagation");function wr(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}s(wr,"e_defaultPrevented");function zn(e){Qt(e),xn(e)}s(zn,"e_stop");function Ir(e){return e.target||e.srcElement}s(Ir,"e_target");function mr(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),C&&e.ctrlKey&&t==1&&(t=3),t}s(mr,"e_button");var wn=function(){if(Y&&a<9)return!1;var e=w("div");return"draggable"in e||"dragDrop"in e}(),kr;function Kr(e){if(kr==null){var t=w("span","\u200B");Ee(e,w("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(kr=t.offsetWidth<=1&&t.offsetHeight>2&&!(Y&&a<8))}var r=kr?w("span","\u200B"):w("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}s(Kr,"zeroWidthElement");var Ln;function hi(e){if(Ln!=null)return Ln;var t=Ee(e,document.createTextNode("A\u062EA")),r=N(t,0,1).getBoundingClientRect(),n=N(t,1,2).getBoundingClientRect();return ke(e),!r||r.left==r.right?!1:Ln=n.right-r.right<3}s(hi,"hasBadBidiRects");var vr=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var o=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},$r=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},ur=function(){var e=w("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),pn=null;function Un(e){if(pn!=null)return pn;var t=Ee(e,w("span","x")),r=t.getBoundingClientRect(),n=N(t,0,1).getBoundingClientRect();return pn=Math.abs(r.left-n.left)>1}s(Un,"hasBadZoomedRects");var Gn={},kn={};function Qn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Gn[e]=t}s(Qn,"defineMode");function mi(e,t){kn[e]=t}s(mi,"defineMIME");function dr(e){if(typeof e=="string"&&kn.hasOwnProperty(e))e=kn[e];else if(e&&typeof e.name=="string"&&kn.hasOwnProperty(e.name)){var t=kn[e.name];typeof t=="string"&&(t={name:t}),e=Dn(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return dr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return dr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}s(dr,"resolveMode");function qn(e,t){t=dr(t);var r=Gn[t.name];if(!r)return qn(e,"text/plain");var n=r(e,t);if(cn.hasOwnProperty(t.name)){var i=cn[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}s(qn,"getMode");var cn={};function hn(e,t){var r=cn.hasOwnProperty(e)?cn[e]:cn[e]={};Bt(t,r)}s(hn,"extendMode");function Zn(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}s(Zn,"copyState");function fr(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),!(!r||r.mode==e));)t=r.state,e=r.mode;return r||{mode:e,state:t}}s(fr,"innerMode");function Cr(e,t,r){return e.startState?e.startState(t,r):!0}s(Cr,"startState");var Dt=s(function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r},"StringStream");Dt.prototype.eol=function(){return this.pos>=this.string.length},Dt.prototype.sol=function(){return this.pos==this.lineStart},Dt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Dt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Dt.prototype.eat=function(e){var t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e.test?e.test(t):e(t)),r)return++this.pos,t},Dt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Dt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Dt.prototype.skipToEnd=function(){this.pos=this.string.length},Dt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Dt.prototype.backUp=function(e){this.pos-=e},Dt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Dt.prototype.indentation=function(){return Pe(this.string,null,this.tabSize)-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Dt.prototype.match=function(e,t,r){if(typeof e=="string"){var n=s(function(l){return r?l.toLowerCase():l},"cased"),i=this.string.substr(this.pos,e.length);if(n(i)==n(e))return t!==!1&&(this.pos+=e.length),!0}else{var o=this.string.slice(this.pos).match(e);return o&&o.index>0?null:(o&&t!==!1&&(this.pos+=o[0].length),o)}},Dt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Dt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Dt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Dt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Me(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}s(Me,"getLine");function er(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(o){var l=o.text;i==r.line&&(l=l.slice(0,r.ch)),i==t.line&&(l=l.slice(t.ch)),n.push(l),++i}),n}s(er,"getBetween");function rr(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}s(rr,"getLines");function Pn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}s(Pn,"updateLineHeight");function ft(e){if(e.parent==null)return null;for(var t=e.parent,r=Ae(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}s(ft,"lineNo");function ir(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var c=e.lines[l],u=c.height;if(t<u)break;t-=u}return r+l}s(ir,"lineAtHeight");function Nr(e,t){return t>=e.first&&t<e.first+e.size}s(Nr,"isLine");function gr(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}s(gr,"lineNumberFor");function d(e,t,r){if(r===void 0&&(r=null),!(this instanceof d))return new d(e,t,r);this.line=e,this.ch=t,this.sticky=r}s(d,"Pos");function m(e,t){return e.line-t.line||e.ch-t.ch}s(m,"cmp");function V(e,t){return e.sticky==t.sticky&&m(e,t)==0}s(V,"equalCursorPos");function ae(e){return d(e.line,e.ch)}s(ae,"copyPos");function je(e,t){return m(e,t)<0?t:e}s(je,"maxPos");function ut(e,t){return m(e,t)<0?e:t}s(ut,"minPos");function Ct(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}s(Ct,"clipLine");function Ie(e,t){if(t.line<e.first)return d(e.first,0);var r=e.first+e.size-1;return t.line>r?d(r,Me(e,r).text.length):mn(t,Me(e,t.line).text.length)}s(Ie,"clipPos");function mn(e,t){var r=e.ch;return r==null||r>t?d(e.line,t):r<0?d(e.line,0):e}s(mn,"clipToLen");function Pt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Ie(e,t[n]);return r}s(Pt,"clipPosArray");var qt=s(function(e,t){this.state=e,this.lookAhead=t},"SavedContext"),Kt=s(function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1},"Context");Kt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Kt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Kt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Kt.fromSaved=function(e,t,r){return t instanceof qt?new Kt(e,Zn(e.mode,t.state),r,t.lookAhead):new Kt(e,Zn(e.mode,t),r)},Kt.prototype.save=function(e){var t=e!==!1?Zn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new qt(t,this.maxLookAhead):t};function Ar(e,t,r,n){var i=[e.state.modeGen],o={};Rr(e,t.text,e.doc.mode,r,function(p,g){return i.push(p,g)},o,n);for(var l=r.state,c=s(function(p){r.baseTokens=i;var g=e.state.overlays[p],b=1,I=0;r.state=!0,Rr(e,t.text,g.mode,r,function(L,G){for(var ee=b;I<L;){var ue=i[b];ue>L&&i.splice(b,1,L,i[b+1],ue),b+=2,I=Math.min(L,ue)}if(G)if(g.opaque)i.splice(ee,b-ee,L,"overlay "+G),b=ee+2;else for(;ee<b;ee+=2){var ye=i[ee+1];i[ee+1]=(ye?ye+" ":"")+"overlay "+G}},o),r.state=l,r.baseTokens=null,r.baseTokenPos=1},"loop"),u=0;u<e.state.overlays.length;++u)c(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}s(Ar,"highlightLine");function yr(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=br(e,ft(t)),i=t.text.length>e.options.maxHighlightLength&&Zn(e.doc.mode,n.state),o=Ar(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}s(yr,"getLineStyles");function br(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new Kt(n,!0,t);var o=gi(e,t,r),l=o>n.first&&Me(n,o-1).stateAfter,c=l?Kt.fromSaved(n,l,o):new Kt(n,Cr(n.mode),o);return n.iter(o,t,function(u){wt(e,u.text,c);var p=c.line;u.stateAfter=p==t-1||p%5==0||p>=i.viewFrom&&p<i.viewTo?c.save():null,c.nextLine()}),r&&(n.modeFrontier=c.line),c}s(br,"getContextBefore");function wt(e,t,r,n){var i=e.doc.mode,o=new Dt(t,e.options.tabSize,r);for(o.start=o.pos=n||0,t==""&&vi(i,r.state);!o.eol();)_r(i,o,r.state),o.start=o.pos}s(wt,"processLine");function vi(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=fr(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}s(vi,"callBlankLine");function _r(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=fr(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}s(_r,"readToken");var Tr=s(function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},"Token");function Yr(e,t,r,n){var i=e.doc,o=i.mode,l;t=Ie(i,t);var c=Me(i,t.line),u=br(e,t.line,r),p=new Dt(c.text,e.options.tabSize,u),g;for(n&&(g=[]);(n||p.pos<t.ch)&&!p.eol();)p.start=p.pos,l=_r(o,p,u.state),n&&g.push(new Tr(p,l,Zn(i.mode,u.state)));return n?g:new Tr(p,l,u.state)}s(Yr,"takeToken");function Or(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}s(Or,"extractLineClasses");function Rr(e,t,r,n,i,o,l){var c=r.flattenSpans;c==null&&(c=e.options.flattenSpans);var u=0,p=null,g=new Dt(t,e.options.tabSize,n),b,I=e.options.addModeClass&&[null];for(t==""&&Or(vi(r,n.state),o);!g.eol();){if(g.pos>e.options.maxHighlightLength?(c=!1,l&&wt(e,t,n,g.pos),g.pos=t.length,b=null):b=Or(_r(r,g,n.state,I),o),I){var L=I[0].name;L&&(b="m-"+(b?L+" "+b:L))}if(!c||p!=b){for(;u<g.start;)u=Math.min(g.start,u+5e3),i(u,p);p=b}g.start=g.pos}for(;u<g.pos;){var G=Math.min(g.pos,u+5e3);i(G,p),u=G}}s(Rr,"runMode");function gi(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),c=t;c>l;--c){if(c<=o.first)return o.first;var u=Me(o,c-1),p=u.stateAfter;if(p&&(!r||c+(p instanceof qt?p.lookAhead:0)<=o.modeFrontier))return c;var g=Pe(u.text,null,e.options.tabSize);(i==null||n>g)&&(i=c-1,n=g)}return i}s(gi,"findStartLine");function Fi(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Me(e,n).stateAfter;if(i&&(!(i instanceof qt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}s(Fi,"retreatFrontier");var Jr=!1,ar=!1;function Mn(){Jr=!0}s(Mn,"seeReadOnlySpans");function yi(){ar=!0}s(yi,"seeCollapsedSpans");function Xr(e,t,r){this.marker=e,this.from=t,this.to=r}s(Xr,"MarkedSpan");function Dr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}s(Dr,"getMarkedSpanFor");function sa(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}s(sa,"removeMarkedSpan");function Bi(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}s(Bi,"addMarkedSpan");function bi(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,c=o.from==null||(l.inclusiveLeft?o.from<=t:o.from<t);if(c||o.from==t&&l.type=="bookmark"&&(!r||!o.marker.insertLeft)){var u=o.to==null||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Xr(l,o.from,u?null:o.to))}}return n}s(bi,"markedSpansBefore");function Wi(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,c=o.to==null||(l.inclusiveRight?o.to>=t:o.to>t);if(c||o.from==t&&l.type=="bookmark"&&(!r||o.marker.insertLeft)){var u=o.from==null||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Xr(l,u?null:o.from-t,o.to==null?null:o.to-t))}}return n}s(Wi,"markedSpansAfter");function Hr(e,t){if(t.full)return null;var r=Nr(e,t.from.line)&&Me(e,t.from.line).markedSpans,n=Nr(e,t.to.line)&&Me(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=m(t.from,t.to)==0,c=bi(r,i,l),u=Wi(n,o,l),p=t.text.length==1,g=tt(t.text).length+(p?i:0);if(c)for(var b=0;b<c.length;++b){var I=c[b];if(I.to==null){var L=Dr(u,I.marker);L?p&&(I.to=L.to==null?null:L.to+g):I.to=i}}if(u)for(var G=0;G<u.length;++G){var ee=u[G];if(ee.to!=null&&(ee.to+=g),ee.from==null){var ue=Dr(c,ee.marker);ue||(ee.from=g,p&&(c||(c=[])).push(ee))}else ee.from+=g,p&&(c||(c=[])).push(ee)}c&&(c=_i(c)),u&&u!=c&&(u=_i(u));var ye=[c];if(!p){var Ce=t.text.length-2,be;if(Ce>0&&c)for(var De=0;De<c.length;++De)c[De].to==null&&(be||(be=[])).push(new Xr(c[De].marker,null,null));for(var ze=0;ze<Ce;++ze)ye.push(be);ye.push(u)}return ye}s(Hr,"stretchSpansOverChange");function _i(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}s(_i,"clearEmptySpans");function Ei(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(L){if(L.markedSpans)for(var G=0;G<L.markedSpans.length;++G){var ee=L.markedSpans[G].marker;ee.readOnly&&(!n||Ae(n,ee)==-1)&&(n||(n=[])).push(ee)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],c=l.find(0),u=0;u<i.length;++u){var p=i[u];if(!(m(p.to,c.from)<0||m(p.from,c.to)>0)){var g=[u,1],b=m(p.from,c.from),I=m(p.to,c.to);(b<0||!l.inclusiveLeft&&!b)&&g.push({from:p.from,to:c.from}),(I>0||!l.inclusiveRight&&!I)&&g.push({from:c.to,to:p.to}),i.splice.apply(i,g),u+=g.length-3}}return i}s(Ei,"removeReadOnlyRanges");function Si(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}s(Si,"detachMarkedSpans");function zi(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}s(zi,"attachMarkedSpans");function Fr(e){return e.inclusiveLeft?-1:0}s(Fr,"extraLeft");function Cn(e){return e.inclusiveRight?1:0}s(Cn,"extraRight");function Br(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),i=t.find(),o=m(n.from,i.from)||Fr(e)-Fr(t);if(o)return-o;var l=m(n.to,i.to)||Cn(e)-Cn(t);return l||t.id-e.id}s(Br,"compareCollapsedMarkers");function xi(e,t){var r=ar&&e.markedSpans,n;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&(t?i.from:i.to)==null&&(!n||Br(n,i.marker)<0)&&(n=i.marker);return n}s(xi,"collapsedSpanAtSide");function Wr(e){return xi(e,!0)}s(Wr,"collapsedSpanAtStart");function zr(e){return xi(e,!1)}s(zr,"collapsedSpanAtEnd");function Qr(e,t){var r=ar&&e.markedSpans,n;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(o.from==null||o.from<t)&&(o.to==null||o.to>t)&&(!n||Br(n,o.marker)<0)&&(n=o.marker)}return n}s(Qr,"collapsedSpanAround");function wi(e,t,r,n,i){var o=Me(e,t),l=ar&&o.markedSpans;if(l)for(var c=0;c<l.length;++c){var u=l[c];if(u.marker.collapsed){var p=u.marker.find(0),g=m(p.from,r)||Fr(u.marker)-Fr(i),b=m(p.to,n)||Cn(u.marker)-Cn(i);if(!(g>=0&&b<=0||g<=0&&b>=0)&&(g<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?m(p.to,r)>=0:m(p.to,r)>0)||g>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?m(p.from,n)<=0:m(p.from,n)<0)))return!0}}}s(wi,"conflictingCollapsedRange");function _n(e){for(var t;t=Wr(e);)e=t.find(-1,!0).line;return e}s(_n,"visualLine");function Ui(e){for(var t;t=zr(e);)e=t.find(1,!0).line;return e}s(Ui,"visualLineEnd");function la(e){for(var t,r;t=zr(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}s(la,"visualLineContinued");function qr(e,t){var r=Me(e,t),n=_n(r);return r==n?t:ft(n)}s(qr,"visualLineNo");function ki(e,t){if(t>e.lastLine())return t;var r=Me(e,t),n;if(!jn(e,r))return t;for(;n=zr(r);)r=n.find(1,!0).line;return ft(r)+1}s(ki,"visualLineEndNo");function jn(e,t){var r=ar&&t.markedSpans;if(r){for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Zr(e,t,n))return!0}}}s(jn,"lineIsHidden");function Zr(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return Zr(e,n.line,Dr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(i.to==null||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Zr(e,t,i))return!0}s(Zr,"lineIsHiddenInner");function In(e){e=_n(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var c=o.children[l];if(c==r)break;t+=c.height}return t}s(In,"heightAtLine");function Ur(e){if(e.height==0)return 0;for(var t=e.text.length,r,n=e;r=Wr(n);){var i=r.find(0,!0);n=i.from.line,t+=i.from.ch-i.to.ch}for(n=e;r=zr(n);){var o=r.find(0,!0);t-=n.text.length-o.from.ch,n=o.to.line,t+=n.text.length-o.to.ch}return t}s(Ur,"lineLength");function ei(e){var t=e.display,r=e.doc;t.maxLine=Me(r,r.first),t.maxLineLength=Ur(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=Ur(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}s(ei,"findMaxLine");var pr=s(function(e,t,r){this.text=e,zi(this,t),this.height=r?r(this):1},"Line");pr.prototype.lineNo=function(){return ft(this)},tn(pr);function Gi(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Si(e),zi(e,r);var i=n?n(e):1;i!=e.height&&Pn(e,i)}s(Gi,"updateLine");function Rt(e){e.parent=null,Si(e)}s(Rt,"cleanUpLine");var un={},ji={};function Vi(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?ji:un;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}s(Vi,"interpretTokenStyle");function ti(e,t){var r=Se("span",null,null,fe?"padding-right: .1px":null),n={pre:Se("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,l=void 0;n.pos=0,n.addToken=On,hi(e.display.measure)&&(l=at(o,e.doc.direction))&&(n.addToken=Ki(n.addToken,l)),n.map=[];var c=t!=e.display.externalMeasured&&ft(o);Ni(o,n,yr(e,o,c)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=Ft(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=Ft(o.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Kr(e.display.measure))),i==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(fe){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return xt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Ft(n.pre.className,n.textClass||"")),n}s(ti,"buildLineContent");function ca(e){var t=w("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}s(ca,"defaultSpecialCharPlaceholder");function On(e,t,r,n,i,o,l){if(t){var c=e.splitSpaces?Ci(t,e.trailingSpace):t,u=e.cm.state.specialChars,p=!1,g;if(!u.test(t))e.col+=t.length,g=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,g),Y&&a<9&&(p=!0),e.pos+=t.length;else{g=document.createDocumentFragment();for(var b=0;;){u.lastIndex=b;var I=u.exec(t),L=I?I.index-b:t.length-b;if(L){var G=document.createTextNode(c.slice(b,b+L));Y&&a<9?g.appendChild(w("span",[G])):g.appendChild(G),e.map.push(e.pos,e.pos+L,G),e.col+=L,e.pos+=L}if(!I)break;b+=L+1;var ee=void 0;if(I[0]=="	"){var ue=e.cm.options.tabSize,ye=ue-e.col%ue;ee=g.appendChild(w("span",pt(ye),"cm-tab")),ee.setAttribute("role","presentation"),ee.setAttribute("cm-text","	"),e.col+=ye}else I[0]=="\r"||I[0]==`
`?(ee=g.appendChild(w("span",I[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),ee.setAttribute("cm-text",I[0]),e.col+=1):(ee=e.cm.options.specialCharPlaceholder(I[0]),ee.setAttribute("cm-text",I[0]),Y&&a<9?g.appendChild(w("span",[ee])):g.appendChild(ee),e.col+=1);e.map.push(e.pos,e.pos+1,ee),e.pos++}}if(e.trailingSpace=c.charCodeAt(t.length-1)==32,r||n||i||p||o||l){var Ce=r||"";n&&(Ce+=n),i&&(Ce+=i);var be=w("span",[g],Ce,o);if(l)for(var De in l)l.hasOwnProperty(De)&&De!="style"&&De!="class"&&be.setAttribute(De,l[De]);return e.content.appendChild(be)}e.content.appendChild(g)}}s(On,"buildToken");function Ci(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);o==" "&&r&&(i==e.length-1||e.charCodeAt(i+1)==32)&&(o="\xA0"),n+=o,r=o==" "}return n}s(Ci,"splitSpaces");function Ki(e,t){return function(r,n,i,o,l,c,u){i=i?i+" cm-force-border":"cm-force-border";for(var p=r.pos,g=p+n.length;;){for(var b=void 0,I=0;I<t.length&&(b=t[I],!(b.to>p&&b.from<=p));I++);if(b.to>=g)return e(r,n,i,o,l,c,u);e(r,n.slice(0,b.to-p),i,o,null,c,u),o=null,n=n.slice(b.to-p),p=b.to}}}s(Ki,"buildTokenBadBidi");function ni(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}s(ni,"buildCollapsedSpan");function Ni(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(!n){for(var l=1;l<r.length;l+=2)t.addToken(t,i.slice(o,o=r[l]),Vi(r[l+1],t.cm.options));return}for(var c=i.length,u=0,p=1,g="",b,I,L=0,G,ee,ue,ye,Ce;;){if(L==u){G=ee=ue=I="",Ce=null,ye=null,L=1/0;for(var be=[],De=void 0,ze=0;ze<n.length;++ze){var We=n[ze],ot=We.marker;if(ot.type=="bookmark"&&We.from==u&&ot.widgetNode)be.push(ot);else if(We.from<=u&&(We.to==null||We.to>u||ot.collapsed&&We.to==u&&We.from==u)){if(We.to!=null&&We.to!=u&&L>We.to&&(L=We.to,ee=""),ot.className&&(G+=" "+ot.className),ot.css&&(I=(I?I+";":"")+ot.css),ot.startStyle&&We.from==u&&(ue+=" "+ot.startStyle),ot.endStyle&&We.to==L&&(De||(De=[])).push(ot.endStyle,We.to),ot.title&&((Ce||(Ce={})).title=ot.title),ot.attributes)for(var Ht in ot.attributes)(Ce||(Ce={}))[Ht]=ot.attributes[Ht];ot.collapsed&&(!ye||Br(ye.marker,ot)<0)&&(ye=We)}else We.from>u&&L>We.from&&(L=We.from)}if(De)for(var yn=0;yn<De.length;yn+=2)De[yn+1]==L&&(ee+=" "+De[yn]);if(!ye||ye.from==u)for(var Yt=0;Yt<be.length;++Yt)ni(t,0,be[Yt]);if(ye&&(ye.from||0)==u){if(ni(t,(ye.to==null?c+1:ye.to)-u,ye.marker,ye.from==null),ye.to==null)return;ye.to==u&&(ye=!1)}}if(u>=c)break;for(var nr=Math.min(c,L);;){if(g){var Yn=u+g.length;if(!ye){var sn=Yn>nr?g.slice(0,nr-u):g;t.addToken(t,sn,b?b+G:G,ue,u+sn.length==L?ee:"",I,Ce)}if(Yn>=nr){g=g.slice(nr-u),u=nr;break}u=Yn,ue=""}g=i.slice(o,o=r[p++]),b=Vi(r[p++],t.cm.options)}}}s(Ni,"insertLineContent");function or(e,t,r){this.line=t,this.rest=la(t),this.size=this.rest?ft(tt(this.rest))-r+1:1,this.node=this.text=null,this.hidden=jn(e,t)}s(or,"LineView");function ri(e,t,r){for(var n=[],i,o=t;o<r;o=i){var l=new or(e.doc,Me(e.doc,o),o);i=o+l.size,n.push(l)}return n}s(ri,"buildViewArray");var Lr=null;function nn(e){Lr?Lr.ops.push(e):e.ownsGroup=Lr={ops:[e],delayedCallbacks:[]}}s(nn,"pushOperation");function ua(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}s(ua,"fireCallbacksForOps");function Ai(e,t){var r=e.ownsGroup;if(r)try{ua(r)}finally{Lr=null,t(r)}}s(Ai,"finishOperation");var Pr=null;function Zt(e,t){var r=Wn(e,t);if(r.length){var n=Array.prototype.slice.call(arguments,2),i;Lr?i=Lr.delayedCallbacks:Pr?i=Pr:(i=Pr=[],setTimeout(da,0));for(var o=s(function(c){i.push(function(){return r[c].apply(null,n)})},"loop"),l=0;l<r.length;++l)o(l)}}s(Zt,"signalLater");function da(){var e=Pr;Pr=null;for(var t=0;t<e.length;++t)e[t]()}s(da,"fireOrphanDelayed");function ii(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];o=="text"?P(e,t):o=="gutter"?U(e,t,r,n):o=="class"?R(e,t):o=="widget"&&K(e,t,n)}t.changes=null}s(ii,"updateLineForChanges");function Gr(e){return e.node==e.text&&(e.node=w("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Y&&a<8&&(e.node.style.zIndex=2)),e.node}s(Gr,"ensureLineWrapped");function h(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Gr(t);t.background=n.insertBefore(w("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}s(h,"updateLineBackground");function y(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):ti(e,t)}s(y,"getLineContent");function P(e,t){var r=t.text.className,n=y(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,R(e,t)):r&&(t.text.className=r)}s(P,"updateLineText");function R(e,t){h(e,t),t.line.wrapClass?Gr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}s(R,"updateLineClasses");function U(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Gr(t);t.gutterBackground=w("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var l=Gr(t),c=t.gutter=w("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(c),l.insertBefore(c,t.text),t.line.gutterClass&&(c.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])&&(t.lineNumber=c.appendChild(w("div",gr(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.display.gutterSpecs.length;++u){var p=e.display.gutterSpecs[u].className,g=o.hasOwnProperty(p)&&o[p];g&&c.appendChild(w("div",[g],"CodeMirror-gutter-elt","left: "+n.gutterLeft[p]+"px; width: "+n.gutterWidth[p]+"px"))}}}s(U,"updateLineGutter");function K(e,t,r){t.alignable&&(t.alignable=null);for(var n=xe("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);S(e,t,r)}s(K,"updateLineWidgets");function re(e,t,r,n){var i=y(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),R(e,t),U(e,t,r,n),S(e,t,n),t.node}s(re,"buildLineElement");function S(e,t,r){if(f(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)f(e,t.rest[n],t,r,!1)}s(S,"insertLineWidgets");function f(e,t,r,n,i){if(t.widgets)for(var o=Gr(r),l=0,c=t.widgets;l<c.length;++l){var u=c[l],p=w("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||p.setAttribute("cm-ignore-events","true"),v(u,p,r,n),e.display.input.setUneditable(p),i&&u.above?o.insertBefore(p,r.gutter||r.text):o.appendChild(p),Zt(u,"redraw")}}s(f,"insertLineWidgetsFor");function v(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}s(v,"positionLineWidget");function x(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!He(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Ee(t.display.measure,w("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}s(x,"widgetHeight");function k(e,t){for(var r=Ir(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}s(k,"eventInWidget");function T(e){return e.lineSpace.offsetTop}s(T,"paddingTop");function D(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}s(D,"paddingVert");function F(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ee(e.measure,w("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}s(F,"paddingH");function j(e){return he-e.display.nativeBarWidth}s(j,"scrollGap");function z(e){return e.display.scroller.clientWidth-j(e)-e.display.barWidth}s(z,"displayWidth");function Q(e){return e.display.scroller.clientHeight-j(e)-e.display.barHeight}s(Q,"displayHeight");function ce(e,t,r){var n=e.options.lineWrapping,i=n&&z(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),c=0;c<l.length-1;c++){var u=l[c],p=l[c+1];Math.abs(u.bottom-p.bottom)>2&&o.push((u.bottom+p.top)/2-r.top)}}o.push(r.bottom-r.top)}}s(ce,"ensureLineHeights");function ie(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(ft(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}s(ie,"mapFromLineView");function de(e,t){t=_n(t);var r=ft(t),n=e.display.externalMeasured=new or(e.doc,t,r);n.lineN=r;var i=n.built=ti(e,n);return n.text=i.pre,Ee(e.display.lineMeasure,i.pre),n}s(de,"updateExternalMeasurement");function me(e,t,r,n){return q(e,ne(e,t),r,n)}s(me,"measureChar");function oe(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Li(e,t)];var r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}s(oe,"findViewForLine");function ne(e,t){var r=ft(t),n=oe(e,r);n&&!n.text?n=null:n&&n.changes&&(ii(e,n,r,Ti(e)),e.curOp.forceUpdate=!0),n||(n=de(e,t));var i=ie(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}s(ne,"prepareMeasureForLine");function q(e,t,r,n,i){t.before&&(r=-1);var o=r+(n||""),l;return t.cache.hasOwnProperty(o)?l=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ce(e,t.view,t.rect),t.hasHeights=!0),l=Fe(e,t,r,n),l.bogus||(t.cache[o]=l)),{left:l.left,right:l.right,top:i?l.rtop:l.top,bottom:i?l.rbottom:l.bottom}}s(q,"measureCharPrepared");var se={left:0,right:0,top:0,bottom:0};function Ke(e,t,r){for(var n,i,o,l,c,u,p=0;p<e.length;p+=3)if(c=e[p],u=e[p+1],t<c?(i=0,o=1,l="left"):t<u?(i=t-c,o=i+1):(p==e.length-3||t==u&&e[p+3]>t)&&(o=u-c,i=o-1,t>=u&&(l="right")),i!=null){if(n=e[p+2],c==u&&r==(n.insertLeft?"left":"right")&&(l=r),r=="left"&&i==0)for(;p&&e[p-2]==e[p-3]&&e[p-1].insertLeft;)n=e[(p-=3)+2],l="left";if(r=="right"&&i==u-c)for(;p<e.length-3&&e[p+3]==e[p+4]&&!e[p+5].insertLeft;)n=e[(p+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:c,coverEnd:u}}s(Ke,"nodeAndOffsetInLineMap");function Ve(e,t){var r=se;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}s(Ve,"getUsefulRect");function Fe(e,t,r,n){var i=Ke(t.map,r,n),o=i.node,l=i.start,c=i.end,u=i.collapse,p;if(o.nodeType==3){for(var g=0;g<4;g++){for(;l&&Tt(t.line.text.charAt(i.coverStart+l));)--l;for(;i.coverStart+c<i.coverEnd&&Tt(t.line.text.charAt(i.coverStart+c));)++c;if(Y&&a<9&&l==0&&c==i.coverEnd-i.coverStart?p=o.parentNode.getBoundingClientRect():p=Ve(N(o,l,c).getClientRects(),n),p.left||p.right||l==0)break;c=l,l=l-1,u="right"}Y&&a<11&&(p=Be(e.display.measure,p))}else{l>0&&(u=n="right");var b;e.options.lineWrapping&&(b=o.getClientRects()).length>1?p=b[n=="right"?b.length-1:0]:p=o.getBoundingClientRect()}if(Y&&a<9&&!l&&(!p||!p.left&&!p.right)){var I=o.parentNode.getClientRects()[0];I?p={left:I.left,right:I.left+Er(e.display),top:I.top,bottom:I.bottom}:p=se}for(var L=p.top-t.rect.top,G=p.bottom-t.rect.top,ee=(L+G)/2,ue=t.view.measure.heights,ye=0;ye<ue.length-1&&!(ee<ue[ye]);ye++);var Ce=ye?ue[ye-1]:0,be=ue[ye],De={left:(u=="right"?p.right:p.left)-t.rect.left,right:(u=="left"?p.left:p.right)-t.rect.left,top:Ce,bottom:be};return!p.left&&!p.right&&(De.bogus=!0),e.options.singleCursorHeightPerLine||(De.rtop=L,De.rbottom=G),De}s(Fe,"measureCharInner");function Be(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Un(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}s(Be,"maybeUpdateRectForZooming");function Qe(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}s(Qe,"clearLineMeasurementCacheFor");function _t(e){e.display.externalMeasure=null,ke(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Qe(e.display.view[t])}s(_t,"clearLineMeasurementCache");function Nt(e){_t(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}s(Nt,"clearCaches");function Oe(){return we&&M?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}s(Oe,"pageScrollX");function Ue(){return we&&M?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}s(Ue,"pageScrollY");function Et(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=x(e.widgets[r]));return t}s(Et,"widgetTopHeight");function zt(e,t,r,n,i){if(!i){var o=Et(t);r.top+=o,r.bottom+=o}if(n=="line")return r;n||(n="local");var l=In(t);if(n=="local"?l+=T(e.display):l-=e.display.viewOffset,n=="page"||n=="window"){var c=e.display.lineSpace.getBoundingClientRect();l+=c.top+(n=="window"?0:Ue());var u=c.left+(n=="window"?0:Oe());r.left+=u,r.right+=u}return r.top+=l,r.bottom+=l,r}s(zt,"intoCoordSystem");function Rn(e,t,r){if(r=="div")return t;var n=t.left,i=t.top;if(r=="page")n-=Oe(),i-=Ue();else if(r=="local"||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}s(Rn,"fromCoordSystem");function At(e,t,r,n,i){return n||(n=Me(e.doc,t.line)),zt(e,n,me(e,n,t.ch,i),r)}s(At,"charCoords");function gt(e,t,r,n,i,o){n=n||Me(e.doc,t.line),i||(i=ne(e,n));function l(G,ee){var ue=q(e,i,G,ee?"right":"left",o);return ee?ue.left=ue.right:ue.right=ue.left,zt(e,n,ue,r)}s(l,"get");var c=at(n,e.doc.direction),u=t.ch,p=t.sticky;if(u>=n.text.length?(u=n.text.length,p="before"):u<=0&&(u=0,p="after"),!c)return l(p=="before"?u-1:u,p=="before");function g(G,ee,ue){var ye=c[ee],Ce=ye.level==1;return l(ue?G-1:G,Ce!=ue)}s(g,"getBidi");var b=Xt(c,u,p),I=jt,L=g(u,b,p=="before");return I!=null&&(L.other=g(u,I,p!="before")),L}s(gt,"cursorCoords");function $t(e,t){var r=0;t=Ie(e.doc,t),e.options.lineWrapping||(r=Er(e.display)*t.ch);var n=Me(e.doc,t.line),i=In(n)+T(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}s($t,"estimateCoords");function Hn(e,t,r,n,i){var o=d(e,t,r);return o.xRel=i,n&&(o.outside=n),o}s(Hn,"PosWithInfo");function En(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return Hn(n.first,0,null,-1,-1);var i=ir(n,r),o=n.first+n.size-1;if(i>o)return Hn(n.first+n.size-1,Me(n,o).text.length,null,1,1);t<0&&(t=0);for(var l=Me(n,i);;){var c=Vn(e,l,i,t,r),u=Qr(l,c.ch+(c.xRel>0||c.outside>0?1:0));if(!u)return c;var p=u.find(1);if(p.line==i)return p;l=Me(n,i=p.line)}}s(En,"coordsChar");function ai(e,t,r,n){n-=Et(t);var i=t.text.length,o=mt(function(l){return q(e,r,l-1).bottom<=n},i,0);return i=mt(function(l){return q(e,r,l).top>n},o,i),{begin:o,end:i}}s(ai,"wrappedLineExtent");function sr(e,t,r,n){r||(r=ne(e,t));var i=zt(e,t,q(e,r,n),"line").top;return ai(e,t,r,i)}s(sr,"wrappedLineExtentChar");function vt(e,t,r,n){return e.bottom<=r?!1:e.top>r?!0:(n?e.left:e.right)>t}s(vt,"boxIsAfter");function Vn(e,t,r,n,i){i-=In(t);var o=ne(e,t),l=Et(t),c=0,u=t.text.length,p=!0,g=at(t,e.doc.direction);if(g){var b=(e.options.lineWrapping?Ut:St)(e,t,r,o,g,n,i);p=b.level!=1,c=p?b.from:b.to-1,u=p?b.to:b.from-1}var I=null,L=null,G=mt(function(ze){var We=q(e,o,ze);return We.top+=l,We.bottom+=l,vt(We,n,i,!1)?(We.top<=i&&We.left<=n&&(I=ze,L=We),!0):!1},c,u),ee,ue,ye=!1;if(L){var Ce=n-L.left<L.right-n,be=Ce==p;G=I+(be?0:1),ue=be?"after":"before",ee=Ce?L.left:L.right}else{!p&&(G==u||G==c)&&G++,ue=G==0?"after":G==t.text.length?"before":q(e,o,G-(p?1:0)).bottom+l<=i==p?"after":"before";var De=gt(e,d(r,G,ue),"line",t,o);ee=De.left,ye=i<De.top?-1:i>=De.bottom?1:0}return G=it(t.text,G,1),Hn(r,G,ue,ye,n-ee)}s(Vn,"coordsCharInner");function St(e,t,r,n,i,o,l){var c=mt(function(b){var I=i[b],L=I.level!=1;return vt(gt(e,d(r,L?I.to:I.from,L?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),u=i[c];if(c>0){var p=u.level!=1,g=gt(e,d(r,p?u.from:u.to,p?"after":"before"),"line",t,n);vt(g,o,l,!0)&&g.top>l&&(u=i[c-1])}return u}s(St,"coordsBidiPart");function Ut(e,t,r,n,i,o,l){var c=ai(e,t,n,l),u=c.begin,p=c.end;/\s/.test(t.text.charAt(p-1))&&p--;for(var g=null,b=null,I=0;I<i.length;I++){var L=i[I];if(!(L.from>=p||L.to<=u)){var G=L.level!=1,ee=q(e,n,G?Math.min(p,L.to)-1:Math.max(u,L.from)).right,ue=ee<o?o-ee+1e9:ee-o;(!g||b>ue)&&(g=L,b=ue)}}return g||(g=i[i.length-1]),g.from<u&&(g={from:u,to:g.to,level:g.level}),g.to>p&&(g={from:g.from,to:p,level:g.level}),g}s(Ut,"coordsBidiPartWrapped");var dn;function Nn(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(dn==null){dn=w("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)dn.appendChild(document.createTextNode("x")),dn.appendChild(w("br"));dn.appendChild(document.createTextNode("x"))}Ee(e.measure,dn);var r=dn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),ke(e.measure),r||1}s(Nn,"textHeight");function Er(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=w("span","xxxxxxxxxx"),r=w("pre",[t],"CodeMirror-line-like");Ee(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}s(Er,"charWidth");function Ti(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l){var c=e.display.gutterSpecs[l].className;r[c]=o.offsetLeft+o.clientLeft+i,n[c]=o.clientWidth}return{fixedPos:Za(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}s(Ti,"getDimensions");function Za(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}s(Za,"compensateForHScroll");function To(e){var t=Nn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Er(e.display)-3);return function(i){if(jn(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}s(To,"estimateHeight");function eo(e){var t=e.doc,r=To(e);t.iter(function(n){var i=r(n);i!=n.height&&Pn(n,i)})}s(eo,"estimateLineHeights");function Di(e,t,r,n){var i=e.display;if(!r&&Ir(t).getAttribute("cm-not-content")=="true")return null;var o,l,c=i.lineSpace.getBoundingClientRect();try{o=t.clientX-c.left,l=t.clientY-c.top}catch{return null}var u=En(e,o,l),p;if(n&&u.xRel>0&&(p=Me(e.doc,u.line).text).length==u.ch){var g=Pe(p,p.length,e.options.tabSize)-p.length;u=d(u.line,Math.max(0,Math.round((o-F(e.display).left)/Er(e.display))-g))}return u}s(Di,"posFromMouse");function Li(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}s(Li,"findViewIndex");function Kn(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ar&&qr(e.doc,t)<i.viewTo&&si(e);else if(r<=i.viewFrom)ar&&ki(e.doc,r+n)>i.viewFrom?si(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)si(e);else if(t<=i.viewFrom){var o=Ma(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):si(e)}else if(r>=i.viewTo){var l=Ma(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):si(e)}else{var c=Ma(e,t,t,-1),u=Ma(e,r,r+n,1);c&&u?(i.view=i.view.slice(0,c.index).concat(ri(e,c.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=n):si(e)}var p=i.externalMeasured;p&&(r<p.lineN?p.lineN+=n:t<p.lineN+p.size&&(i.externalMeasured=null))}s(Kn,"regChange");function oi(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Li(e,t)];if(o.node!=null){var l=o.changes||(o.changes=[]);Ae(l,r)==-1&&l.push(r)}}}s(oi,"regLineChange");function si(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}s(si,"resetView");function Ma(e,t,r,n){var i=Li(e,t),o,l=e.display.view;if(!ar||r==e.doc.first+e.doc.size)return{index:i,lineN:r};for(var c=e.display.viewFrom,u=0;u<i;u++)c+=l[u].size;if(c!=t){if(n>0){if(i==l.length-1)return null;o=c+l[i].size-t,i++}else o=c-t;t+=o,r+=o}for(;qr(e.doc,r)!=r;){if(i==(n<0?0:l.length-1))return null;r+=n*l[i-(n<0?1:0)].size,i+=n}return{index:i,lineN:r}}s(Ma,"viewCuttingPoint");function Vs(e,t,r){var n=e.display,i=n.view;i.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=ri(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=ri(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Li(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(ri(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Li(e,r)))),n.viewTo=r}s(Vs,"adjustView");function Do(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];!i.hidden&&(!i.node||i.changes)&&++r}return r}s(Do,"countDirtyView");function fa(e){e.display.input.showSelection(e.display.input.prepareSelection())}s(fa,"updateSelection");function Lo(e,t){t===void 0&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(!(!t&&l==r.sel.primIndex)){var c=r.sel.ranges[l];if(!(c.from().line>=e.display.viewTo||c.to().line<e.display.viewFrom)){var u=c.empty();(u||e.options.showCursorWhenSelecting)&&Po(e,c.head,i),u||Ks(e,c,o)}}return n}s(Lo,"prepareSelection");function Po(e,t,r){var n=gt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(w("div","\xA0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(w("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=(n.other.bottom-n.other.top)*.85+"px"}}s(Po,"drawSelectionCursor");function Ia(e,t){return e.top-t.top||e.left-t.left}s(Ia,"cmpCoords");function Ks(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),l=F(e.display),c=l.left,u=Math.max(n.sizerWidth,z(e)-n.sizer.offsetLeft)-l.right,p=i.direction=="ltr";function g(be,De,ze,We){De<0&&(De=0),De=Math.round(De),We=Math.round(We),o.appendChild(w("div",null,"CodeMirror-selected","position: absolute; left: "+be+`px;
                             top: `+De+"px; width: "+(ze??u-be)+`px;
                             height: `+(We-De)+"px"))}s(g,"add");function b(be,De,ze){var We=Me(i,be),ot=We.text.length,Ht,yn;function Yt(sn,Jn){return At(e,d(be,sn),"div",We,Jn)}s(Yt,"coords");function nr(sn,Jn,Sn){var fn=sr(e,We,null,sn),ln=Jn=="ltr"==(Sn=="after")?"left":"right",en=Sn=="after"?fn.begin:fn.end-(/\s/.test(We.text.charAt(fn.end-1))?2:1);return Yt(en,ln)[ln]}s(nr,"wrapX");var Yn=at(We,i.direction);return ct(Yn,De||0,ze??ot,function(sn,Jn,Sn,fn){var ln=Sn=="ltr",en=Yt(sn,ln?"left":"right"),Xn=Yt(Jn-1,ln?"right":"left"),aa=De==null&&sn==0,pi=ze==null&&Jn==ot,Tn=fn==0,Mr=!Yn||fn==Yn.length-1;if(Xn.top-en.top<=3){var bn=(p?aa:pi)&&Tn,No=(p?pi:aa)&&Mr,Vr=bn?c:(ln?en:Xn).left,Ri=No?u:(ln?Xn:en).right;g(Vr,en.top,Ri-Vr,en.bottom)}else{var Hi,Bn,oa,Ao;ln?(Hi=p&&aa&&Tn?c:en.left,Bn=p?u:nr(sn,Sn,"before"),oa=p?c:nr(Jn,Sn,"after"),Ao=p&&pi&&Mr?u:Xn.right):(Hi=p?nr(sn,Sn,"before"):c,Bn=!p&&aa&&Tn?u:en.right,oa=!p&&pi&&Mr?c:Xn.left,Ao=p?nr(Jn,Sn,"after"):u),g(Hi,en.top,Bn-Hi,en.bottom),en.bottom<Xn.top&&g(c,en.bottom,null,Xn.top),g(oa,Xn.top,Ao-oa,Xn.bottom)}(!Ht||Ia(en,Ht)<0)&&(Ht=en),Ia(Xn,Ht)<0&&(Ht=Xn),(!yn||Ia(en,yn)<0)&&(yn=en),Ia(Xn,yn)<0&&(yn=Xn)}),{start:Ht,end:yn}}s(b,"drawForLine");var I=t.from(),L=t.to();if(I.line==L.line)b(I.line,I.ch,L.ch);else{var G=Me(i,I.line),ee=Me(i,L.line),ue=_n(G)==_n(ee),ye=b(I.line,I.ch,ue?G.text.length+1:null).end,Ce=b(L.line,ue?0:null,L.ch).start;ue&&(ye.top<Ce.top-2?(g(ye.right,ye.top,null,ye.bottom),g(c,Ce.top,Ce.left,Ce.bottom)):g(ye.right,ye.top,Ce.left-ye.right,ye.bottom)),ye.bottom<Ce.top&&g(c,ye.bottom,null,Ce.top)}r.appendChild(o)}s(Ks,"drawSelectionRange");function to(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||$i(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}s(to,"restartBlink");function Mo(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||ro(e))}s(Mo,"ensureFocus");function no(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&$i(e))},100)}s(no,"delayBlurEvent");function ro(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(xt(e,"focus",e,t),e.state.focused=!0,yt(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),fe&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),to(e))}s(ro,"onFocus");function $i(e,t){e.state.delayingBlurEvent||(e.state.focused&&(xt(e,"blur",e,t),e.state.focused=!1,_e(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}s($i,"onBlur");function Oa(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(Y&&a<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-r,r=u}else{var p=i.node.getBoundingClientRect();l=p.bottom-p.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-p.left-1)}var g=i.line.height-l;if((g>.005||g<-.005)&&(Pn(i.line,l),Io(i.line),i.rest))for(var b=0;b<i.rest.length;b++)Io(i.rest[b]);if(c>e.display.sizerWidth){var I=Math.ceil(c/Er(e.display));I>e.display.maxLineLength&&(e.display.maxLineLength=I,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}s(Oa,"updateHeightsInViewport");function Io(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}s(Io,"updateWidgetHeight");function Ra(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-T(e));var i=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,o=ir(t,n),l=ir(t,i);if(r&&r.ensure){var c=r.ensure.from.line,u=r.ensure.to.line;c<o?(o=c,l=ir(t,In(Me(t,c))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=l&&(o=ir(t,In(Me(t,u))-e.wrapper.clientHeight),l=u)}return{from:o,to:Math.max(l,o+1)}}s(Ra,"visibleLines");function $s(e,t){if(!Le(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),i!=null&&!te){var o=w("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-T(e.display))+`px;
                         height: `+(t.bottom-t.top+j(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}s($s,"maybeScrollWindow");function Ys(e,t,r,n){n==null&&(n=0);var i;!e.options.lineWrapping&&t==r&&(t=t.ch?d(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t,r=t.sticky=="before"?d(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,c=gt(e,t),u=!r||r==t?c:gt(e,r);i={left:Math.min(c.left,u.left),top:Math.min(c.top,u.top)-n,right:Math.max(c.left,u.left),bottom:Math.max(c.bottom,u.bottom)+n};var p=io(e,i),g=e.doc.scrollTop,b=e.doc.scrollLeft;if(p.scrollTop!=null&&(ha(e,p.scrollTop),Math.abs(e.doc.scrollTop-g)>1&&(l=!0)),p.scrollLeft!=null&&(Pi(e,p.scrollLeft),Math.abs(e.doc.scrollLeft-b)>1&&(l=!0)),!l)break}return i}s(Ys,"scrollPosIntoView");function Js(e,t){var r=io(e,t);r.scrollTop!=null&&ha(e,r.scrollTop),r.scrollLeft!=null&&Pi(e,r.scrollLeft)}s(Js,"scrollIntoView");function io(e,t){var r=e.display,n=Nn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,o=Q(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var c=e.doc.height+D(r),u=t.top<n,p=t.bottom>c-n;if(t.top<i)l.scrollTop=u?0:t.top;else if(t.bottom>i+o){var g=Math.min(t.top,(p?c:t.bottom)-o);g!=i&&(l.scrollTop=g)}var b=e.options.fixedGutter?0:r.gutters.offsetWidth,I=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-b,L=z(e)-r.gutters.offsetWidth,G=t.right-t.left>L;return G&&(t.right=t.left+L),t.left<10?l.scrollLeft=0:t.left<I?l.scrollLeft=Math.max(0,t.left+b-(G?0:10)):t.right>L+I-3&&(l.scrollLeft=t.right+(G?0:10)-L),l}s(io,"calculateScrollPos");function ao(e,t){t!=null&&(Ha(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}s(ao,"addToScrollTop");function Yi(e){Ha(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}s(Yi,"ensureCursorVisible");function pa(e,t,r){(t!=null||r!=null)&&Ha(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}s(pa,"scrollToCoords");function Xs(e,t){Ha(e),e.curOp.scrollToPos=t}s(Xs,"scrollToRange");function Ha(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=$t(e,t.from),n=$t(e,t.to);Oo(e,r,n,t.margin)}}s(Ha,"resolveScrollToPos");function Oo(e,t,r,n){var i=io(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});pa(e,i.scrollLeft,i.scrollTop)}s(Oo,"scrollToCoordsRange");function ha(e,t){Math.abs(e.doc.scrollTop-t)<2||(_||so(e,{top:t}),Ro(e,t,!0),_&&so(e),ga(e,100))}s(ha,"updateScrollTop");function Ro(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}s(Ro,"setScrollTop");function Pi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n)&&(e.doc.scrollLeft=t,zo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}s(Pi,"setScrollLeft");function ma(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+D(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+j(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}s(ma,"measureForScrollbars");var Mi=s(function(e,t,r){this.cm=r;var n=this.vert=w("div",[w("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=w("div",[w("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),Te(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Te(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Y&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")},"NativeScrollbars");Mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Mi.prototype.zeroWidthHack=function(){var e=C&&!Re?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new le,this.disableVert=new le},Mi.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto";function n(){var i=e.getBoundingClientRect(),o=r=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,n)}s(n,"maybeDisable"),t.set(1e3,n)},Mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var va=s(function(){},"NullScrollbars");va.prototype.update=function(){return{bottom:0,right:0}},va.prototype.setScrollLeft=function(){},va.prototype.setScrollTop=function(){},va.prototype.clear=function(){};function Ji(e,t){t||(t=ma(e));var r=e.display.barWidth,n=e.display.barHeight;Ho(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Oa(e),Ho(e,ma(e)),r=e.display.barWidth,n=e.display.barHeight}s(Ji,"updateScrollbars");function Ho(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}s(Ho,"updateScrollbarsInner");var Fo={native:Mi,null:va};function Bo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&_e(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Fo[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Te(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?Pi(e,t):ha(e,t)},e),e.display.scrollbars.addClass&&yt(e.display.wrapper,e.display.scrollbars.addClass)}s(Bo,"initScrollbars");var Qs=0;function Ii(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Qs},nn(e.curOp)}s(Ii,"startOperation");function Oi(e){var t=e.curOp;t&&Ai(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;qs(r)})}s(Oi,"endOperation");function qs(e){for(var t=e.ops,r=0;r<t.length;r++)Zs(t[r]);for(var n=0;n<t.length;n++)el(t[n]);for(var i=0;i<t.length;i++)tl(t[i]);for(var o=0;o<t.length;o++)nl(t[o]);for(var l=0;l<t.length;l++)rl(t[l])}s(qs,"endOperations");function Zs(e){var t=e.cm,r=t.display;al(t),e.updateMaxLine&&ei(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Fa(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}s(Zs,"endOperation_R1");function el(e){e.updatedDisplay=e.mustUpdate&&oo(e.cm,e.update)}s(el,"endOperation_W1");function tl(e){var t=e.cm,r=t.display;e.updatedDisplay&&Oa(t),e.barMeasure=ma(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=me(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+j(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-z(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}s(tl,"endOperation_R2");function nl(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Pi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==Xe();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ji(t,e.barMeasure),e.updatedDisplay&&co(t,e.barMeasure),e.selectionChanged&&to(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Mo(e.cm)}s(nl,"endOperation_W2");function rl(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&Wo(t,e.update),r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&Ro(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Pi(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Ys(t,Ie(n,e.scrollToPos.from),Ie(n,e.scrollToPos.to),e.scrollToPos.margin);$s(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var c=0;c<o.length;++c)o[c].lines.length||xt(o[c],"hide");if(l)for(var u=0;u<l.length;++u)l[u].lines.length&&xt(l[u],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&xt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}s(rl,"endOperation_finish");function tr(e,t){if(e.curOp)return t();Ii(e);try{return t()}finally{Oi(e)}}s(tr,"runInOp");function vn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ii(e);try{return t.apply(e,arguments)}finally{Oi(e)}}}s(vn,"operation");function Fn(e){return function(){if(this.curOp)return e.apply(this,arguments);Ii(this);try{return e.apply(this,arguments)}finally{Oi(this)}}}s(Fn,"methodOp");function gn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ii(t);try{return e.apply(this,arguments)}finally{Oi(t)}}}s(gn,"docMethodOp");function ga(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,Ze(il,e))}s(ga,"startWorker");function il(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=br(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,c=o.text.length>e.options.maxHighlightLength?Zn(t.mode,n.state):null,u=Ar(e,o,n,!0);c&&(n.state=c),o.styles=u.styles;var p=o.styleClasses,g=u.classes;g?o.styleClasses=g:p&&(o.styleClasses=null);for(var b=!l||l.length!=o.styles.length||p!=g&&(!p||!g||p.bgClass!=g.bgClass||p.textClass!=g.textClass),I=0;!b&&I<l.length;++I)b=l[I]!=o.styles[I];b&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&wt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ga(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&tr(e,function(){for(var o=0;o<i.length;o++)oi(e,i[o],"text")})}}s(il,"highlightWorker");var Fa=s(function(e,t,r){var n=e.display;this.viewport=t,this.visible=Ra(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=z(e),this.force=r,this.dims=Ti(e),this.events=[]},"DisplayUpdate");Fa.prototype.signal=function(e,t){Vt(e,t)&&this.events.push(arguments)},Fa.prototype.finish=function(){for(var e=0;e<this.events.length;e++)xt.apply(null,this.events[e])};function al(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=j(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=j(e)+"px",t.scrollbarsClipped=!0)}s(al,"maybeClipScrollbars");function ol(e){if(e.hasFocus())return null;var t=Xe();if(!t||!He(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&He(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}s(ol,"selectionSnapshot");function sl(e){if(!(!e||!e.activeElt||e.activeElt==Xe())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&He(document.body,e.anchorNode)&&He(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}s(sl,"restoreSelection");function oo(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return si(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Do(e)==0)return!1;Uo(e)&&(si(e),t.dims=Ti(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),ar&&(o=qr(e.doc,o),l=ki(e.doc,l));var c=o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Vs(e,o,l),r.viewOffset=In(Me(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Do(e);if(!c&&u==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var p=ol(e);return u>4&&(r.lineDiv.style.display="none"),ll(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,sl(p),ke(r.cursorDiv),ke(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,c&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ga(e,400)),r.updateLineNumbers=null,!0}s(oo,"updateDisplayIfNeeded");function Wo(e,t){for(var r=t.viewport,n=!0;;n=!1){if(!n||!e.options.lineWrapping||t.oldDisplayWidth==z(e)){if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+D(e.display)-Q(e),r.top)}),t.visible=Ra(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else n&&(t.visible=Ra(e.display,e.doc,r));if(!oo(e,t))break;Oa(e);var i=ma(e);fa(e),Ji(e,i),co(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}s(Wo,"postUpdateDisplay");function so(e,t){var r=new Fa(e,t);if(oo(e,r)){Oa(e),Wo(e,r);var n=ma(e);fa(e),Ji(e,n),co(e,n),r.finish()}}s(so,"updateDisplaySimple");function ll(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,l=o.firstChild;function c(G){var ee=G.nextSibling;return fe&&C&&e.display.currentWheelTarget==G?G.style.display="none":G.parentNode.removeChild(G),ee}s(c,"rm");for(var u=n.view,p=n.viewFrom,g=0;g<u.length;g++){var b=u[g];if(!b.hidden)if(!b.node||b.node.parentNode!=o){var I=re(e,b,p,r);o.insertBefore(I,l)}else{for(;l!=b.node;)l=c(l);var L=i&&t!=null&&t<=p&&b.lineNumber;b.changes&&(Ae(b.changes,"gutter")>-1&&(L=!1),ii(e,b,p,r)),L&&(ke(b.lineNumber),b.lineNumber.appendChild(document.createTextNode(gr(e.options,p)))),l=b.node.nextSibling}p+=b.size}for(;l;)l=c(l)}s(ll,"patchDisplay");function lo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}s(lo,"updateGutterSpace");function co(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+j(e)+"px"}s(co,"setDocumentHeight");function zo(e){var t=e.display,r=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var n=Za(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var c=r[l].alignable;if(c)for(var u=0;u<c.length;u++)c[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}s(zo,"alignHorizontally");function Uo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=gr(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(w("div",[w("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",lo(e.display),!0}return!1}s(Uo,"maybeUpdateLineNumberWidth");function uo(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],l=null;if(typeof o!="string"&&(l=o.style,o=o.className),o=="CodeMirror-linenumbers")if(t)n=!0;else continue;r.push({className:o,style:l})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}s(uo,"getGutters");function Go(e){var t=e.gutters,r=e.gutterSpecs;ke(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,l=i.style,c=t.appendChild(w("div",null,"CodeMirror-gutter "+o));l&&(c.style.cssText=l),o=="CodeMirror-linenumbers"&&(e.lineGutter=c,c.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",lo(e)}s(Go,"renderGutters");function ya(e){Go(e.display),Kn(e),zo(e)}s(ya,"updateGutters");function cl(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=w("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=w("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Se("div",null,"CodeMirror-code"),i.selectionDiv=w("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=w("div",null,"CodeMirror-cursors"),i.measure=w("div",null,"CodeMirror-measure"),i.lineMeasure=w("div",null,"CodeMirror-measure"),i.lineSpace=Se("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=Se("div",[i.lineSpace],"CodeMirror-lines");i.mover=w("div",[o],null,"position: relative"),i.sizer=w("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=w("div",null,null,"position: absolute; height: "+he+"px; width: 1px;"),i.gutters=w("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=w("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=w("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),Y&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!fe&&!(_&&A)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=uo(n.gutters,n.lineNumbers),Go(i),r.init(i)}s(cl,"Display");var Ba=0,lr=null;Y?lr=-.53:_?lr=15:we?lr=-.7:st&&(lr=-1/3);function jo(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}s(jo,"wheelEventDelta");function ul(e){var t=jo(e);return t.x*=lr,t.y*=lr,t}s(ul,"wheelEventPixels");function Vo(e,t){var r=jo(t),n=r.x,i=r.y,o=e.display,l=o.scroller,c=l.scrollWidth>l.clientWidth,u=l.scrollHeight>l.clientHeight;if(n&&c||i&&u){if(i&&C&&fe){e:for(var p=t.target,g=o.view;p!=l;p=p.parentNode)for(var b=0;b<g.length;b++)if(g[b].node==p){e.display.currentWheelTarget=p;break e}}if(n&&!_&&!ve&&lr!=null){i&&u&&ha(e,Math.max(0,l.scrollTop+i*lr)),Pi(e,Math.max(0,l.scrollLeft+n*lr)),(!i||i&&u)&&Qt(t),o.wheelStartX=null;return}if(i&&lr!=null){var I=i*lr,L=e.doc.scrollTop,G=L+o.wrapper.clientHeight;I<0?L=Math.max(0,L+I-50):G=Math.min(e.doc.height,G+I+50),so(e,{top:L,bottom:G})}Ba<20&&(o.wheelStartX==null?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(o.wheelStartX!=null){var ee=l.scrollLeft-o.wheelStartX,ue=l.scrollTop-o.wheelStartY,ye=ue&&o.wheelDY&&ue/o.wheelDY||ee&&o.wheelDX&&ee/o.wheelDX;o.wheelStartX=o.wheelStartY=null,ye&&(lr=(lr*Ba+ye)/(Ba+1),++Ba)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}s(Vo,"onScrollWheel");var cr=s(function(e,t){this.ranges=e,this.primIndex=t},"Selection");cr.prototype.primary=function(){return this.ranges[this.primIndex]},cr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!V(r.anchor,n.anchor)||!V(r.head,n.head))return!1}return!0},cr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Lt(ae(this.ranges[t].anchor),ae(this.ranges[t].head));return new cr(e,this.primIndex)},cr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},cr.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(m(t,n.from())>=0&&m(e,n.to())<=0)return r}return-1};var Lt=s(function(e,t){this.anchor=e,this.head=t},"Range");Lt.prototype.from=function(){return ut(this.anchor,this.head)},Lt.prototype.to=function(){return je(this.anchor,this.head)},Lt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Sr(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(I,L){return m(I.from(),L.from())}),r=Ae(t,i);for(var o=1;o<t.length;o++){var l=t[o],c=t[o-1],u=m(c.to(),l.from());if(n&&!l.empty()?u>0:u>=0){var p=ut(c.from(),l.from()),g=je(c.to(),l.to()),b=c.empty()?l.from()==l.head:c.from()==c.head;o<=r&&--r,t.splice(--o,2,new Lt(b?g:p,b?p:g))}}return new cr(t,r)}s(Sr,"normalizeSelection");function li(e,t){return new cr([new Lt(e,t||e)],0)}s(li,"simpleSelection");function ci(e){return e.text?d(e.from.line+e.text.length-1,tt(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}s(ci,"changeEnd");function Ko(e,t){if(m(e,t.from)<0)return e;if(m(e,t.to)<=0)return ci(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ci(t).ch-t.to.ch),d(r,n)}s(Ko,"adjustForChange");function fo(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Lt(Ko(i.anchor,t),Ko(i.head,t)))}return Sr(e.cm,r,e.sel.primIndex)}s(fo,"computeSelAfterChange");function $o(e,t,r){return e.line==t.line?d(r.line,e.ch-t.ch+r.ch):d(r.line+(e.line-t.line),e.ch)}s($o,"offsetPos");function dl(e,t,r){for(var n=[],i=d(e.first,0),o=i,l=0;l<t.length;l++){var c=t[l],u=$o(c.from,i,o),p=$o(ci(c),i,o);if(i=c.to,o=p,r=="around"){var g=e.sel.ranges[l],b=m(g.head,g.anchor)<0;n[l]=new Lt(b?p:u,b?u:p)}else n[l]=new Lt(u,u)}return new cr(n,e.sel.primIndex)}s(dl,"computeReplacedSel");function po(e){e.doc.mode=qn(e.options,e.doc.modeOption),ba(e)}s(po,"loadMode");function ba(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ga(e,100),e.state.modeGen++,e.curOp&&Kn(e)}s(ba,"resetModeState");function Yo(e,t){return t.from.ch==0&&t.to.ch==0&&tt(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}s(Yo,"isWholeLineUpdate");function ho(e,t,r,n){function i(Ce){return r?r[Ce]:null}s(i,"spansFor");function o(Ce,be,De){Gi(Ce,be,De,n),Zt(Ce,"change",Ce,t)}s(o,"update");function l(Ce,be){for(var De=[],ze=Ce;ze<be;++ze)De.push(new pr(p[ze],i(ze),n));return De}s(l,"linesFor");var c=t.from,u=t.to,p=t.text,g=Me(e,c.line),b=Me(e,u.line),I=tt(p),L=i(p.length-1),G=u.line-c.line;if(t.full)e.insert(0,l(0,p.length)),e.remove(p.length,e.size-p.length);else if(Yo(e,t)){var ee=l(0,p.length-1);o(b,b.text,L),G&&e.remove(c.line,G),ee.length&&e.insert(c.line,ee)}else if(g==b)if(p.length==1)o(g,g.text.slice(0,c.ch)+I+g.text.slice(u.ch),L);else{var ue=l(1,p.length-1);ue.push(new pr(I+g.text.slice(u.ch),L,n)),o(g,g.text.slice(0,c.ch)+p[0],i(0)),e.insert(c.line+1,ue)}else if(p.length==1)o(g,g.text.slice(0,c.ch)+p[0]+b.text.slice(u.ch),i(0)),e.remove(c.line+1,G);else{o(g,g.text.slice(0,c.ch)+p[0],i(0)),o(b,I+b.text.slice(u.ch),L);var ye=l(1,p.length-1);G>1&&e.remove(c.line+1,G-1),e.insert(c.line+1,ye)}Zt(e,"change",e,t)}s(ho,"updateDoc");function ui(e,t,r){function n(i,o,l){if(i.linked)for(var c=0;c<i.linked.length;++c){var u=i.linked[c];if(u.doc!=o){var p=l&&u.sharedHist;r&&!p||(t(u.doc,p),n(u.doc,i,p))}}}s(n,"propagate"),n(e,null,!0)}s(ui,"linkedDocs");function Jo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,eo(e),po(e),Xo(e),e.options.lineWrapping||ei(e),e.options.mode=t.modeOption,Kn(e)}s(Jo,"attachDoc");function Xo(e){(e.doc.direction=="rtl"?yt:_e)(e.display.lineDiv,"CodeMirror-rtl")}s(Xo,"setDirectionClass");function fl(e){tr(e,function(){Xo(e),Kn(e)})}s(fl,"directionChanged");function Wa(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}s(Wa,"History");function mo(e,t){var r={from:ae(t.from),to:ci(t),text:er(e,t.from,t.to)};return Zo(e,r,t.from.line,t.to.line+1),ui(e,function(n){return Zo(n,r,t.from.line,t.to.line+1)},!0),r}s(mo,"historyChangeFromChange");function Qo(e){for(;e.length;){var t=tt(e);if(t.ranges)e.pop();else break}}s(Qo,"clearSelectionEvents");function pl(e,t){if(t)return Qo(e.done),tt(e.done);if(e.done.length&&!tt(e.done).ranges)return tt(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),tt(e.done)}s(pl,"lastChangeEvent");function qo(e,t,r,n){var i=e.history;i.undone.length=0;var o=+new Date,l,c;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(l=pl(i,i.lastOp==n)))c=tt(l.changes),m(t.from,t.to)==0&&m(t.from,c.to)==0?c.to=ci(t):l.changes.push(mo(e,t));else{var u=tt(i.done);for((!u||!u.ranges)&&za(e.sel,i.done),l={changes:[mo(e,t)],generation:i.generation},i.done.push(l);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,c||xt(e,"historyAdded")}s(qo,"addChangeToHistory");function hl(e,t,r,n){var i=t.charAt(0);return i=="*"||i=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}s(hl,"selectionEventCanBeMerged");function ml(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||hl(e,o,tt(i.done),t))?i.done[i.done.length-1]=t:za(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&Qo(i.undone)}s(ml,"addSelectionToHistory");function za(e,t){var r=tt(t);r&&r.ranges&&r.equals(e)||t.push(e)}s(za,"pushSelectionToHistory");function Zo(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(l){l.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=l.markedSpans),++o})}s(Zo,"attachLocalSpans");function vl(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}s(vl,"removeClearedSpans");function gl(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(vl(r[i]));return n}s(gl,"getOldSpans");function es(e,t){var r=gl(e,t),n=Hr(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var c=0;c<l.length;++c){for(var u=l[c],p=0;p<o.length;++p)if(o[p].marker==u.marker)continue e;o.push(u)}else l&&(r[i]=l)}return r}s(es,"mergeOldSpans");function Xi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges){n.push(r?cr.prototype.deepCopy.call(o):o);continue}var l=o.changes,c=[];n.push({changes:c});for(var u=0;u<l.length;++u){var p=l[u],g=void 0;if(c.push({from:p.from,to:p.to,text:p.text}),t)for(var b in p)(g=b.match(/^spans_(\d+)$/))&&Ae(t,Number(g[1]))>-1&&(tt(c)[b]=p[b],delete p[b])}}return n}s(Xi,"copyHistoryArray");function vo(e,t,r,n){if(n){var i=e.anchor;if(r){var o=m(t,i)<0;o!=m(r,i)<0?(i=t,t=r):o!=m(t,r)<0&&(t=r)}return new Lt(i,t)}else return new Lt(r||t,t)}s(vo,"extendRange");function Ua(e,t,r,n,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),An(e,new cr([vo(e.sel.primary(),t,r,i)],0),n)}s(Ua,"extendSelection");function ts(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=vo(e.sel.ranges[o],t[o],null,i);var l=Sr(e.cm,n,e.sel.primIndex);An(e,l,r)}s(ts,"extendSelections");function go(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,An(e,Sr(e.cm,i,e.sel.primIndex),n)}s(go,"replaceOneSelection");function ns(e,t,r,n){An(e,li(t,r),n)}s(ns,"setSimpleSelection");function yl(e,t,r){var n={ranges:t.ranges,update:function(i){this.ranges=[];for(var o=0;o<i.length;o++)this.ranges[o]=new Lt(Ie(e,i[o].anchor),Ie(e,i[o].head))},origin:r&&r.origin};return xt(e,"beforeSelectionChange",e,n),e.cm&&xt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Sr(e.cm,n.ranges,n.ranges.length-1):t}s(yl,"filterSelectionChange");function rs(e,t,r){var n=e.history.done,i=tt(n);i&&i.ranges?(n[n.length-1]=t,Ga(e,t,r)):An(e,t,r)}s(rs,"setSelectionReplaceHistory");function An(e,t,r){Ga(e,t,r),ml(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}s(An,"setSelection");function Ga(e,t,r){(Vt(e,"beforeSelectionChange")||e.cm&&Vt(e.cm,"beforeSelectionChange"))&&(t=yl(e,t,r));var n=r&&r.bias||(m(t.primary().head,e.sel.primary().head)<0?-1:1);is(e,os(e,t,n,!0)),!(r&&r.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Yi(e.cm)}s(Ga,"setSelectionNoUndo");function is(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,hr(e.cm)),Zt(e,"cursorActivity",e))}s(is,"setSelectionInner");function as(e){is(e,os(e,e.sel,null,!1))}s(as,"reCheckSelection");function os(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],c=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=ja(e,l.anchor,c&&c.anchor,r,n),p=ja(e,l.head,c&&c.head,r,n);(i||u!=l.anchor||p!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Lt(u,p))}return i?Sr(e.cm,i,t.primIndex):t}s(os,"skipAtomicInSelection");function Qi(e,t,r,n,i){var o=Me(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var c=o.markedSpans[l],u=c.marker,p="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,g="selectRight"in u?!u.selectRight:u.inclusiveRight;if((c.from==null||(p?c.from<=t.ch:c.from<t.ch))&&(c.to==null||(g?c.to>=t.ch:c.to>t.ch))){if(i&&(xt(u,"beforeCursorEnter"),u.explicitlyCleared))if(o.markedSpans){--l;continue}else break;if(!u.atomic)continue;if(r){var b=u.find(n<0?1:-1),I=void 0;if((n<0?g:p)&&(b=ss(e,b,-n,b&&b.line==t.line?o:null)),b&&b.line==t.line&&(I=m(b,r))&&(n<0?I<0:I>0))return Qi(e,b,t,n,i)}var L=u.find(n<0?-1:1);return(n<0?p:g)&&(L=ss(e,L,n,L.line==t.line?o:null)),L?Qi(e,L,t,n,i):null}}return t}s(Qi,"skipAtomicInner");function ja(e,t,r,n,i){var o=n||1,l=Qi(e,t,r,o,i)||!i&&Qi(e,t,r,o,!0)||Qi(e,t,r,-o,i)||!i&&Qi(e,t,r,-o,!0);return l||(e.cantEdit=!0,d(e.first,0))}s(ja,"skipAtomic");function ss(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?Ie(e,d(t.line-1)):null:r>0&&t.ch==(n||Me(e,t.line)).text.length?t.line<e.first+e.size-1?d(t.line+1,0):null:new d(t.line,t.ch+r)}s(ss,"movePos");function ls(e){e.setSelection(d(e.firstLine(),0),d(e.lastLine()),Ne)}s(ls,"selectAll");function cs(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,o,l,c){i&&(n.from=Ie(e,i)),o&&(n.to=Ie(e,o)),l&&(n.text=l),c!==void 0&&(n.origin=c)}),xt(e,"beforeChange",e,n),e.cm&&xt(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}s(cs,"filterChange");function qi(e,t,r){if(e.cm){if(!e.cm.curOp)return vn(e.cm,qi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!((Vt(e,"beforeChange")||e.cm&&Vt(e.cm,"beforeChange"))&&(t=cs(e,t,!0),!t))){var n=Jr&&!r&&Ei(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)us(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else us(e,t)}}s(qi,"makeChange");function us(e,t){if(!(t.text.length==1&&t.text[0]==""&&m(t.from,t.to)==0)){var r=fo(e,t);qo(e,t,r,e.cm?e.cm.curOp.id:NaN),_a(e,t,r,Hr(e,t));var n=[];ui(e,function(i,o){!o&&Ae(n,i.history)==-1&&(hs(i.history,t),n.push(i.history)),_a(i,t,null,Hr(i,t))})}}s(us,"makeChangeInner");function Va(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!(n&&!r)){for(var i=e.history,o,l=e.sel,c=t=="undo"?i.done:i.undone,u=t=="undo"?i.undone:i.done,p=0;p<c.length&&(o=c[p],!(r?o.ranges&&!o.equals(e.sel):!o.ranges));p++);if(p!=c.length){for(i.lastOrigin=i.lastSelOrigin=null;;)if(o=c.pop(),o.ranges){if(za(o,u),r&&!o.equals(e.sel)){An(e,o,{clearRedo:!1});return}l=o}else if(n){c.push(o);return}else break;var g=[];za(l,u),u.push({changes:g,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var b=Vt(e,"beforeChange")||e.cm&&Vt(e.cm,"beforeChange"),I=s(function(ee){var ue=o.changes[ee];if(ue.origin=t,b&&!cs(e,ue,!1))return c.length=0,{};g.push(mo(e,ue));var ye=ee?fo(e,ue):tt(c);_a(e,ue,ye,es(e,ue)),!ee&&e.cm&&e.cm.scrollIntoView({from:ue.from,to:ci(ue)});var Ce=[];ui(e,function(be,De){!De&&Ae(Ce,be.history)==-1&&(hs(be.history,ue),Ce.push(be.history)),_a(be,ue,null,es(be,ue))})},"loop"),L=o.changes.length-1;L>=0;--L){var G=I(L);if(G)return G.v}}}}s(Va,"makeChangeFromHistory");function ds(e,t){if(t!=0&&(e.first+=t,e.sel=new cr(dt(e.sel.ranges,function(i){return new Lt(d(i.anchor.line+t,i.anchor.ch),d(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){Kn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)oi(e.cm,n,"gutter")}}s(ds,"shiftDoc");function _a(e,t,r,n){if(e.cm&&!e.cm.curOp)return vn(e.cm,_a)(e,t,r,n);if(t.to.line<e.first){ds(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ds(e,i),t={from:d(e.first,0),to:d(t.to.line+i,t.to.ch),text:[tt(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:d(o,Me(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=er(e,t.from,t.to),r||(r=fo(e,t)),e.cm?bl(e.cm,t,n):ho(e,t,n),Ga(e,r,Ne),e.cantEdit&&ja(e,d(e.firstLine(),0))&&(e.cantEdit=!1)}}s(_a,"makeChangeSingleDoc");function bl(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,c=!1,u=o.line;e.options.lineWrapping||(u=ft(_n(Me(n,o.line))),n.iter(u,l.line+1,function(L){if(L==i.maxLine)return c=!0,!0})),n.sel.contains(t.from,t.to)>-1&&hr(e),ho(n,t,r,To(e)),e.options.lineWrapping||(n.iter(u,o.line+t.text.length,function(L){var G=Ur(L);G>i.maxLineLength&&(i.maxLine=L,i.maxLineLength=G,i.maxLineChanged=!0,c=!1)}),c&&(e.curOp.updateMaxLine=!0)),Fi(n,o.line),ga(e,400);var p=t.text.length-(l.line-o.line)-1;t.full?Kn(e):o.line==l.line&&t.text.length==1&&!Yo(e.doc,t)?oi(e,o.line,"text"):Kn(e,o.line,l.line+1,p);var g=Vt(e,"changes"),b=Vt(e,"change");if(b||g){var I={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};b&&Zt(e,"change",e,I),g&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(I)}e.display.selForContextMenu=null}s(bl,"makeChangeSingleDocInEditor");function Zi(e,t,r,n,i){var o;n||(n=r),m(n,r)<0&&(o=[n,r],r=o[0],n=o[1]),typeof t=="string"&&(t=e.splitLines(t)),qi(e,{from:r,to:n,text:t,origin:i})}s(Zi,"replaceRange");function fs(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}s(fs,"rebaseHistSelSingle");function ps(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var c=0;c<o.ranges.length;c++)fs(o.ranges[c].anchor,t,r,n),fs(o.ranges[c].head,t,r,n);continue}for(var u=0;u<o.changes.length;++u){var p=o.changes[u];if(r<p.from.line)p.from=d(p.from.line+n,p.from.ch),p.to=d(p.to.line+n,p.to.ch);else if(t<=p.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}s(ps,"rebaseHistArray");function hs(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;ps(e.done,r,n,i),ps(e.undone,r,n,i)}s(hs,"rebaseHist");function Ea(e,t,r,n){var i=t,o=t;return typeof t=="number"?o=Me(e,Ct(e,t)):i=ft(t),i==null?null:(n(o,i)&&e.cm&&oi(e.cm,i,r),o)}s(Ea,"changeLine");function Sa(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}s(Sa,"LeafChunk"),Sa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Rt(i),Zt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}};function xa(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}s(xa,"BranchChunk"),xa.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),(t-=o)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Sa))){var c=[];this.collapse(c),this.children=[new Sa(c)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,c=l;c<i.lines.length;){var u=new Sa(i.lines.slice(c,c+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new xa(t);if(e.parent){e.size-=r.size,e.height-=r.height;var i=Ae(e.parent.children,e);e.parent.children.splice(i+1,0,r)}else{var n=new xa(e.children);n.parent=e,e.children=[n,r],e=n}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if((t-=l)==0)break;e=0}else e-=o}}};var wa=s(function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t},"LineWidget");wa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ft(r);if(!(n==null||!t)){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=x(this);Pn(r,Math.max(0,r.height-o)),e&&(tr(e,function(){ms(e,r,-o),oi(e,n,"widget")}),Zt(e,"lineWidgetCleared",e,this,n))}},wa.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=x(this)-t;i&&(jn(this.doc,n)||Pn(n,n.height+i),r&&tr(r,function(){r.curOp.forceUpdate=!0,ms(r,n,i),Zt(r,"lineWidgetChanged",r,e,ft(n))}))},tn(wa);function ms(e,t,r){In(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ao(e,r)}s(ms,"adjustScrollWhenAboveVisible");function _l(e,t,r,n){var i=new wa(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ea(e,t,"widget",function(l){var c=l.widgets||(l.widgets=[]);if(i.insertAt==null?c.push(i):c.splice(Math.min(c.length,Math.max(0,i.insertAt)),0,i),i.line=l,o&&!jn(e,l)){var u=In(l)<e.scrollTop;Pn(l,l.height+x(i)),u&&ao(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&Zt(o,"lineWidgetAdded",o,i,typeof t=="number"?t:ft(t)),i}s(_l,"addLineWidget");var vs=0,di=s(function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++vs},"TextMarker");di.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ii(e),Vt(this,"clear")){var r=this.find();r&&Zt(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],c=Dr(l.markedSpans,this);e&&!this.collapsed?oi(e,ft(l),"text"):e&&(c.to!=null&&(i=ft(l)),c.from!=null&&(n=ft(l))),l.markedSpans=sa(l.markedSpans,c),c.from==null&&this.collapsed&&!jn(this.doc,l)&&e&&Pn(l,Nn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var p=_n(this.lines[u]),g=Ur(p);g>e.display.maxLineLength&&(e.display.maxLine=p,e.display.maxLineLength=g,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&Kn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&as(e.doc)),e&&Zt(e,"markerCleared",e,this,n,i),t&&Oi(e),this.parent&&this.parent.clear()}},di.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Dr(o.markedSpans,this);if(l.from!=null&&(r=d(t?o:ft(o),l.from),e==-1))return r;if(l.to!=null&&(n=d(t?o:ft(o),l.to),e==1))return n}return r&&{from:r,to:n}},di.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;!t||!n||tr(n,function(){var i=t.line,o=ft(t.line),l=oe(n,o);if(l&&(Qe(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!jn(r.doc,i)&&r.height!=null){var c=r.height;r.height=null;var u=x(r)-c;u&&Pn(i,i.height+u)}Zt(n,"markerChanged",n,e)})},di.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Ae(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},di.prototype.detachLine=function(e){if(this.lines.splice(Ae(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},tn(di);function ea(e,t,r,n,i){if(n&&n.shared)return El(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return vn(e.cm,ea)(e,t,r,n,i);var o=new di(e,i),l=m(t,r);if(n&&Bt(n,o,!1),l>0||l==0&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Se("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(wi(e,t.line,t,r,o)||t.line!=r.line&&wi(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");yi()}o.addToHistory&&qo(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var c=t.line,u=e.cm,p;if(e.iter(c,r.line+1,function(b){u&&o.collapsed&&!u.options.lineWrapping&&_n(b)==u.display.maxLine&&(p=!0),o.collapsed&&c!=t.line&&Pn(b,0),Bi(b,new Xr(o,c==t.line?t.ch:null,c==r.line?r.ch:null)),++c}),o.collapsed&&e.iter(t.line,r.line+1,function(b){jn(e,b)&&Pn(b,0)}),o.clearOnEnter&&Te(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Mn(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++vs,o.atomic=!0),u){if(p&&(u.curOp.updateMaxLine=!0),o.collapsed)Kn(u,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var g=t.line;g<=r.line;g++)oi(u,g,"text");o.atomic&&as(u.doc),Zt(u,"markerAdded",u,o)}return o}s(ea,"markText");var ka=s(function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this},"SharedTextMarker");ka.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Zt(this,"clear")}},ka.prototype.find=function(e,t){return this.primary.find(e,t)},tn(ka);function El(e,t,r,n,i){n=Bt(n),n.shared=!1;var o=[ea(e,t,r,n,i)],l=o[0],c=n.widgetNode;return ui(e,function(u){c&&(n.widgetNode=c.cloneNode(!0)),o.push(ea(u,Ie(u,t),Ie(u,r),n,i));for(var p=0;p<u.linked.length;++p)if(u.linked[p].isParent)return;l=tt(o)}),new ka(o,l)}s(El,"markTextShared");function gs(e){return e.findMarks(d(e.first,0),e.clipPos(d(e.lastLine())),function(t){return t.parent})}s(gs,"findSharedMarkers");function Sl(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(m(o,l)){var c=ea(e,o,l,n.primary,n.primary.type);n.markers.push(c),c.parent=n}}}s(Sl,"copySharedMarkers");function xl(e){for(var t=s(function(n){var i=e[n],o=[i.primary.doc];ui(i.primary.doc,function(u){return o.push(u)});for(var l=0;l<i.markers.length;l++){var c=i.markers[l];Ae(o,c.doc)==-1&&(c.parent=null,i.markers.splice(l--,1))}},"loop"),r=0;r<e.length;r++)t(r)}s(xl,"detachSharedMarkers");var wl=0,$n=s(function(e,t,r,n,i){if(!(this instanceof $n))return new $n(e,t,r,n,i);r==null&&(r=0),xa.call(this,[new Sa([new pr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=d(r,0);this.sel=li(o),this.history=new Wa(null),this.id=++wl,this.modeOption=t,this.lineSep=n,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),ho(this,{from:o,to:o,text:e}),An(this,li(o),Ne)},"Doc");$n.prototype=Dn(xa.prototype,{constructor:$n,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=rr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:gn(function(e){var t=d(this.first,0),r=this.first+this.size-1;qi(this,{from:t,to:d(r,Me(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&pa(this.cm,0,0),An(this,li(t),Ne)}),replaceRange:function(e,t,r,n){t=Ie(this,t),r=r?Ie(this,r):t,Zi(this,e,t,r,n)},getRange:function(e,t,r){var n=er(this,Ie(this,e),Ie(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Nr(this,e))return Me(this,e)},getLineNumber:function(e){return ft(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Me(this,e)),_n(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ie(this,e)},getCursor:function(e){var t=this.sel.primary(),r;return e==null||e=="head"?r=t.head:e=="anchor"?r=t.anchor:e=="end"||e=="to"||e===!1?r=t.to():r=t.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gn(function(e,t,r){ns(this,Ie(this,typeof e=="number"?d(e,t||0):e),null,r)}),setSelection:gn(function(e,t,r){ns(this,Ie(this,e),Ie(this,t||e),r)}),extendSelection:gn(function(e,t,r){Ua(this,Ie(this,e),t&&Ie(this,t),r)}),extendSelections:gn(function(e,t){ts(this,Pt(this,e),t)}),extendSelectionsBy:gn(function(e,t){var r=dt(this.sel.ranges,e);ts(this,Pt(this,r),t)}),setSelections:gn(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Lt(Ie(this,e[i].anchor),Ie(this,e[i].head||e[i].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),An(this,Sr(this.cm,n,t),r)}}),addSelection:gn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Lt(Ie(this,e),Ie(this,t||e))),An(this,Sr(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t=this.sel.ranges,r,n=0;n<t.length;n++){var i=er(this,t[n].from(),t[n].to());r=r?r.concat(i):i}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=er(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:gn(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var c=t&&t!="end"&&dl(this,n,t),u=n.length-1;u>=0;u--)qi(this,n[u]);c?rs(this,c):this.cm&&Yi(this.cm)}),undo:gn(function(){Va(this,"undo")}),redo:gn(function(){Va(this,"redo")}),undoSelection:gn(function(){Va(this,"undo",!0)}),redoSelection:gn(function(){Va(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Wa(this.history),ui(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Xi(this.history.done),undone:Xi(this.history.undone)}},setHistory:function(e){var t=this.history=new Wa(this.history);t.done=Xi(e.done.slice(0),null,!0),t.undone=Xi(e.undone.slice(0),null,!0)},setGutterMarker:gn(function(e,t,r){return Ea(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&Ye(i)&&(n.gutterMarkers=null),!0})}),clearGutter:gn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ea(t,r,"gutter",function(){return r.gutterMarkers[e]=null,Ye(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!Nr(this,e)||(t=e,e=Me(this,e),!e))return null}else if(t=ft(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gn(function(e,t,r){return Ea(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!n[i])n[i]=r;else{if(xe(r).test(n[i]))return!1;n[i]+=" "+r}return!0})}),removeLineClass:gn(function(e,t,r){return Ea(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",o=n[i];if(o)if(r==null)n[i]=null;else{var l=o.match(xe(r));if(!l)return!1;var c=l.index+l[0].length;n[i]=o.slice(0,l.index)+(!l.index||c==o.length?"":" ")+o.slice(c)||null}else return!1;return!0})}),addLineWidget:gn(function(e,t,r){return _l(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ea(this,Ie(this,e),Ie(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=Ie(this,e),ea(this,e,e,r,"bookmark")},findMarksAt:function(e){e=Ie(this,e);var t=[],r=Me(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Ie(this,e),t=Ie(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var c=0;c<l.length;c++){var u=l[c];!(u.to!=null&&i==e.line&&e.ch>=u.to||u.from==null&&i!=e.line||u.from!=null&&i==t.line&&u.from>=t.ch)&&(!r||r(u.marker))&&n.push(u.marker.parent||u.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),Ie(this,d(r,t))},indexFromPos:function(e){e=Ie(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new $n(rr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new $n(rr(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Sl(n,gs(this)),n},unlinkDoc:function(e){if(e instanceof Gt&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xl(gs(this));break}}if(e.history==this.history){var n=[e.id];ui(e,function(i){return n.push(i.id)},!0),e.history=new Wa(null),e.history.done=Xi(this.history.done,n),e.history.undone=Xi(this.history.undone,n)}},iterLinkedDocs:function(e){ui(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):vr(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:gn(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&fl(this.cm))})}),$n.prototype.eachLine=$n.prototype.iter;var ys=0;function kl(e){var t=this;if(bs(t),!(Le(t,e)||k(t.display,e))){Qt(e),Y&&(ys=+new Date);var r=Di(t,e,!0),n=e.dataTransfer.files;if(!(!r||t.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,c=s(function(){++l==i&&vn(t,function(){r=Ie(t.doc,r);var L={from:r,to:r,text:t.doc.splitLines(o.filter(function(G){return G!=null}).join(t.doc.lineSeparator())),origin:"paste"};qi(t.doc,L),rs(t.doc,li(Ie(t.doc,r),Ie(t.doc,ci(L))))})()},"markAsReadAndPasteIfAllFilesAreRead"),u=s(function(L,G){if(t.options.allowDropFileTypes&&Ae(t.options.allowDropFileTypes,L.type)==-1){c();return}var ee=new FileReader;ee.onerror=function(){return c()},ee.onload=function(){var ue=ee.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ue)){c();return}o[G]=ue,c()},ee.readAsText(L)},"readTextFromFile"),p=0;p<n.length;p++)u(n[p],p);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var g=e.dataTransfer.getData("Text");if(g){var b;if(t.state.draggingText&&!t.state.draggingText.copy&&(b=t.listSelections()),Ga(t.doc,li(r,r)),b)for(var I=0;I<b.length;++I)Zi(t.doc,"",b[I].anchor,b[I].head,"drag");t.replaceSelection(g,"around","paste"),t.display.input.focus()}}catch{}}}}s(kl,"onDrop");function Cl(e,t){if(Y&&(!e.state.draggingText||+new Date-ys<100)){zn(t);return}if(!(Le(e,t)||k(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!st)){var r=w("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ve&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),ve&&r.parentNode.removeChild(r)}}s(Cl,"onDragStart");function Nl(e,t){var r=Di(e,t);if(r){var n=document.createDocumentFragment();Po(e,r,n),e.display.dragCursor||(e.display.dragCursor=w("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Ee(e.display.dragCursor,n)}}s(Nl,"onDragOver");function bs(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}s(bs,"clearDragCursor");function _s(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var o=0;o<r.length;o++)e(r[o])})}}s(_s,"forEachCodeMirror");var Es=!1;function Al(){Es||(Tl(),Es=!0)}s(Al,"ensureGlobalHandlers");function Tl(){var e;Te(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,_s(Dl)},100))}),Te(window,"blur",function(){return _s($i)})}s(Tl,"registerGlobalHandlers");function Dl(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}s(Dl,"onResize");for(var fi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ca=0;Ca<10;Ca++)fi[Ca+48]=fi[Ca+96]=String(Ca);for(var Ka=65;Ka<=90;Ka++)fi[Ka]=String.fromCharCode(Ka);for(var Na=1;Na<=12;Na++)fi[Na+111]=fi[Na+63235]="F"+Na;var jr={};jr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},jr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},jr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},jr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},jr.default=C?jr.macDefault:jr.pcDefault;function Ll(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}s(Ll,"normalizeKeyName");function Pl(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var i=dt(r.split(" "),Ll),o=0;o<i.length;o++){var l=void 0,c=void 0;o==i.length-1?(c=i.join(" "),l=n):(c=i.slice(0,o+1).join(" "),l="...");var u=t[c];if(!u)t[c]=l;else if(u!=l)throw new Error("Inconsistent bindings for "+c)}delete e[r]}for(var p in t)e[p]=t[p];return e}s(Pl,"normalizeKeyMap");function ta(e,t,r,n){t=$a(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&r(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return ta(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=ta(e,t.fallthrough[o],r,n);if(l)return l}}}s(ta,"lookupKey");function Ss(e){var t=typeof e=="string"?e:fi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}s(Ss,"isModifierKey");function xs(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(J?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(J?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}s(xs,"addModifierNames");function ws(e,t){if(ve&&e.keyCode==34&&e.char)return!1;var r=fi[e.keyCode];return r==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(r=e.code),xs(r,e,t))}s(ws,"keyName");function $a(e){return typeof e=="string"?jr[e]:e}s($a,"getKeyMap");function na(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&m(o.from,tt(n).to)<=0;){var l=n.pop();if(m(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}tr(e,function(){for(var c=n.length-1;c>=0;c--)Zi(e.doc,"",n[c].from,n[c].to,"+delete");Yi(e)})}s(na,"deleteNearSelection");function yo(e,t,r){var n=it(e.text,t+r,r);return n<0||n>e.text.length?null:n}s(yo,"moveCharLogically");function bo(e,t,r){var n=yo(e,t.ch,r);return n==null?null:new d(t.line,n,r<0?"after":"before")}s(bo,"moveLogically");function _o(e,t,r,n,i){if(e){t.doc.direction=="rtl"&&(i=-i);var o=at(r,t.doc.direction);if(o){var l=i<0?tt(o):o[0],c=i<0==(l.level==1),u=c?"after":"before",p;if(l.level>0||t.doc.direction=="rtl"){var g=ne(t,r);p=i<0?r.text.length-1:0;var b=q(t,g,p).top;p=mt(function(I){return q(t,g,I).top==b},i<0==(l.level==1)?l.from:l.to-1,p),u=="before"&&(p=yo(r,p,1))}else p=i<0?l.to:l.from;return new d(n,p,u)}}return new d(n,i<0?r.text.length:0,i<0?"before":"after")}s(_o,"endOfLine");function Ml(e,t,r,n){var i=at(t,e.doc.direction);if(!i)return bo(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Xt(i,r.ch,r.sticky),l=i[o];if(e.doc.direction=="ltr"&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return bo(t,r,n);var c=s(function(ye,Ce){return yo(t,ye instanceof d?ye.ch:ye,Ce)},"mv"),u,p=s(function(ye){return e.options.lineWrapping?(u=u||ne(e,t),sr(e,t,u,ye)):{begin:0,end:t.text.length}},"getWrappedLineExtent"),g=p(r.sticky=="before"?c(r,-1):r.ch);if(e.doc.direction=="rtl"||l.level==1){var b=l.level==1==n<0,I=c(r,b?1:-1);if(I!=null&&(b?I<=l.to&&I<=g.end:I>=l.from&&I>=g.begin)){var L=b?"before":"after";return new d(r.line,I,L)}}var G=s(function(ye,Ce,be){for(var De=s(function(Ht,yn){return yn?new d(r.line,c(Ht,1),"before"):new d(r.line,Ht,"after")},"getRes");ye>=0&&ye<i.length;ye+=Ce){var ze=i[ye],We=Ce>0==(ze.level!=1),ot=We?be.begin:c(be.end,-1);if(ze.from<=ot&&ot<ze.to||(ot=We?ze.from:c(ze.to,-1),be.begin<=ot&&ot<be.end))return De(ot,We)}},"searchInVisualLine"),ee=G(o+n,n,g);if(ee)return ee;var ue=n>0?g.end:c(g.begin,-1);return ue!=null&&!(n>0&&ue==t.text.length)&&(ee=G(n>0?0:i.length-1,n,p(ue)),ee)?ee:null}s(Ml,"moveVisually");var Aa={selectAll:ls,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ne)},killLine:function(e){return na(e,function(t){if(t.empty()){var r=Me(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:d(t.head.line+1,0)}:{from:t.head,to:d(t.head.line,r)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return na(e,function(t){return{from:d(t.from().line,0),to:Ie(e.doc,d(t.to().line+1,0))}})},delLineLeft:function(e){return na(e,function(t){return{from:d(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return na(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return na(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(d(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(d(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return ks(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Cs(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Il(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},an)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},an)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Cs(e,t.head):n},an)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=Pe(e.getLine(o.line),o.ch,n);t.push(pt(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return tr(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Me(e.doc,i.line).text;if(o){if(i.ch==o.length&&(i=new d(i.line,i.ch-1)),i.ch>0)i=new d(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),d(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=Me(e.doc,i.line-1).text;l&&(i=new d(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),d(i.line-1,l.length-1),i,"+transpose"))}}r.push(new Lt(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return tr(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Yi(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ks(e,t){var r=Me(e.doc,t),n=_n(r);return n!=r&&(t=ft(n)),_o(!0,e,n,t,1)}s(ks,"lineStart");function Il(e,t){var r=Me(e.doc,t),n=Ui(r);return n!=r&&(t=ft(n)),_o(!0,e,r,t,-1)}s(Il,"lineEnd");function Cs(e,t){var r=ks(e,t.line),n=Me(e.doc,r.line),i=at(n,e.doc.direction);if(!i||i[0].level==0){var o=Math.max(r.ch,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return d(r.line,l?0:o,r.sticky)}return r}s(Cs,"lineStartSmart");function Ya(e,t,r){if(typeof t=="string"&&(t=Aa[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=ge}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}s(Ya,"doHandleBinding");function Ol(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=ta(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&ta(t,e.options.extraKeys,r,e)||ta(t,e.options.keyMap,r,e)}s(Ol,"lookupKeyForEditor");var Rl=new le;function Ta(e,t,r,n){var i=e.state.keySeq;if(i){if(Ss(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Rl.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Ns(e,i+" "+t,r,n))return!0}return Ns(e,t,r,n)}s(Ta,"dispatchKey");function Ns(e,t,r,n){var i=Ol(e,t,n);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&Zt(e,"keyHandled",e,t,r),(i=="handled"||i=="multi")&&(Qt(r),to(e)),!!i}s(Ns,"dispatchKeyInner");function As(e,t){var r=ws(t,!0);return r?t.shiftKey&&!e.state.keySeq?Ta(e,"Shift-"+r,t,function(n){return Ya(e,n,!0)})||Ta(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ya(e,n)}):Ta(e,r,t,function(n){return Ya(e,n)}):!1}s(As,"handleKeyBinding");function Hl(e,t,r){return Ta(e,"'"+r+"'",t,function(n){return Ya(e,n,!0)})}s(Hl,"handleCharBinding");var Eo=null;function Ts(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=Xe(),!Le(t,e))){Y&&a<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=As(t,e);ve&&(Eo=n?r:null,!n&&r==88&&!ur&&(C?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),_&&!C&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Fl(t)}}s(Ts,"onKeyDown");function Fl(e){var t=e.display.lineDiv;yt(t,"CodeMirror-crosshair");function r(n){(n.keyCode==18||!n.altKey)&&(_e(t,"CodeMirror-crosshair"),Wt(document,"keyup",r),Wt(document,"mouseover",r))}s(r,"up"),Te(document,"keyup",r),Te(document,"mouseover",r)}s(Fl,"showCrossHair");function Ds(e){e.keyCode==16&&(this.doc.sel.shift=!1),Le(this,e)}s(Ds,"onKeyUp");function Ls(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(k(t.display,e)||Le(t,e)||e.ctrlKey&&!e.altKey||C&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(ve&&r==Eo){Eo=null,Qt(e);return}if(!(ve&&(!e.which||e.which<10)&&As(t,e))){var i=String.fromCharCode(n??r);i!="\b"&&(Hl(t,e,i)||t.display.input.onKeyPress(e))}}}s(Ls,"onKeyPress");var Bl=400,So=s(function(e,t,r){this.time=e,this.pos=t,this.button=r},"PastClick");So.prototype.compare=function(e,t,r){return this.time+Bl>e&&m(t,this.pos)==0&&r==this.button};var Da,La;function Wl(e,t){var r=+new Date;return La&&La.compare(r,e,t)?(Da=La=null,"triple"):Da&&Da.compare(r,e,t)?(La=new So(r,e,t),Da=null,"double"):(Da=new So(r,e,t),La=null,"single")}s(Wl,"clickRepeat");function Ps(e){var t=this,r=t.display;if(!(Le(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,k(r,e)){fe||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));return}if(!xo(t,e)){var n=Di(t,e),i=mr(e),o=n?Wl(n,i):"single";window.focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),!(n&&zl(t,i,n,o,e))&&(i==1?n?Gl(t,n,o,e):Ir(e)==r.scroller&&Qt(e):i==2?(n&&Ua(t.doc,n),setTimeout(function(){return r.input.focus()},20)):i==3&&(Z?t.display.input.onContextMenu(e):no(t)))}}}s(Ps,"onMouseDown");function zl(e,t,r,n,i){var o="Click";return n=="double"?o="Double"+o:n=="triple"&&(o="Triple"+o),o=(t==1?"Left":t==2?"Middle":"Right")+o,Ta(e,xs(o,i),i,function(l){if(typeof l=="string"&&(l=Aa[l]),!l)return!1;var c=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),c=l(e,r)!=ge}finally{e.state.suppressEdits=!1}return c})}s(zl,"handleMappedButton");function Ul(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(i.unit==null){var o=W?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(i.extend==null||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),i.addNew==null&&(i.addNew=C?r.metaKey:r.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(C?r.altKey:r.ctrlKey)),i}s(Ul,"configureMouse");function Gl(e,t,r,n){Y?setTimeout(Ze(Mo,e),0):e.curOp.focus=Xe();var i=Ul(e,r,n),o=e.doc.sel,l;e.options.dragDrop&&wn&&!e.isReadOnly()&&r=="single"&&(l=o.contains(t))>-1&&(m((l=o.ranges[l]).from(),t)<0||t.xRel>0)&&(m(l.to(),t)>0||t.xRel<0)?jl(e,n,t,i):Vl(e,n,t,i)}s(Gl,"leftButtonDown");function jl(e,t,r,n){var i=e.display,o=!1,l=vn(e,function(p){fe&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:no(e)),Wt(i.wrapper.ownerDocument,"mouseup",l),Wt(i.wrapper.ownerDocument,"mousemove",c),Wt(i.scroller,"dragstart",u),Wt(i.scroller,"drop",l),o||(Qt(p),n.addNew||Ua(e.doc,r,null,null,n.extend),fe&&!st||Y&&a==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),c=s(function(p){o=o||Math.abs(t.clientX-p.clientX)+Math.abs(t.clientY-p.clientY)>=10},"mouseMove"),u=s(function(){return o=!0},"dragStart");fe&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,Te(i.wrapper.ownerDocument,"mouseup",l),Te(i.wrapper.ownerDocument,"mousemove",c),Te(i.scroller,"dragstart",u),Te(i.scroller,"drop",l),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}s(jl,"leftButtonStartDrag");function Ms(e,t,r){if(r=="char")return new Lt(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new Lt(d(t.line,0),Ie(e.doc,d(t.line+1,0)));var n=r(e,t);return new Lt(n.from,n.to)}s(Ms,"rangeForUnit");function Vl(e,t,r,n){Y&&no(e);var i=e.display,o=e.doc;Qt(t);var l,c,u=o.sel,p=u.ranges;if(n.addNew&&!n.extend?(c=o.sel.contains(r),c>-1?l=p[c]:l=new Lt(r,r)):(l=o.sel.primary(),c=o.sel.primIndex),n.unit=="rectangle")n.addNew||(l=new Lt(r,r)),r=Di(e,t,!0,!0),c=-1;else{var g=Ms(e,r,n.unit);n.extend?l=vo(l,g.anchor,g.head,n.extend):l=g}n.addNew?c==-1?(c=p.length,An(o,Sr(e,p.concat([l]),c),{scroll:!1,origin:"*mouse"})):p.length>1&&p[c].empty()&&n.unit=="char"&&!n.extend?(An(o,Sr(e,p.slice(0,c).concat(p.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):go(o,c,l,rt):(c=0,An(o,new cr([l],0),rt),u=o.sel);var b=r;function I(be){if(m(b,be)!=0)if(b=be,n.unit=="rectangle"){for(var De=[],ze=e.options.tabSize,We=Pe(Me(o,r.line).text,r.ch,ze),ot=Pe(Me(o,be.line).text,be.ch,ze),Ht=Math.min(We,ot),yn=Math.max(We,ot),Yt=Math.min(r.line,be.line),nr=Math.min(e.lastLine(),Math.max(r.line,be.line));Yt<=nr;Yt++){var Yn=Me(o,Yt).text,sn=qe(Yn,Ht,ze);Ht==yn?De.push(new Lt(d(Yt,sn),d(Yt,sn))):Yn.length>sn&&De.push(new Lt(d(Yt,sn),d(Yt,qe(Yn,yn,ze))))}De.length||De.push(new Lt(r,r)),An(o,Sr(e,u.ranges.slice(0,c).concat(De),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(be)}else{var Jn=l,Sn=Ms(e,be,n.unit),fn=Jn.anchor,ln;m(Sn.anchor,fn)>0?(ln=Sn.head,fn=ut(Jn.from(),Sn.anchor)):(ln=Sn.anchor,fn=je(Jn.to(),Sn.head));var en=u.ranges.slice(0);en[c]=Kl(e,new Lt(Ie(o,fn),ln)),An(o,Sr(e,en,c),rt)}}s(I,"extendTo");var L=i.wrapper.getBoundingClientRect(),G=0;function ee(be){var De=++G,ze=Di(e,be,!0,n.unit=="rectangle");if(ze)if(m(ze,b)!=0){e.curOp.focus=Xe(),I(ze);var We=Ra(i,o);(ze.line>=We.to||ze.line<We.from)&&setTimeout(vn(e,function(){G==De&&ee(be)}),150)}else{var ot=be.clientY<L.top?-20:be.clientY>L.bottom?20:0;ot&&setTimeout(vn(e,function(){G==De&&(i.scroller.scrollTop+=ot,ee(be))}),50)}}s(ee,"extend");function ue(be){e.state.selectingText=!1,G=1/0,be&&(Qt(be),i.input.focus()),Wt(i.wrapper.ownerDocument,"mousemove",ye),Wt(i.wrapper.ownerDocument,"mouseup",Ce),o.history.lastSelOrigin=null}s(ue,"done");var ye=vn(e,function(be){be.buttons===0||!mr(be)?ue(be):ee(be)}),Ce=vn(e,ue);e.state.selectingText=Ce,Te(i.wrapper.ownerDocument,"mousemove",ye),Te(i.wrapper.ownerDocument,"mouseup",Ce)}s(Vl,"leftButtonSelect");function Kl(e,t){var r=t.anchor,n=t.head,i=Me(e.doc,r.line);if(m(r,n)==0&&r.sticky==n.sticky)return t;var o=at(i);if(!o)return t;var l=Xt(o,r.ch,r.sticky),c=o[l];if(c.from!=r.ch&&c.to!=r.ch)return t;var u=l+(c.from==r.ch==(c.level!=1)?0:1);if(u==0||u==o.length)return t;var p;if(n.line!=r.line)p=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var g=Xt(o,n.ch,n.sticky),b=g-l||(n.ch-r.ch)*(c.level==1?-1:1);g==u-1||g==u?p=b<0:p=b>0}var I=o[u+(p?-1:0)],L=p==(I.level==1),G=L?I.from:I.to,ee=L?"after":"before";return r.ch==G&&r.sticky==ee?t:new Lt(new d(r.line,G,ee),n)}s(Kl,"bidiSimplify");function Is(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch{return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Qt(t);var l=e.display,c=l.lineDiv.getBoundingClientRect();if(o>c.bottom||!Vt(e,r))return wr(t);o-=c.top-l.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var p=l.gutters.childNodes[u];if(p&&p.getBoundingClientRect().right>=i){var g=ir(e.doc,o),b=e.display.gutterSpecs[u];return xt(e,r,e,g,b.className,t),wr(t)}}}s(Is,"gutterEvent");function xo(e,t){return Is(e,t,"gutterClick",!0)}s(xo,"clickInGutter");function Os(e,t){k(e.display,t)||$l(e,t)||Le(e,t,"contextmenu")||Z||e.display.input.onContextMenu(t)}s(Os,"onContextMenu");function $l(e,t){return Vt(e,"gutterContextMenu")?Is(e,t,"gutterContextMenu",!1):!1}s($l,"contextMenuInGutter");function Rs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Nt(e)}s(Rs,"themeChanged");var ra={toString:function(){return"CodeMirror.Init"}},Hs={},Ja={};function Yl(e){var t=e.optionHandlers;function r(n,i,o,l){e.defaults[n]=i,o&&(t[n]=l?function(c,u,p){p!=ra&&o(c,u,p)}:o)}s(r,"option"),e.defineOption=r,e.Init=ra,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,po(n)},!0),r("indentUnit",2,po,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){ba(n),Nt(n),Kn(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,!!i){var o=[],l=n.doc.first;n.doc.iter(function(u){for(var p=0;;){var g=u.text.indexOf(i,p);if(g==-1)break;p=g+i.length,o.push(d(l,g))}l++});for(var c=o.length-1;c>=0;c--)Zi(n.doc,i,o[c],d(o[c].line,o[c].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,o){n.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),o!=ra&&n.refresh()}),r("specialCharPlaceholder",ca,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",A?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!X),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Rs(n),ya(n)},!0),r("keyMap","default",function(n,i,o){var l=$a(i),c=o!=ra&&$a(o);c&&c.detach&&c.detach(n,l),l.attach&&l.attach(n,c||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Xl,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=uo(i,n.options.lineNumbers),ya(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?Za(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Ji(n)},!0),r("scrollbarStyle","native",function(n){Bo(n),Ji(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=uo(n.options.gutters,i),ya(n)},!0),r("firstLineNumber",1,ya,!0),r("lineNumberFormatter",function(n){return n},ya,!0),r("showCursorWhenSelecting",!1,fa,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){i=="nocursor"&&($i(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){i=i===""?null:i,n.display.input.screenReaderLabelChanged(i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,Jl),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,fa,!0),r("singleCursorHeightPerLine",!0,fa,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,ba,!0),r("addModeClass",!1,ba,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,ba,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}s(Yl,"defineOptions");function Jl(e,t,r){var n=r&&r!=ra;if(!t!=!n){var i=e.display.dragFunctions,o=t?Te:Wt;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}s(Jl,"dragDropChanged");function Xl(e){e.options.lineWrapping?(yt(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(_e(e.display.wrapper,"CodeMirror-wrap"),ei(e)),eo(e),Kn(e),Nt(e),setTimeout(function(){return Ji(e)},100)}s(Xl,"wrappingChanged");function Gt(e,t){var r=this;if(!(this instanceof Gt))return new Gt(e,t);this.options=t=t?Bt(t):{},Bt(Hs,t,!1);var n=t.value;typeof n=="string"?n=new $n(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Gt.inputStyles[t.inputStyle](this),o=this.display=new cl(e,n,i,t);o.wrapper.CodeMirror=this,Rs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Bo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new le,keySeq:null,specialChars:null},t.autofocus&&!A&&o.input.focus(),Y&&a<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Ql(this),Al(),Ii(this),this.curOp.forceUpdate=!0,Jo(this,n),t.autofocus&&!A||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&ro(r)},20):$i(this);for(var l in Ja)Ja.hasOwnProperty(l)&&Ja[l](this,t[l],ra);Uo(this),t.finishInit&&t.finishInit(this);for(var c=0;c<wo.length;++c)wo[c](this);Oi(this),fe&&t.lineWrapping&&getComputedStyle(o.lineDiv).textRendering=="optimizelegibility"&&(o.lineDiv.style.textRendering="auto")}s(Gt,"CodeMirror"),Gt.defaults=Hs,Gt.optionHandlers=Ja;function Ql(e){var t=e.display;Te(t.scroller,"mousedown",vn(e,Ps)),Y&&a<11?Te(t.scroller,"dblclick",vn(e,function(u){if(!Le(e,u)){var p=Di(e,u);if(!(!p||xo(e,u)||k(e.display,u))){Qt(u);var g=e.findWordAt(p);Ua(e.doc,g.anchor,g.head)}}})):Te(t.scroller,"dblclick",function(u){return Le(e,u)||Qt(u)}),Te(t.scroller,"contextmenu",function(u){return Os(e,u)}),Te(t.input.getField(),"contextmenu",function(u){t.scroller.contains(u.target)||Os(e,u)});var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),n=t.activeTouch,n.end=+new Date)}s(i,"finishTouch");function o(u){if(u.touches.length!=1)return!1;var p=u.touches[0];return p.radiusX<=1&&p.radiusY<=1}s(o,"isMouseLikeTouchEvent");function l(u,p){if(p.left==null)return!0;var g=p.left-u.left,b=p.top-u.top;return g*g+b*b>20*20}s(l,"farAway"),Te(t.scroller,"touchstart",function(u){if(!Le(e,u)&&!o(u)&&!xo(e,u)){t.input.ensurePolled(),clearTimeout(r);var p=+new Date;t.activeTouch={start:p,moved:!1,prev:p-n.end<=300?n:null},u.touches.length==1&&(t.activeTouch.left=u.touches[0].pageX,t.activeTouch.top=u.touches[0].pageY)}}),Te(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Te(t.scroller,"touchend",function(u){var p=t.activeTouch;if(p&&!k(t,u)&&p.left!=null&&!p.moved&&new Date-p.start<300){var g=e.coordsChar(t.activeTouch,"page"),b;!p.prev||l(p,p.prev)?b=new Lt(g,g):!p.prev.prev||l(p,p.prev.prev)?b=e.findWordAt(g):b=new Lt(d(g.line,0),Ie(e.doc,d(g.line+1,0))),e.setSelection(b.anchor,b.head),e.focus(),Qt(u)}i()}),Te(t.scroller,"touchcancel",i),Te(t.scroller,"scroll",function(){t.scroller.clientHeight&&(ha(e,t.scroller.scrollTop),Pi(e,t.scroller.scrollLeft,!0),xt(e,"scroll",e))}),Te(t.scroller,"mousewheel",function(u){return Vo(e,u)}),Te(t.scroller,"DOMMouseScroll",function(u){return Vo(e,u)}),Te(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(u){Le(e,u)||zn(u)},over:function(u){Le(e,u)||(Nl(e,u),zn(u))},start:function(u){return Cl(e,u)},drop:vn(e,kl),leave:function(u){Le(e,u)||bs(e)}};var c=t.input.getField();Te(c,"keyup",function(u){return Ds.call(e,u)}),Te(c,"keydown",vn(e,Ts)),Te(c,"keypress",vn(e,Ls)),Te(c,"focus",function(u){return ro(e,u)}),Te(c,"blur",function(u){return $i(e,u)})}s(Ql,"registerEventHandlers");var wo=[];Gt.defineInitHook=function(e){return wo.push(e)};function Pa(e,t,r,n){var i=e.doc,o;r==null&&(r="add"),r=="smart"&&(i.mode.indent?o=br(e,t).state:r="prev");var l=e.options.tabSize,c=Me(i,t),u=Pe(c.text,null,l);c.stateAfter&&(c.stateAfter=null);var p=c.text.match(/^\s*/)[0],g;if(!n&&!/\S/.test(c.text))g=0,r="not";else if(r=="smart"&&(g=i.mode.indent(o,c.text.slice(p.length),c.text),g==ge||g>150)){if(!n)return;r="prev"}r=="prev"?t>i.first?g=Pe(Me(i,t-1).text,null,l):g=0:r=="add"?g=u+e.options.indentUnit:r=="subtract"?g=u-e.options.indentUnit:typeof r=="number"&&(g=u+r),g=Math.max(0,g);var b="",I=0;if(e.options.indentWithTabs)for(var L=Math.floor(g/l);L;--L)I+=l,b+="	";if(I<g&&(b+=pt(g-I)),b!=p)return Zi(i,b,d(t,0),d(t,p.length),"+input"),c.stateAfter=null,!0;for(var G=0;G<i.sel.ranges.length;G++){var ee=i.sel.ranges[G];if(ee.head.line==t&&ee.head.ch<p.length){var ue=d(t,p.length);go(i,G,new Lt(ue,ue));break}}}s(Pa,"indentLine");var xr=null;function Xa(e){xr=e}s(Xa,"setLastCopied");function ko(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=+new Date-200,c=i=="paste"||e.state.pasteIncoming>l,u=vr(t),p=null;if(c&&n.ranges.length>1)if(xr&&xr.text.join(`
`)==t){if(n.ranges.length%xr.text.length==0){p=[];for(var g=0;g<xr.text.length;g++)p.push(o.splitLines(xr.text[g]))}}else u.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(p=dt(u,function(ye){return[ye]}));for(var b=e.curOp.updateInput,I=n.ranges.length-1;I>=0;I--){var L=n.ranges[I],G=L.from(),ee=L.to();L.empty()&&(r&&r>0?G=d(G.line,G.ch-r):e.state.overwrite&&!c?ee=d(ee.line,Math.min(Me(o,ee.line).text.length,ee.ch+tt(u).length)):c&&xr&&xr.lineWise&&xr.text.join(`
`)==u.join(`
`)&&(G=ee=d(G.line,0)));var ue={from:G,to:ee,text:p?p[I%p.length]:u,origin:i||(c?"paste":e.state.cutIncoming>l?"cut":"+input")};qi(e.doc,ue),Zt(e,"inputRead",e,ue)}t&&!c&&Bs(e,t),Yi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=b),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}s(ko,"applyTextInput");function Fs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&tr(t,function(){return ko(t,r,0,null,"paste")}),!0}s(Fs,"handlePaste");function Bs(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var c=0;c<o.electricChars.length;c++)if(t.indexOf(o.electricChars.charAt(c))>-1){l=Pa(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Me(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Pa(e,i.head.line,"smart"));l&&Zt(e,"electricInput",e,i.head.line)}}}s(Bs,"triggerElectric");function Ws(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:d(i,0),head:d(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}s(Ws,"copyableRanges");function zs(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}s(zs,"disableBrowserMagic");function Us(){var e=w("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=w("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return fe?e.style.width="1000px":e.setAttribute("wrap","off"),E&&(e.style.border="1px solid black"),zs(e),t}s(Us,"hiddenTextarea");function ql(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var o=this.options,l=o[n];o[n]==i&&n!="mode"||(o[n]=i,t.hasOwnProperty(n)&&vn(this,t[n])(this,i,l),xt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"]($a(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,o=0;o<i.length;++o)if(i[o]==n||i[o].name==n)return i.splice(o,1),!0},addOverlay:Fn(function(n,i){var o=n.token?n:e.getMode(this.options,n);if(o.startState)throw new Error("Overlays may not be stateful.");Mt(this.state.overlays,{mode:o,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(l){return l.priority}),this.state.modeGen++,Kn(this)}),removeOverlay:Fn(function(n){for(var i=this.state.overlays,o=0;o<i.length;++o){var l=i[o].modeSpec;if(l==n||typeof n=="string"&&l.name==n){i.splice(o,1),this.state.modeGen++,Kn(this);return}}}),indentLine:Fn(function(n,i,o){typeof i!="string"&&typeof i!="number"&&(i==null?i=this.options.smartIndent?"smart":"prev":i=i?"add":"subtract"),Nr(this.doc,n)&&Pa(this,n,i,o)}),indentSelection:Fn(function(n){for(var i=this.doc.sel.ranges,o=-1,l=0;l<i.length;l++){var c=i[l];if(c.empty())c.head.line>o&&(Pa(this,c.head.line,n,!0),o=c.head.line,l==this.doc.sel.primIndex&&Yi(this));else{var u=c.from(),p=c.to(),g=Math.max(o,u.line);o=Math.min(this.lastLine(),p.line-(p.ch?0:1))+1;for(var b=g;b<o;++b)Pa(this,b,n);var I=this.doc.sel.ranges;u.ch==0&&i.length==I.length&&I[l].from().ch>0&&go(this.doc,l,new Lt(u,I[l].to()),Ne)}}}),getTokenAt:function(n,i){return Yr(this,n,i)},getLineTokens:function(n,i){return Yr(this,d(n),i,!0)},getTokenTypeAt:function(n){n=Ie(this.doc,n);var i=yr(this,Me(this.doc,n.line)),o=0,l=(i.length-1)/2,c=n.ch,u;if(c==0)u=i[2];else for(;;){var p=o+l>>1;if((p?i[p*2-1]:0)>=c)l=p;else if(i[p*2+1]<c)o=p+1;else{u=i[p*2+2];break}}var g=u?u.indexOf("overlay "):-1;return g<0?u:g==0?null:u.slice(0,g-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var o=[];if(!r.hasOwnProperty(i))return o;var l=r[i],c=this.getModeAt(n);if(typeof c[i]=="string")l[c[i]]&&o.push(l[c[i]]);else if(c[i])for(var u=0;u<c[i].length;u++){var p=l[c[i][u]];p&&o.push(p)}else c.helperType&&l[c.helperType]?o.push(l[c.helperType]):l[c.name]&&o.push(l[c.name]);for(var g=0;g<l._global.length;g++){var b=l._global[g];b.pred(c,this)&&Ae(o,b.val)==-1&&o.push(b.val)}return o},getStateAfter:function(n,i){var o=this.doc;return n=Ct(o,n??o.first+o.size-1),br(this,n+1,i).state},cursorCoords:function(n,i){var o,l=this.doc.sel.primary();return n==null?o=l.head:typeof n=="object"?o=Ie(this.doc,n):o=n?l.from():l.to(),gt(this,o,i||"page")},charCoords:function(n,i){return At(this,Ie(this.doc,n),i||"page")},coordsChar:function(n,i){return n=Rn(this,n,i||"page"),En(this,n.left,n.top)},lineAtHeight:function(n,i){return n=Rn(this,{top:n,left:0},i||"page").top,ir(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,o){var l=!1,c;if(typeof n=="number"){var u=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>u&&(n=u,l=!0),c=Me(this.doc,n)}else c=n;return zt(this,c,{top:0,left:0},i||"page",o||l).top+(l?this.doc.height-In(c):0)},defaultTextHeight:function(){return Nn(this.display)},defaultCharWidth:function(){return Er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,o,l,c){var u=this.display;n=gt(this,Ie(this.doc,n));var p=n.bottom,g=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),u.sizer.appendChild(i),l=="over")p=n.top;else if(l=="above"||l=="near"){var b=Math.max(u.wrapper.clientHeight,this.doc.height),I=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);(l=="above"||n.bottom+i.offsetHeight>b)&&n.top>i.offsetHeight?p=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=b&&(p=n.bottom),g+i.offsetWidth>I&&(g=I-i.offsetWidth)}i.style.top=p+"px",i.style.left=i.style.right="",c=="right"?(g=u.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(c=="left"?g=0:c=="middle"&&(g=(u.sizer.clientWidth-i.offsetWidth)/2),i.style.left=g+"px"),o&&Js(this,{left:g,top:p,right:g+i.offsetWidth,bottom:p+i.offsetHeight})},triggerOnKeyDown:Fn(Ts),triggerOnKeyPress:Fn(Ls),triggerOnKeyUp:Ds,triggerOnMouseDown:Fn(Ps),execCommand:function(n){if(Aa.hasOwnProperty(n))return Aa[n].call(null,this)},triggerElectric:Fn(function(n){Bs(this,n)}),findPosH:function(n,i,o,l){var c=1;i<0&&(c=-1,i=-i);for(var u=Ie(this.doc,n),p=0;p<i&&(u=Co(this.doc,u,c,o,l),!u.hitSide);++p);return u},moveH:Fn(function(n,i){var o=this;this.extendSelectionsBy(function(l){return o.display.shift||o.doc.extend||l.empty()?Co(o.doc,l.head,n,i,o.options.rtlMoveVisually):n<0?l.from():l.to()},an)}),deleteH:Fn(function(n,i){var o=this.doc.sel,l=this.doc;o.somethingSelected()?l.replaceSelection("",null,"+delete"):na(this,function(c){var u=Co(l,c.head,n,i,!1);return n<0?{from:u,to:c.head}:{from:c.head,to:u}})}),findPosV:function(n,i,o,l){var c=1,u=l;i<0&&(c=-1,i=-i);for(var p=Ie(this.doc,n),g=0;g<i;++g){var b=gt(this,p,"div");if(u==null?u=b.left:b.left=u,p=Gs(this,b,c,o),p.hitSide)break}return p},moveV:Fn(function(n,i){var o=this,l=this.doc,c=[],u=!this.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(function(g){if(u)return n<0?g.from():g.to();var b=gt(o,g.head,"div");g.goalColumn!=null&&(b.left=g.goalColumn),c.push(b.left);var I=Gs(o,b,n,i);return i=="page"&&g==l.sel.primary()&&ao(o,At(o,I,"div").top-b.top),I},an),c.length)for(var p=0;p<l.sel.ranges.length;p++)l.sel.ranges[p].goalColumn=c[p]}),findWordAt:function(n){var i=this.doc,o=Me(i,n.line).text,l=n.ch,c=n.ch;if(o){var u=this.getHelper(n,"wordChars");(n.sticky=="before"||c==o.length)&&l?--l:++c;for(var p=o.charAt(l),g=et(p,u)?function(b){return et(b,u)}:/\s/.test(p)?function(b){return/\s/.test(b)}:function(b){return!/\s/.test(b)&&!et(b)};l>0&&g(o.charAt(l-1));)--l;for(;c<o.length&&g(o.charAt(c));)++c}return new Lt(d(n.line,l),d(n.line,c))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?yt(this.display.cursorDiv,"CodeMirror-overwrite"):_e(this.display.cursorDiv,"CodeMirror-overwrite"),xt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Xe()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Fn(function(n,i){pa(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-j(this)-this.display.barHeight,width:n.scrollWidth-j(this)-this.display.barWidth,clientHeight:Q(this),clientWidth:z(this)}},scrollIntoView:Fn(function(n,i){n==null?(n={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof n=="number"?n={from:d(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,n.from.line!=null?Xs(this,n):Oo(this,n.from,n.to,n.margin)}),setSize:Fn(function(n,i){var o=this,l=s(function(u){return typeof u=="number"||/^\d+$/.test(String(u))?u+"px":u},"interpret");n!=null&&(this.display.wrapper.style.width=l(n)),i!=null&&(this.display.wrapper.style.height=l(i)),this.options.lineWrapping&&_t(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(u){if(u.widgets){for(var p=0;p<u.widgets.length;p++)if(u.widgets[p].noHScroll){oi(o,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,xt(this,"refresh",this)}),operation:function(n){return tr(this,n)},startOperation:function(){return Ii(this)},endOperation:function(){return Oi(this)},refresh:Fn(function(){var n=this.display.cachedTextHeight;Kn(this),this.curOp.forceUpdate=!0,Nt(this),pa(this,this.doc.scrollLeft,this.doc.scrollTop),lo(this.display),(n==null||Math.abs(n-Nn(this.display))>.5||this.options.lineWrapping)&&eo(this),xt(this,"refresh",this)}),swapDoc:Fn(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),Jo(this,n),Nt(this),this.display.input.reset(),pa(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Zt(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},tn(e),e.registerHelper=function(n,i,o){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=o},e.registerGlobalHelper=function(n,i,o,l){e.registerHelper(n,i,l),r[n]._global.push({pred:o,val:l})}}s(ql,"addEditorMethods");function Co(e,t,r,n,i){var o=t,l=r,c=Me(e,t.line),u=i&&e.direction=="rtl"?-r:r;function p(){var Ce=t.line+u;return Ce<e.first||Ce>=e.first+e.size?!1:(t=new d(Ce,t.ch,t.sticky),c=Me(e,Ce))}s(p,"findNextLine");function g(Ce){var be;if(n=="codepoint"){var De=c.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(De))be=null;else{var ze=r>0?De>=55296&&De<56320:De>=56320&&De<57343;be=new d(t.line,Math.max(0,Math.min(c.text.length,t.ch+r*(ze?2:1))),-r)}}else i?be=Ml(e.cm,c,t,r):be=bo(c,t,r);if(be==null)if(!Ce&&p())t=_o(i,e.cm,c,t.line,u);else return!1;else t=be;return!0}if(s(g,"moveOnce"),n=="char"||n=="codepoint")g();else if(n=="column")g(!0);else if(n=="word"||n=="group")for(var b=null,I=n=="group",L=e.cm&&e.cm.getHelper(t,"wordChars"),G=!0;!(r<0&&!g(!G));G=!1){var ee=c.text.charAt(t.ch)||`
`,ue=et(ee,L)?"w":I&&ee==`
`?"n":!I||/\s/.test(ee)?null:"p";if(I&&!G&&!ue&&(ue="s"),b&&b!=ue){r<0&&(r=1,g(),t.sticky="after");break}if(ue&&(b=ue),r>0&&!g(!G))break}var ye=ja(e,t,o,l,!0);return V(o,ye)&&(ye.hitSide=!0),ye}s(Co,"findPosH");function Gs(e,t,r,n){var i=e.doc,o=t.left,l;if(n=="page"){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(c-.5*Nn(e.display),3);l=(r>0?t.bottom:t.top)+r*u}else n=="line"&&(l=r>0?t.bottom+3:t.top-3);for(var p;p=En(e,o,l),!!p.outside;){if(r<0?l<=0:l>=i.height){p.hitSide=!0;break}l+=r*5}return p}s(Gs,"findPosV");var It=s(function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new le,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null},"ContentEditableInput");It.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;i.contentEditable=!0,zs(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function o(c){for(var u=c.target;u;u=u.parentNode){if(u==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(u.className))break}return!1}s(o,"belongsToInput"),Te(i,"paste",function(c){!o(c)||Le(n,c)||Fs(c,n)||a<=11&&setTimeout(vn(n,function(){return t.updateFromDOM()}),20)}),Te(i,"compositionstart",function(c){t.composing={data:c.data,done:!1}}),Te(i,"compositionupdate",function(c){t.composing||(t.composing={data:c.data,done:!1})}),Te(i,"compositionend",function(c){t.composing&&(c.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Te(i,"touchstart",function(){return r.forceCompositionEnd()}),Te(i,"input",function(){t.composing||t.readFromDOMSoon()});function l(c){if(!(!o(c)||Le(n,c))){if(n.somethingSelected())Xa({lineWise:!1,text:n.getSelections()}),c.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var u=Ws(n);Xa({lineWise:!0,text:u.text}),c.type=="cut"&&n.operation(function(){n.setSelections(u.ranges,0,Ne),n.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var p=xr.text.join(`
`);if(c.clipboardData.setData("Text",p),c.clipboardData.getData("Text")==p){c.preventDefault();return}}var g=Us(),b=g.firstChild;n.display.lineSpace.insertBefore(g,n.display.lineSpace.firstChild),b.value=xr.text.join(`
`);var I=document.activeElement;Ge(b),setTimeout(function(){n.display.lineSpace.removeChild(g),I.focus(),I==i&&r.showPrimarySelection()},50)}}s(l,"onCopyCut"),Te(i,"copy",l),Te(i,"cut",l)},It.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},It.prototype.prepareSelection=function(){var e=Lo(this.cm,!1);return e.focus=document.activeElement==this.div,e},It.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},It.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},It.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom){e.removeAllRanges();return}var o=Qa(t,e.anchorNode,e.anchorOffset),l=Qa(t,e.focusNode,e.focusOffset);if(!(o&&!o.bad&&l&&!l.bad&&m(ut(o,l),n)==0&&m(je(o,l),i)==0)){var c=t.display.view,u=n.line>=t.display.viewFrom&&js(t,n)||{node:c[0].measure.map[2],offset:0},p=i.line<t.display.viewTo&&js(t,i);if(!p){var g=c[c.length-1].measure,b=g.maps?g.maps[g.maps.length-1]:g.map;p={node:b[b.length-1],offset:b[b.length-2]-b[b.length-3]}}if(!u||!p){e.removeAllRanges();return}var I=e.rangeCount&&e.getRangeAt(0),L;try{L=N(u.node,u.offset,p.offset,p.node)}catch{}L&&(!_&&t.state.focused?(e.collapse(u.node,u.offset),L.collapsed||(e.removeAllRanges(),e.addRange(L))):(e.removeAllRanges(),e.addRange(L)),I&&e.anchorNode==null?e.addRange(I):_&&this.startGracePeriod()),this.rememberSelection()}},It.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},It.prototype.showMultipleSelections=function(e){Ee(this.cm.display.cursorDiv,e.cursors),Ee(this.cm.display.selectionDiv,e.selection)},It.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},It.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return He(this.div,t)},It.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||document.activeElement!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},It.prototype.blur=function(){this.div.blur()},It.prototype.getField=function(){return this.div},It.prototype.supportsTouch=function(){return!0},It.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():tr(this.cm,function(){return e.cm.curOp.selectionChanged=!0});function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}s(t,"poll"),this.polling.set(this.cm.options.pollInterval,t)},It.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},It.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(M&&we&&this.cm.display.gutterSpecs.length&&Zl(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var r=Qa(t,e.anchorNode,e.anchorOffset),n=Qa(t,e.focusNode,e.focusOffset);r&&n&&tr(t,function(){An(t.doc,li(r,n),Ne),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},It.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.ch==0&&n.line>e.firstLine()&&(n=d(n.line-1,Me(e.doc,n.line-1).length)),i.ch==Me(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=d(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,c;n.line==t.viewFrom||(o=Li(e,n.line))==0?(l=ft(t.view[0].line),c=t.view[0].node):(l=ft(t.view[o].line),c=t.view[o-1].node.nextSibling);var u=Li(e,i.line),p,g;if(u==t.view.length-1?(p=t.viewTo-1,g=t.lineDiv.lastChild):(p=ft(t.view[u+1].line)-1,g=t.view[u+1].node.previousSibling),!c)return!1;for(var b=e.doc.splitLines(ec(e,c,g,l,p)),I=er(e.doc,d(l,0),d(p,Me(e.doc,p).text.length));b.length>1&&I.length>1;)if(tt(b)==tt(I))b.pop(),I.pop(),p--;else if(b[0]==I[0])b.shift(),I.shift(),l++;else break;for(var L=0,G=0,ee=b[0],ue=I[0],ye=Math.min(ee.length,ue.length);L<ye&&ee.charCodeAt(L)==ue.charCodeAt(L);)++L;for(var Ce=tt(b),be=tt(I),De=Math.min(Ce.length-(b.length==1?L:0),be.length-(I.length==1?L:0));G<De&&Ce.charCodeAt(Ce.length-G-1)==be.charCodeAt(be.length-G-1);)++G;if(b.length==1&&I.length==1&&l==n.line)for(;L&&L>n.ch&&Ce.charCodeAt(Ce.length-G-1)==be.charCodeAt(be.length-G-1);)L--,G++;b[b.length-1]=Ce.slice(0,Ce.length-G).replace(/^\u200b+/,""),b[0]=b[0].slice(L).replace(/\u200b+$/,"");var ze=d(l,L),We=d(p,I.length?tt(I).length-G:0);if(b.length>1||b[0]||m(ze,We))return Zi(e.doc,b,ze,We,"+input"),!0},It.prototype.ensurePolled=function(){this.forceCompositionEnd()},It.prototype.reset=function(){this.forceCompositionEnd()},It.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},It.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},It.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&tr(this.cm,function(){return Kn(e.cm)})},It.prototype.setUneditable=function(e){e.contentEditable="false"},It.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||vn(this.cm,ko)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},It.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},It.prototype.onContextMenu=function(){},It.prototype.resetPosition=function(){},It.prototype.needsContentAttribute=!0;function js(e,t){var r=oe(e,t.line);if(!r||r.hidden)return null;var n=Me(e.doc,t.line),i=ie(r,n,t.line),o=at(n,e.doc.direction),l="left";if(o){var c=Xt(o,t.ch);l=c%2?"right":"left"}var u=Ke(i.map,t.ch,l);return u.offset=u.collapse=="right"?u.end:u.start,u}s(js,"posToDOM");function Zl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}s(Zl,"isInGutter");function ia(e,t){return t&&(e.bad=!0),e}s(ia,"badPos");function ec(e,t,r,n,i){var o="",l=!1,c=e.doc.lineSeparator(),u=!1;function p(L){return function(G){return G.id==L}}s(p,"recognizeMarker");function g(){l&&(o+=c,u&&(o+=c),l=u=!1)}s(g,"close");function b(L){L&&(g(),o+=L)}s(b,"addText");function I(L){if(L.nodeType==1){var G=L.getAttribute("cm-text");if(G){b(G);return}var ee=L.getAttribute("cm-marker"),ue;if(ee){var ye=e.findMarks(d(n,0),d(i+1,0),p(+ee));ye.length&&(ue=ye[0].find(0))&&b(er(e.doc,ue.from,ue.to).join(c));return}if(L.getAttribute("contenteditable")=="false")return;var Ce=/^(pre|div|p|li|table|br)$/i.test(L.nodeName);if(!/^br$/i.test(L.nodeName)&&L.textContent.length==0)return;Ce&&g();for(var be=0;be<L.childNodes.length;be++)I(L.childNodes[be]);/^(pre|p)$/i.test(L.nodeName)&&(u=!0),Ce&&(l=!0)}else L.nodeType==3&&b(L.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(s(I,"walk");I(t),t!=r;)t=t.nextSibling,u=!1;return o}s(ec,"domTextBetween");function Qa(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return ia(e.clipPos(d(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return tc(o,t,r)}}s(Qa,"domToPos");function tc(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!He(n,t))return ia(d(ft(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?tt(e.rest):e.line;return ia(d(ft(o),o.text.length),i)}var l=t.nodeType==3?t:null,c=t;for(!l&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(l=t.firstChild,r&&(r=l.nodeValue.length));c.parentNode!=n;)c=c.parentNode;var u=e.measure,p=u.maps;function g(ue,ye,Ce){for(var be=-1;be<(p?p.length:0);be++)for(var De=be<0?u.map:p[be],ze=0;ze<De.length;ze+=3){var We=De[ze+2];if(We==ue||We==ye){var ot=ft(be<0?e.line:e.rest[be]),Ht=De[ze]+Ce;return(Ce<0||We!=ue)&&(Ht=De[ze+(Ce?1:0)]),d(ot,Ht)}}}s(g,"find");var b=g(l,c,r);if(b)return ia(b,i);for(var I=c.nextSibling,L=l?l.nodeValue.length-r:0;I;I=I.nextSibling){if(b=g(I,I.firstChild,0),b)return ia(d(b.line,b.ch-L),i);L+=I.textContent.length}for(var G=c.previousSibling,ee=r;G;G=G.previousSibling){if(b=g(G,G.firstChild,-1),b)return ia(d(b.line,b.ch+ee),i);ee+=G.textContent.length}}s(tc,"locateNodeInLineView");var rn=s(function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new le,this.hasSelection=!1,this.composing=null},"TextareaInput");rn.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),E&&(i.style.width="0px"),Te(i,"input",function(){Y&&a>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),Te(i,"paste",function(l){Le(n,l)||Fs(l,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())});function o(l){if(!Le(n,l)){if(n.somethingSelected())Xa({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var c=Ws(n);Xa({lineWise:!0,text:c.text}),l.type=="cut"?n.setSelections(c.ranges,null,Ne):(r.prevInput="",i.value=c.text.join(`
`),Ge(i))}else return;l.type=="cut"&&(n.state.cutIncoming=+new Date)}}s(o,"prepareCopyCut"),Te(i,"cut",o),Te(i,"copy",o),Te(e.scroller,"paste",function(l){if(!(k(e,l)||Le(n,l))){if(!i.dispatchEvent){n.state.pasteIncoming=+new Date,r.focus();return}var c=new Event("paste");c.clipboardData=l.clipboardData,i.dispatchEvent(c)}}),Te(e.lineSpace,"selectstart",function(l){k(e,l)||Qt(l)}),Te(i,"compositionstart",function(){var l=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:l,range:n.markText(l,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Te(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},rn.prototype.createField=function(e){this.wrapper=Us(),this.textarea=this.wrapper.firstChild},rn.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},rn.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Lo(e);if(e.options.moveInputWithCursor){var i=gt(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},rn.prototype.showSelection=function(e){var t=this.cm,r=t.display;Ee(r.cursorDiv,e.cursors),Ee(r.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},rn.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&Ge(this.textarea),Y&&a>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",Y&&a>=9&&(this.hasSelection=null))}},rn.prototype.getField=function(){return this.textarea},rn.prototype.supportsTouch=function(){return!1},rn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!A||Xe()!=this.textarea))try{this.textarea.focus()}catch{}},rn.prototype.blur=function(){this.textarea.blur()},rn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rn.prototype.receivedFocus=function(){this.slowPoll()},rn.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},rn.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function r(){var n=t.poll();!n&&!e?(e=!0,t.polling.set(60,r)):(t.pollingFast=!1,t.slowPoll())}s(r,"p"),t.polling.set(20,r)},rn.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||$r(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(Y&&a>=9&&this.hasSelection===i||C&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(o==8203&&!n&&(n="\u200B"),o==8666)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,i.length);l<c&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return tr(t,function(){ko(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},rn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rn.prototype.onKeyPress=function(){Y&&a>=9&&(this.hasSelection=null),this.fastPoll()},rn.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Di(r,e),l=n.scroller.scrollTop;if(!o||ve)return;var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(o)==-1&&vn(r,An)(r.doc,li(o),Ne);var u=i.style.cssText,p=t.wrapper.style.cssText,g=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-g.top-5)+"px; left: "+(e.clientX-g.left-5)+`px;
      z-index: 1000; background: `+(Y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var b;fe&&(b=window.scrollY),n.input.focus(),fe&&window.scrollTo(null,b),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=L,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll);function I(){if(i.selectionStart!=null){var ee=r.somethingSelected(),ue="\u200B"+(ee?i.value:"");i.value="\u21DA",i.value=ue,t.prevInput=ee?"":"\u200B",i.selectionStart=1,i.selectionEnd=ue.length,n.selForContextMenu=r.doc.sel}}s(I,"prepareSelectAllHack");function L(){if(t.contextMenuPending==L&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=u,Y&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=l),i.selectionStart!=null)){(!Y||Y&&a<9)&&I();var ee=0,ue=s(function(){n.selForContextMenu==r.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="\u200B"?vn(r,ls)(r):ee++<10?n.detectingSelectAll=setTimeout(ue,500):(n.selForContextMenu=null,n.input.reset())},"poll");n.detectingSelectAll=setTimeout(ue,200)}}if(s(L,"rehide"),Y&&a>=9&&I(),Z){zn(e);var G=s(function(){Wt(window,"mouseup",G),setTimeout(L,20)},"mouseup");Te(window,"mouseup",G)}else setTimeout(L,50)},rn.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},rn.prototype.setUneditable=function(){},rn.prototype.needsContentAttribute=!1;function nc(e,t){if(t=t?Bt(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=Xe();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=c.getValue()}s(n,"save");var i;if(e.form&&(Te(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=l}}catch{}}t.finishInit=function(u){u.save=n,u.getTextArea=function(){return e},u.toTextArea=function(){u.toTextArea=isNaN,n(),e.parentNode.removeChild(u.getWrapperElement()),e.style.display="",e.form&&(Wt(e.form,"submit",n),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";var c=Gt(function(u){return e.parentNode.insertBefore(u,e.nextSibling)},t);return c}s(nc,"fromTextArea");function rc(e){e.off=Wt,e.on=Te,e.wheelEventPixels=ul,e.Doc=$n,e.splitLines=vr,e.countColumn=Pe,e.findColumn=qe,e.isWordChar=Je,e.Pass=ge,e.signal=xt,e.Line=pr,e.changeEnd=ci,e.scrollbarModel=Fo,e.Pos=d,e.cmpPos=m,e.modes=Gn,e.mimeModes=kn,e.resolveMode=dr,e.getMode=qn,e.modeExtensions=cn,e.extendMode=hn,e.copyState=Zn,e.startState=Cr,e.innerMode=fr,e.commands=Aa,e.keyMap=jr,e.keyName=ws,e.isModifierKey=Ss,e.lookupKey=ta,e.normalizeKeyMap=Pl,e.StringStream=Dt,e.SharedTextMarker=ka,e.TextMarker=di,e.LineWidget=wa,e.e_preventDefault=Qt,e.e_stopPropagation=xn,e.e_stop=zn,e.addClass=yt,e.contains=He,e.rmClass=_e,e.keyNames=fi}s(rc,"addLegacyProps"),Yl(Gt),ql(Gt);var ic="iter insert remove copy getEditor constructor".split(" ");for(var qa in $n.prototype)$n.prototype.hasOwnProperty(qa)&&Ae(ic,qa)<0&&(Gt.prototype[qa]=function(e){return function(){return e.apply(this.doc,arguments)}}($n.prototype[qa]));return tn($n),Gt.inputStyles={textarea:rn,contenteditable:It},Gt.defineMode=function(e){!Gt.defaults.mode&&e!="null"&&(Gt.defaults.mode=e),Qn.apply(this,arguments)},Gt.defineMIME=mi,Gt.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Gt.defineMIME("text/plain","null"),Gt.defineExtension=function(e,t){Gt.prototype[e]=t},Gt.defineDocExtension=function(e,t){$n.prototype[e]=t},Gt.fromTextArea=nc,rc(Gt),Gt.version="5.60.0",Gt})},316792:(Jt,nt,H)=>{(function(_){_(H(315237))})(function(_){"use strict";_.defineMode("javascript",function($e,pe){var $=$e.indentUnit,Y=pe.statementIndent,a=pe.jsonld,fe=pe.json||a,B=pe.typescript,we=pe.wordCharacters||/[\w$\xa1-\uffff]/,ve=function(){function d(Ie){return{type:Ie,style:"keyword"}}s(d,"kw");var m=d("keyword a"),V=d("keyword b"),ae=d("keyword c"),je=d("keyword d"),ut=d("operator"),Ct={type:"atom",style:"atom"};return{if:d("if"),while:m,with:m,else:V,do:V,try:V,finally:V,return:je,break:je,continue:je,new:d("new"),delete:ae,void:ae,throw:ae,debugger:d("debugger"),var:d("var"),const:d("var"),let:d("var"),function:d("function"),catch:d("catch"),for:d("for"),switch:d("switch"),case:d("case"),default:d("default"),in:ut,typeof:ut,instanceof:ut,true:Ct,false:Ct,null:Ct,undefined:Ct,NaN:Ct,Infinity:Ct,this:d("this"),class:d("class"),super:d("atom"),yield:ae,export:d("export"),import:d("import"),extends:ae,await:ae}}(),st=/[+\-*&%=<>!?|~^@]/,Re=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function te(d){for(var m=!1,V,ae=!1;(V=d.next())!=null;){if(!m){if(V=="/"&&!ae)return;V=="["?ae=!0:ae&&V=="]"&&(ae=!1)}m=!m&&V=="\\"}}s(te,"readRegexp");var E,M;function A(d,m,V){return E=d,M=V,m}s(A,"ret");function C(d,m){var V=d.next();if(V=='"'||V=="'")return m.tokenize=W(V),m.tokenize(d,m);if(V=="."&&d.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return A("number","number");if(V=="."&&d.match(".."))return A("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(V))return A(V);if(V=="="&&d.eat(">"))return A("=>","operator");if(V=="0"&&d.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return A("number","number");if(/\d/.test(V))return d.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),A("number","number");if(V=="/")return d.eat("*")?(m.tokenize=X,X(d,m)):d.eat("/")?(d.skipToEnd(),A("comment","comment")):gr(d,m,1)?(te(d),d.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),A("regexp","string-2")):(d.eat("="),A("operator","operator",d.current()));if(V=="`")return m.tokenize=O,O(d,m);if(V=="#"&&d.peek()=="!")return d.skipToEnd(),A("meta","meta");if(V=="#"&&d.eatWhile(we))return A("variable","property");if(V=="<"&&d.match("!--")||V=="-"&&d.match("->")&&!/\S/.test(d.string.slice(0,d.start)))return d.skipToEnd(),A("comment","comment");if(st.test(V))return(V!=">"||!m.lexical||m.lexical.type!=">")&&(d.eat("=")?(V=="!"||V=="=")&&d.eat("="):/[<>*+\-|&?]/.test(V)&&(d.eat(V),V==">"&&d.eat(V))),V=="?"&&d.eat(".")?A("."):A("operator","operator",d.current());if(we.test(V)){d.eatWhile(we);var ae=d.current();if(m.lastType!="."){if(ve.propertyIsEnumerable(ae)){var je=ve[ae];return A(je.type,je.style,ae)}if(ae=="async"&&d.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return A("async","keyword",ae)}return A("variable","variable",ae)}}s(C,"tokenBase");function W(d){return function(m,V){var ae=!1,je;if(a&&m.peek()=="@"&&m.match(Re))return V.tokenize=C,A("jsonld-keyword","meta");for(;(je=m.next())!=null&&!(je==d&&!ae);)ae=!ae&&je=="\\";return ae||(V.tokenize=C),A("string","string")}}s(W,"tokenString");function X(d,m){for(var V=!1,ae;ae=d.next();){if(ae=="/"&&V){m.tokenize=C;break}V=ae=="*"}return A("comment","comment")}s(X,"tokenComment");function O(d,m){for(var V=!1,ae;(ae=d.next())!=null;){if(!V&&(ae=="`"||ae=="$"&&d.eat("{"))){m.tokenize=C;break}V=!V&&ae=="\\"}return A("quasi","string-2",d.current())}s(O,"tokenQuasi");var J="([{}])";function Z(d,m){m.fatArrowAt&&(m.fatArrowAt=null);var V=d.string.indexOf("=>",d.start);if(!(V<0)){if(B){var ae=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(d.string.slice(d.start,V));ae&&(V=ae.index)}for(var je=0,ut=!1,Ct=V-1;Ct>=0;--Ct){var Ie=d.string.charAt(Ct),mn=J.indexOf(Ie);if(mn>=0&&mn<3){if(!je){++Ct;break}if(--je==0){Ie=="("&&(ut=!0);break}}else if(mn>=3&&mn<6)++je;else if(we.test(Ie))ut=!0;else if(/["'\/`]/.test(Ie))for(;;--Ct){if(Ct==0)return;var Pt=d.string.charAt(Ct-1);if(Pt==Ie&&d.string.charAt(Ct-2)!="\\"){Ct--;break}}else if(ut&&!je){++Ct;break}}ut&&!je&&(m.fatArrowAt=Ct)}}s(Z,"findFatArrow");var xe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function _e(d,m,V,ae,je,ut){this.indented=d,this.column=m,this.type=V,this.prev=je,this.info=ut,ae!=null&&(this.align=ae)}s(_e,"JSLexical");function ke(d,m){for(var V=d.localVars;V;V=V.next)if(V.name==m)return!0;for(var ae=d.context;ae;ae=ae.prev)for(var V=ae.vars;V;V=V.next)if(V.name==m)return!0}s(ke,"inScope");function Ee(d,m,V,ae,je){var ut=d.cc;for(w.state=d,w.stream=je,w.marked=null,w.cc=ut,w.style=m,d.lexical.hasOwnProperty("align")||(d.lexical.align=!0);;){var Ct=ut.length?ut.pop():fe?qe:rt;if(Ct(V,ae)){for(;ut.length&&ut[ut.length-1].lex;)ut.pop()();return w.marked?w.marked:V=="variable"&&ke(d,ae)?"variable-2":m}}}s(Ee,"parseJS");var w={state:null,column:null,marked:null,cc:null};function Se(){for(var d=arguments.length-1;d>=0;d--)w.cc.push(arguments[d])}s(Se,"pass");function N(){return Se.apply(null,arguments),!0}s(N,"cont");function He(d,m){for(var V=m;V;V=V.next)if(V.name==d)return!0;return!1}s(He,"inList");function Xe(d){var m=w.state;if(w.marked="def",m.context){if(m.lexical.info=="var"&&m.context&&m.context.block){var V=yt(d,m.context);if(V!=null){m.context=V;return}}else if(!He(d,m.localVars)){m.localVars=new Ze(d,m.localVars);return}}pe.globalVars&&!He(d,m.globalVars)&&(m.globalVars=new Ze(d,m.globalVars))}s(Xe,"register");function yt(d,m){if(m)if(m.block){var V=yt(d,m.prev);return V?V==m.prev?m:new Ge(V,m.vars,!0):null}else return He(d,m.vars)?m:new Ge(m.prev,new Ze(d,m.vars),!1);else return null}s(yt,"registerVarScoped");function Ft(d){return d=="public"||d=="private"||d=="protected"||d=="abstract"||d=="readonly"}s(Ft,"isModifier");function Ge(d,m,V){this.prev=d,this.vars=m,this.block=V}s(Ge,"Context");function Ze(d,m){this.name=d,this.next=m}s(Ze,"Var");var Bt=new Ze("this",new Ze("arguments",null));function Pe(){w.state.context=new Ge(w.state.context,w.state.localVars,!1),w.state.localVars=Bt}s(Pe,"pushcontext");function le(){w.state.context=new Ge(w.state.context,w.state.localVars,!0),w.state.localVars=null}s(le,"pushblockcontext");function Ae(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}s(Ae,"popcontext"),Ae.lex=!0;function he(d,m){var V=s(function(){var ae=w.state,je=ae.indented;if(ae.lexical.type=="stat")je=ae.lexical.indented;else for(var ut=ae.lexical;ut&&ut.type==")"&&ut.align;ut=ut.prev)je=ut.indented;ae.lexical=new _e(je,w.stream.column(),d,null,ae.lexical,m)},"result");return V.lex=!0,V}s(he,"pushlex");function ge(){var d=w.state;d.lexical.prev&&(d.lexical.type==")"&&(d.indented=d.lexical.indented),d.lexical=d.lexical.prev)}s(ge,"poplex"),ge.lex=!0;function Ne(d){function m(V){return V==d?N():d==";"||V=="}"||V==")"||V=="]"?Se():N(m)}return s(m,"exp"),m}s(Ne,"expect");function rt(d,m){return d=="var"?N(he("vardef",m),mr,Ne(";"),ge):d=="keyword a"?N(he("form"),pt,rt,ge):d=="keyword b"?N(he("form"),rt,ge):d=="keyword d"?w.stream.match(/^\s*$/,!1)?N():N(he("stat"),dt,Ne(";"),ge):d=="debugger"?N(Ne(";")):d=="{"?N(he("}"),le,kt,ge,Ae):d==";"?N():d=="if"?(w.state.lexical.info=="else"&&w.state.cc[w.state.cc.length-1]==ge&&w.state.cc.pop()(),N(he("form"),pt,rt,ge,vr)):d=="function"?N(Un):d=="for"?N(he("form"),$r,rt,ge):d=="class"||B&&m=="interface"?(w.marked="keyword",N(he("form",d=="class"?d:m),dr,ge)):d=="variable"?B&&m=="declare"?(w.marked="keyword",N(rt)):B&&(m=="module"||m=="enum"||m=="type")&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword",m=="enum"?N(ft):m=="type"?N(kn,Ne("operator"),Le,Ne(";")):N(he("form"),wn,Ne("{"),he("}"),kt,ge,ge)):B&&m=="namespace"?(w.marked="keyword",N(he("form"),qe,rt,ge)):B&&m=="abstract"?(w.marked="keyword",N(rt)):N(he("stat"),it):d=="switch"?N(he("form"),pt,Ne("{"),he("}","switch"),le,kt,ge,ge,Ae):d=="case"?N(qe,Ne(":")):d=="default"?N(Ne(":")):d=="catch"?N(he("form"),Pe,an,rt,ge,Ae):d=="export"?N(he("stat"),Zn,ge):d=="import"?N(he("stat"),Cr,ge):d=="async"?N(rt):m=="@"?N(qe,rt):Se(he("stat"),qe,Ne(";"),ge)}s(rt,"statement");function an(d){if(d=="(")return N(Qn,Ne(")"))}s(an,"maybeCatchBinding");function qe(d,m){return tt(d,m,!1)}s(qe,"expression");function Ot(d,m){return tt(d,m,!0)}s(Ot,"expressionNoComma");function pt(d){return d!="("?Se():N(he(")"),dt,Ne(")"),ge)}s(pt,"parenExpr");function tt(d,m,V){if(w.state.fatArrowAt==w.stream.start){var ae=V?et:Je;if(d=="(")return N(Pe,he(")"),bt(Qn,")"),ge,Ne("=>"),ae,Ae);if(d=="variable")return Se(Pe,wn,Ne("=>"),ae,Ae)}var je=V?on:Mt;return xe.hasOwnProperty(d)?N(je):d=="function"?N(Un,je):d=="class"||B&&m=="interface"?(w.marked="keyword",N(he("form"),mi,ge)):d=="keyword c"||d=="async"?N(V?Ot:qe):d=="("?N(he(")"),dt,Ne(")"),ge,je):d=="operator"||d=="spread"?N(V?Ot:qe):d=="["?N(he("]"),Pn,ge,je):d=="{"?at(ct,"}",null,je):d=="quasi"?Se(Dn,je):d=="new"?N(Ye(V)):N()}s(tt,"expressionInner");function dt(d){return d.match(/[;\}\)\],]/)?Se():Se(qe)}s(dt,"maybeexpression");function Mt(d,m){return d==","?N(dt):on(d,m,!1)}s(Mt,"maybeoperatorComma");function on(d,m,V){var ae=V==!1?Mt:on,je=V==!1?qe:Ot;if(d=="=>")return N(Pe,V?et:Je,Ae);if(d=="operator")return/\+\+|--/.test(m)||B&&m=="!"?N(ae):B&&m=="<"&&w.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?N(he(">"),bt(Le,">"),ge,ae):m=="?"?N(qe,Ne(":"),je):N(je);if(d=="quasi")return Se(Dn,ae);if(d!=";"){if(d=="(")return at(Ot,")","call",ae);if(d==".")return N(mt,ae);if(d=="[")return N(he("]"),dt,Ne("]"),ge,ae);if(B&&m=="as")return w.marked="keyword",N(Le,ae);if(d=="regexp")return w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),N(je)}}s(on,"maybeoperatorNoComma");function Dn(d,m){return d!="quasi"?Se():m.slice(m.length-2)!="${"?N(Dn):N(qe,lt)}s(Dn,"quasi");function lt(d){if(d=="}")return w.marked="string-2",w.state.tokenize=O,N(Dn)}s(lt,"continueQuasi");function Je(d){return Z(w.stream,w.state),Se(d=="{"?rt:qe)}s(Je,"arrowBody");function et(d){return Z(w.stream,w.state),Se(d=="{"?rt:Ot)}s(et,"arrowBodyNoComma");function Ye(d){return function(m){return m=="."?N(d?Tt:ht):m=="variable"&&B?N(wr,d?on:Mt):Se(d?Ot:qe)}}s(Ye,"maybeTarget");function ht(d,m){if(m=="target")return w.marked="keyword",N(Mt)}s(ht,"target");function Tt(d,m){if(m=="target")return w.marked="keyword",N(on)}s(Tt,"targetNoComma");function it(d){return d==":"?N(ge,rt):Se(Mt,Ne(";"),ge)}s(it,"maybelabel");function mt(d){if(d=="variable")return w.marked="property",N()}s(mt,"property");function ct(d,m){if(d=="async")return w.marked="property",N(ct);if(d=="variable"||w.style=="keyword"){if(w.marked="property",m=="get"||m=="set")return N(jt);var V;return B&&w.state.fatArrowAt==w.stream.start&&(V=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+V[0].length),N(Xt)}else{if(d=="number"||d=="string")return w.marked=a?"property":w.style+" property",N(Xt);if(d=="jsonld-keyword")return N(Xt);if(B&&Ft(m))return w.marked="keyword",N(ct);if(d=="[")return N(qe,Te,Ne("]"),Xt);if(d=="spread")return N(Ot,Xt);if(m=="*")return w.marked="keyword",N(ct);if(d==":")return Se(Xt)}}s(ct,"objprop");function jt(d){return d!="variable"?Se(Xt):(w.marked="property",N(Un))}s(jt,"getterSetter");function Xt(d){if(d==":")return N(Ot);if(d=="(")return Se(Un)}s(Xt,"afterprop");function bt(d,m,V){function ae(je,ut){if(V?V.indexOf(je)>-1:je==","){var Ct=w.state.lexical;return Ct.info=="call"&&(Ct.pos=(Ct.pos||0)+1),N(function(Ie,mn){return Ie==m||mn==m?Se():Se(d)},ae)}return je==m||ut==m?N():V&&V.indexOf(";")>-1?Se(d):N(Ne(m))}return s(ae,"proceed"),function(je,ut){return je==m||ut==m?N():Se(d,ae)}}s(bt,"commasep");function at(d,m,V){for(var ae=3;ae<arguments.length;ae++)w.cc.push(arguments[ae]);return N(he(m,V),bt(d,m),ge)}s(at,"contCommasep");function kt(d){return d=="}"?N():Se(rt,kt)}s(kt,"block");function Te(d,m){if(B){if(d==":")return N(Le);if(m=="?")return N(Te)}}s(Te,"maybetype");function Wn(d,m){if(B&&(d==":"||m=="in"))return N(Le)}s(Wn,"maybetypeOrIn");function Wt(d){if(B&&d==":")return w.stream.match(/^\s*\w+\s+is\b/,!1)?N(qe,xt,Le):N(Le)}s(Wt,"mayberettype");function xt(d,m){if(m=="is")return w.marked="keyword",N()}s(xt,"isKW");function Le(d,m){if(m=="keyof"||m=="typeof"||m=="infer"||m=="readonly")return w.marked="keyword",N(m=="typeof"?Ot:Le);if(d=="variable"||m=="void")return w.marked="type",N(xn);if(m=="|"||m=="&")return N(Le);if(d=="string"||d=="number"||d=="atom")return N(xn);if(d=="[")return N(he("]"),bt(Le,"]",","),ge,xn);if(d=="{")return N(he("}"),Vt,ge,xn);if(d=="(")return N(bt(Qt,")"),hr,xn);if(d=="<")return N(bt(Le,">"),Le)}s(Le,"typeexpr");function hr(d){if(d=="=>")return N(Le)}s(hr,"maybeReturnType");function Vt(d){return d.match(/[\}\)\]]/)?N():d==","||d==";"?N(Vt):Se(tn,Vt)}s(Vt,"typeprops");function tn(d,m){if(d=="variable"||w.style=="keyword")return w.marked="property",N(tn);if(m=="?"||d=="number"||d=="string")return N(tn);if(d==":")return N(Le);if(d=="[")return N(Ne("variable"),Wn,Ne("]"),tn);if(d=="(")return Se(Gn,tn);if(!d.match(/[;\}\)\],]/))return N()}s(tn,"typeprop");function Qt(d,m){return d=="variable"&&w.stream.match(/^\s*[?:]/,!1)||m=="?"?N(Qt):d==":"?N(Le):d=="spread"?N(Qt):Se(Le)}s(Qt,"typearg");function xn(d,m){if(m=="<")return N(he(">"),bt(Le,">"),ge,xn);if(m=="|"||d=="."||m=="&")return N(Le);if(d=="[")return N(Le,Ne("]"),xn);if(m=="extends"||m=="implements")return w.marked="keyword",N(Le);if(m=="?")return N(Le,Ne(":"),Le)}s(xn,"afterType");function wr(d,m){if(m=="<")return N(he(">"),bt(Le,">"),ge,xn)}s(wr,"maybeTypeArgs");function zn(){return Se(Le,Ir)}s(zn,"typeparam");function Ir(d,m){if(m=="=")return N(Le)}s(Ir,"maybeTypeDefault");function mr(d,m){return m=="enum"?(w.marked="keyword",N(ft)):Se(wn,Te,Ln,hi)}s(mr,"vardef");function wn(d,m){if(B&&Ft(m))return w.marked="keyword",N(wn);if(d=="variable")return Xe(m),N();if(d=="spread")return N(wn);if(d=="[")return at(Kr,"]");if(d=="{")return at(kr,"}")}s(wn,"pattern");function kr(d,m){return d=="variable"&&!w.stream.match(/^\s*:/,!1)?(Xe(m),N(Ln)):(d=="variable"&&(w.marked="property"),d=="spread"?N(wn):d=="}"?Se():d=="["?N(qe,Ne("]"),Ne(":"),kr):N(Ne(":"),wn,Ln))}s(kr,"proppattern");function Kr(){return Se(wn,Ln)}s(Kr,"eltpattern");function Ln(d,m){if(m=="=")return N(Ot)}s(Ln,"maybeAssign");function hi(d){if(d==",")return N(mr)}s(hi,"vardefCont");function vr(d,m){if(d=="keyword b"&&m=="else")return N(he("form","else"),rt,ge)}s(vr,"maybeelse");function $r(d,m){if(m=="await")return N($r);if(d=="(")return N(he(")"),ur,ge)}s($r,"forspec");function ur(d){return d=="var"?N(mr,pn):d=="variable"?N(pn):Se(pn)}s(ur,"forspec1");function pn(d,m){return d==")"?N():d==";"?N(pn):m=="in"||m=="of"?(w.marked="keyword",N(qe,pn)):Se(qe,pn)}s(pn,"forspec2");function Un(d,m){if(m=="*")return w.marked="keyword",N(Un);if(d=="variable")return Xe(m),N(Un);if(d=="(")return N(Pe,he(")"),bt(Qn,")"),ge,Wt,rt,Ae);if(B&&m=="<")return N(he(">"),bt(zn,">"),ge,Un)}s(Un,"functiondef");function Gn(d,m){if(m=="*")return w.marked="keyword",N(Gn);if(d=="variable")return Xe(m),N(Gn);if(d=="(")return N(Pe,he(")"),bt(Qn,")"),ge,Wt,Ae);if(B&&m=="<")return N(he(">"),bt(zn,">"),ge,Gn)}s(Gn,"functiondecl");function kn(d,m){if(d=="keyword"||d=="variable")return w.marked="type",N(kn);if(m=="<")return N(he(">"),bt(zn,">"),ge)}s(kn,"typename");function Qn(d,m){return m=="@"&&N(qe,Qn),d=="spread"?N(Qn):B&&Ft(m)?(w.marked="keyword",N(Qn)):B&&d=="this"?N(Te,Ln):Se(wn,Te,Ln)}s(Qn,"funarg");function mi(d,m){return d=="variable"?dr(d,m):qn(d,m)}s(mi,"classExpression");function dr(d,m){if(d=="variable")return Xe(m),N(qn)}s(dr,"className");function qn(d,m){if(m=="<")return N(he(">"),bt(zn,">"),ge,qn);if(m=="extends"||m=="implements"||B&&d==",")return m=="implements"&&(w.marked="keyword"),N(B?Le:qe,qn);if(d=="{")return N(he("}"),cn,ge)}s(qn,"classNameAfter");function cn(d,m){if(d=="async"||d=="variable"&&(m=="static"||m=="get"||m=="set"||B&&Ft(m))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return w.marked="keyword",N(cn);if(d=="variable"||w.style=="keyword")return w.marked="property",N(hn,cn);if(d=="number"||d=="string")return N(hn,cn);if(d=="[")return N(qe,Te,Ne("]"),hn,cn);if(m=="*")return w.marked="keyword",N(cn);if(B&&d=="(")return Se(Gn,cn);if(d==";"||d==",")return N(cn);if(d=="}")return N();if(m=="@")return N(qe,cn)}s(cn,"classBody");function hn(d,m){if(m=="?")return N(hn);if(d==":")return N(Le,Ln);if(m=="=")return N(Ot);var V=w.state.lexical.prev,ae=V&&V.info=="interface";return Se(ae?Gn:Un)}s(hn,"classfield");function Zn(d,m){return m=="*"?(w.marked="keyword",N(rr,Ne(";"))):m=="default"?(w.marked="keyword",N(qe,Ne(";"))):d=="{"?N(bt(fr,"}"),rr,Ne(";")):Se(rt)}s(Zn,"afterExport");function fr(d,m){if(m=="as")return w.marked="keyword",N(Ne("variable"));if(d=="variable")return Se(Ot,fr)}s(fr,"exportField");function Cr(d){return d=="string"?N():d=="("?Se(qe):d=="."?Se(Mt):Se(Dt,Me,rr)}s(Cr,"afterImport");function Dt(d,m){return d=="{"?at(Dt,"}"):(d=="variable"&&Xe(m),m=="*"&&(w.marked="keyword"),N(er))}s(Dt,"importSpec");function Me(d){if(d==",")return N(Dt,Me)}s(Me,"maybeMoreImports");function er(d,m){if(m=="as")return w.marked="keyword",N(Dt)}s(er,"maybeAs");function rr(d,m){if(m=="from")return w.marked="keyword",N(qe)}s(rr,"maybeFrom");function Pn(d){return d=="]"?N():Se(bt(Ot,"]"))}s(Pn,"arrayLiteral");function ft(){return Se(he("form"),wn,Ne("{"),he("}"),bt(ir,"}"),ge,ge)}s(ft,"enumdef");function ir(){return Se(wn,Ln)}s(ir,"enummember");function Nr(d,m){return d.lastType=="operator"||d.lastType==","||st.test(m.charAt(0))||/[,.]/.test(m.charAt(0))}s(Nr,"isContinuedStatement");function gr(d,m,V){return m.tokenize==C&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(m.lastType)||m.lastType=="quasi"&&/\{\s*$/.test(d.string.slice(0,d.pos-(V||0)))}return s(gr,"expressionAllowed"),{startState:function(d){var m={tokenize:C,lastType:"sof",cc:[],lexical:new _e((d||0)-$,0,"block",!1),localVars:pe.localVars,context:pe.localVars&&new Ge(null,null,!1),indented:d||0};return pe.globalVars&&typeof pe.globalVars=="object"&&(m.globalVars=pe.globalVars),m},token:function(d,m){if(d.sol()&&(m.lexical.hasOwnProperty("align")||(m.lexical.align=!1),m.indented=d.indentation(),Z(d,m)),m.tokenize!=X&&d.eatSpace())return null;var V=m.tokenize(d,m);return E=="comment"?V:(m.lastType=E=="operator"&&(M=="++"||M=="--")?"incdec":E,Ee(m,V,E,M,d))},indent:function(d,m){if(d.tokenize==X||d.tokenize==O)return _.Pass;if(d.tokenize!=C)return 0;var V=m&&m.charAt(0),ae=d.lexical,je;if(!/^\s*else\b/.test(m))for(var ut=d.cc.length-1;ut>=0;--ut){var Ct=d.cc[ut];if(Ct==ge)ae=ae.prev;else if(Ct!=vr)break}for(;(ae.type=="stat"||ae.type=="form")&&(V=="}"||(je=d.cc[d.cc.length-1])&&(je==Mt||je==on)&&!/^[,\.=+\-*:?[\(]/.test(m));)ae=ae.prev;Y&&ae.type==")"&&ae.prev.type=="stat"&&(ae=ae.prev);var Ie=ae.type,mn=V==Ie;return Ie=="vardef"?ae.indented+(d.lastType=="operator"||d.lastType==","?ae.info.length+1:0):Ie=="form"&&V=="{"?ae.indented:Ie=="form"?ae.indented+$:Ie=="stat"?ae.indented+(Nr(d,m)?Y||$:0):ae.info=="switch"&&!mn&&pe.doubleIndentSwitch!=!1?ae.indented+(/^(?:case|default)\b/.test(m)?$:2*$):ae.align?ae.column+(mn?0:1):ae.indented+(mn?0:$)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:fe?null:"/*",blockCommentEnd:fe?null:"*/",blockCommentContinue:fe?null:" * ",lineComment:fe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:fe?"json":"javascript",jsonldMode:a,jsonMode:fe,expressionAllowed:gr,skipExpression:function(d){var m=d.cc[d.cc.length-1];(m==qe||m==Ot)&&d.cc.pop()}}}),_.registerHelper("wordChars","javascript",/[\w$]/),_.defineMIME("text/javascript","javascript"),_.defineMIME("text/ecmascript","javascript"),_.defineMIME("application/javascript","javascript"),_.defineMIME("application/x-javascript","javascript"),_.defineMIME("application/ecmascript","javascript"),_.defineMIME("application/json",{name:"javascript",json:!0}),_.defineMIME("application/x-json",{name:"javascript",json:!0}),_.defineMIME("application/manifest+json",{name:"javascript",json:!0}),_.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),_.defineMIME("text/typescript",{name:"javascript",typescript:!0}),_.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},520496:(Jt,nt,H)=>{(function(_){_(H(315237))})(function(_){"use strict";_.defineMode("yaml",function(){var $e=["true","false","on","off","yes","no"],pe=new RegExp("\\b(("+$e.join(")|(")+"))$","i");return{token:function($,Y){var a=$.peek(),fe=Y.escaped;if(Y.escaped=!1,a=="#"&&($.pos==0||/\s/.test($.string.charAt($.pos-1))))return $.skipToEnd(),"comment";if($.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(Y.literal&&$.indentation()>Y.keyCol)return $.skipToEnd(),"string";if(Y.literal&&(Y.literal=!1),$.sol()){if(Y.keyCol=0,Y.pair=!1,Y.pairStart=!1,$.match("---")||$.match("..."))return"def";if($.match(/\s*-\s+/))return"meta"}if($.match(/^(\{|\}|\[|\])/))return a=="{"?Y.inlinePairs++:a=="}"?Y.inlinePairs--:a=="["?Y.inlineList++:Y.inlineList--,"meta";if(Y.inlineList>0&&!fe&&a==",")return $.next(),"meta";if(Y.inlinePairs>0&&!fe&&a==",")return Y.keyCol=0,Y.pair=!1,Y.pairStart=!1,$.next(),"meta";if(Y.pairStart){if($.match(/^\s*(\||\>)\s*/))return Y.literal=!0,"meta";if($.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(Y.inlinePairs==0&&$.match(/^\s*-?[0-9\.\,]+\s?$/)||Y.inlinePairs>0&&$.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if($.match(pe))return"keyword"}return!Y.pair&&$.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(Y.pair=!0,Y.keyCol=$.indentation(),"atom"):Y.pair&&$.match(/^:\s*/)?(Y.pairStart=!0,"meta"):(Y.pairStart=!1,Y.escaped=a=="\\",$.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),_.defineMIME("text/x-yaml","yaml"),_.defineMIME("text/yaml","yaml")})},14465:(Jt,nt,H)=>{var _=H(209459),$e=H(934160),pe=$e;pe.jsonlint=_,Jt.exports=_},125504:(Jt,nt)=>{"use strict";var H,_={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},$e="a".charCodeAt();nt.q=function(M){var A={},C=0,W=0,X=0;return{data:O("",!0),pointers:A};function O(Pe,le){J();var Ae;Xe(Pe,"value");var he=w();switch(he){case"t":Ee("rue"),Ae=!0;break;case"f":Ee("alse"),Ae=!1;break;case"n":Ee("ull"),Ae=null;break;case'"':Ae=Z();break;case"[":Ae=_e(Pe);break;case"{":Ae=ke(Pe);break;default:Se(),"-0123456789".indexOf(he)>=0?Ae=xe():Ge()}return Xe(Pe,"valueEnd"),J(),le&&X<M.length&&Ge(),Ae}function J(){e:for(;X<M.length;){switch(M[X]){case" ":W++;break;case"	":W+=4;break;case"\r":W=0;break;case`
`:W=0,C++;break;default:break e}X++}}function Z(){for(var Pe="",le;le=w(),le!='"';)le=="\\"?(le=w(),le in _?Pe+=_[le]:le=="u"?Pe+=N():Ze()):Pe+=le;return Pe}function xe(){var Pe="";return M[X]=="-"&&(Pe+=w()),Pe+=M[X]=="0"?w():He(),M[X]=="."&&(Pe+=w()+He()),(M[X]=="e"||M[X]=="E")&&(Pe+=w(),(M[X]=="+"||M[X]=="-")&&(Pe+=w()),Pe+=He()),+Pe}function _e(Pe){J();var le=[],Ae=0;if(w()=="]")return le;for(Se();;){var he=Pe+"/"+Ae;le.push(O(he)),J();var ge=w();if(ge=="]")break;ge!=","&&Ze(),J(),Ae++}return le}function ke(Pe){J();var le={};if(w()=="}")return le;for(Se();;){var Ae=Ft();w()!='"'&&Ze();var he=Z(),ge=Pe+"/"+E(he);yt(ge,"key",Ae),Xe(ge,"keyEnd"),J(),w()!=":"&&Ze(),J(),le[he]=O(ge),J();var Ne=w();if(Ne=="}")break;Ne!=","&&Ze(),J()}return le}function Ee(Pe){for(var le=0;le<Pe.length;le++)w()!==Pe[le]&&Ze()}function w(){Bt();var Pe=M[X];return X++,W++,Pe}function Se(){X--,W--}function N(){for(var Pe=4,le=0;Pe--;){le<<=4;var Ae=w().toLowerCase();Ae>="a"&&Ae<="f"?le+=Ae.charCodeAt()-$e+10:Ae>="0"&&Ae<="9"?le+=+Ae:Ze()}return String.fromCharCode(le)}function He(){for(var Pe="";M[X]>="0"&&M[X]<="9";)Pe+=w();if(Pe.length)return Pe;Bt(),Ge()}function Xe(Pe,le){yt(Pe,le,Ft())}function yt(Pe,le,Ae){A[Pe]=A[Pe]||{},A[Pe][le]=Ae}function Ft(){return{line:C,column:W,pos:X}}function Ge(){throw new SyntaxError("Unexpected token "+M[X]+" in JSON at position "+X)}function Ze(){Se(),Ge()}function Bt(){if(X>=M.length)throw new SyntaxError("Unexpected end of JSON input")}},H=s(function(M,A,C){if(!$(M))return;var W=0,X,O;switch(typeof C){case"number":var J=C>10?10:C<0?0:Math.floor(C);C=J&&Ft(J," "),X=J,O=J;break;case"string":C=C.slice(0,10),X=0,O=0;for(var Z=0;Z<C.length;Z++){var xe=C[Z];switch(xe){case" ":O++;break;case"	":O+=4;break;case"\r":O=0;break;case`
`:O=0,W++;break;default:throw new Error("whitespace characters not allowed in JSON")}X++}break;default:C=void 0}var _e="",ke={},Ee=0,w=0,Se=0;return N(M,0,""),{json:_e,pointers:ke};function N(Ge,Ze,Bt){switch(yt(Bt,"value"),typeof Ge){case"number":case"boolean":He(""+Ge);break;case"string":He(st(Ge));break;case"object":Ge===null?He("null"):typeof Ge.toJSON=="function"?He(st(Ge.toJSON())):Array.isArray(Ge)?Pe():le()}yt(Bt,"valueEnd");function Pe(){if(Ge.length){He("[");for(var Ae=Ze+1,he=0;he<Ge.length;he++){he&&He(","),Xe(Ae);var ge=$(Ge[he])?Ge[he]:null,Ne=Bt+"/"+he;N(ge,Ae,Ne)}Xe(Ze),He("]")}else He("[]")}s(Pe,"stringifyArray");function le(){var Ae=Object.keys(Ge);if(Ae.length){He("{");for(var he=Ze+1,ge=0;ge<Ae.length;ge++){var Ne=Ae[ge],rt=Ge[Ne];if($(rt)){ge&&He(",");var an=Bt+"/"+E(Ne);Xe(he),yt(an,"key"),He(st(Ne)),yt(an,"keyEnd"),He(":"),C&&He(" "),N(rt,he,an)}}Xe(Ze),He("}")}else He("{}")}s(le,"stringifyObject")}s(N,"_stringify");function He(Ge){w+=Ge.length,Se+=Ge.length,_e+=Ge}s(He,"out");function Xe(Ge){if(C){for(_e+=`
`+Ft(Ge,C),Ee++,w=0;Ge--;)W?(Ee+=W,w=O):w+=O,Se+=X;Se+=1}}s(Xe,"indent");function yt(Ge,Ze){ke[Ge]=ke[Ge]||{},ke[Ge][Ze]={line:Ee,column:w,pos:Se}}s(yt,"map");function Ft(Ge,Ze){return Array(Ge+1).join(Ze)}s(Ft,"repeat")},"__webpack_unused_export__");var pe=["number","boolean","string","object"];function $(M){return pe.indexOf(typeof M)>=0}s($,"validType");var Y=/"|\\/g,a=/[\b]/g,fe=/\f/g,B=/\n/g,we=/\r/g,ve=/\t/g;function st(M){return M=M.replace(Y,"\\$&").replace(fe,"\\f").replace(a,"\\b").replace(B,"\\n").replace(we,"\\r").replace(ve,"\\t"),'"'+M+'"'}s(st,"quoted");var Re=/~/g,te=/\//g;function E(M){return M.replace(Re,"~0").replace(te,"~1")}s(E,"escapeJsonPointer")},209459:Jt=>{var nt=function(){var H={trace:s(function(){},"trace"),yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:s(function(pe,$,Y,a,fe,B,we){var ve=B.length-1;switch(fe){case 1:this.$=pe.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(pe);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=B[ve-1];case 13:this.$={};break;case 14:this.$=B[ve-1];break;case 15:this.$=[B[ve-2],B[ve]];break;case 16:this.$={},this.$[B[ve][0]]=B[ve][1];break;case 17:this.$=B[ve-2],B[ve-2][B[ve][0]]=B[ve][1];break;case 18:this.$=[];break;case 19:this.$=B[ve-1];break;case 20:this.$=[B[ve]];break;case 21:this.$=B[ve-2],B[ve-2].push(B[ve]);break}},"anonymous"),table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:s(function(pe,$){throw new Error(pe)},"parseError"),parse:s(function(pe){var $=this,Y=[0],a=[null],fe=[],B=this.table,we="",ve=0,st=0,Re=0,te=2,E=1;this.lexer.setInput(pe),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var M=this.lexer.yylloc;fe.push(M),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function A(He){Y.length=Y.length-2*He,a.length=a.length-He,fe.length=fe.length-He}s(A,"popStack");function C(){var He;return He=$.lexer.lex()||1,typeof He!="number"&&(He=$.symbols_[He]||He),He}s(C,"lex");for(var W,X,O,J,Z,xe,_e={},ke,Ee,w,Se;;){O=Y[Y.length-1],this.defaultActions[O]?J=this.defaultActions[O]:(W==null&&(W=C()),J=B[O]&&B[O][W]);e:if(typeof J>"u"||!J.length||!J[0]){if(!Re){Se=[];for(ke in B[O])this.terminals_[ke]&&ke>2&&Se.push("'"+this.terminals_[ke]+"'");var N="";this.lexer.showPosition?N="Parse error on line "+(ve+1)+`:
`+this.lexer.showPosition()+`
Expecting `+Se.join(", ")+", got '"+this.terminals_[W]+"'":N="Parse error on line "+(ve+1)+": Unexpected "+(W==1?"end of input":"'"+(this.terminals_[W]||W)+"'"),this.parseError(N,{text:this.lexer.match,token:this.terminals_[W]||W,line:this.lexer.yylineno,loc:M,expected:Se})}if(Re==3){if(W==E)throw new Error(N||"Parsing halted.");st=this.lexer.yyleng,we=this.lexer.yytext,ve=this.lexer.yylineno,M=this.lexer.yylloc,W=C()}for(;!(te.toString()in B[O]);){if(O==0)throw new Error(N||"Parsing halted.");A(1),O=Y[Y.length-1]}X=W,W=te,O=Y[Y.length-1],J=B[O]&&B[O][te],Re=3}if(J[0]instanceof Array&&J.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+W);switch(J[0]){case 1:Y.push(W),a.push(this.lexer.yytext),fe.push(this.lexer.yylloc),Y.push(J[1]),W=null,X?(W=X,X=null):(st=this.lexer.yyleng,we=this.lexer.yytext,ve=this.lexer.yylineno,M=this.lexer.yylloc,Re>0&&Re--);break;case 2:if(Ee=this.productions_[J[1]][1],_e.$=a[a.length-Ee],_e._$={first_line:fe[fe.length-(Ee||1)].first_line,last_line:fe[fe.length-1].last_line,first_column:fe[fe.length-(Ee||1)].first_column,last_column:fe[fe.length-1].last_column},xe=this.performAction.call(_e,we,st,ve,this.yy,J[1],a,fe),typeof xe<"u")return xe;Ee&&(Y=Y.slice(0,-1*Ee*2),a=a.slice(0,-1*Ee),fe=fe.slice(0,-1*Ee)),Y.push(this.productions_[J[1]][0]),a.push(_e.$),fe.push(_e._$),w=B[Y[Y.length-2]][Y[Y.length-1]],Y.push(w);break;case 3:return!0}}return!0},"parse")},_=function(){var $e={EOF:1,parseError:s(function($,Y){if(this.yy.parseError)this.yy.parseError($,Y);else throw new Error($)},"parseError"),setInput:function(pe){return this._input=pe,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var pe=this._input[0];this.yytext+=pe,this.yyleng++,this.match+=pe,this.matched+=pe;var $=pe.match(/\n/);return $&&this.yylineno++,this._input=this._input.slice(1),pe},unput:function(pe){return this._input=pe+this._input,this},more:function(){return this._more=!0,this},less:function(pe){this._input=this.match.slice(pe)+this._input},pastInput:function(){var pe=this.matched.substr(0,this.matched.length-this.match.length);return(pe.length>20?"...":"")+pe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var pe=this.match;return pe.length<20&&(pe+=this._input.substr(0,20-pe.length)),(pe.substr(0,20)+(pe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pe=this.pastInput(),$=new Array(pe.length+1).join("-");return pe+this.upcomingInput()+`
`+$+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var pe,$,Y,a,fe,B;this._more||(this.yytext="",this.match="");for(var we=this._currentRules(),ve=0;ve<we.length&&(Y=this._input.match(this.rules[we[ve]]),!(Y&&(!$||Y[0].length>$[0].length)&&($=Y,a=ve,!this.options.flex)));ve++);if($)return B=$[0].match(/\n.*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-1:this.yylloc.last_column+$[0].length},this.yytext+=$[0],this.match+=$[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice($[0].length),this.matched+=$[0],pe=this.performAction.call(this,this.yy,this,we[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pe||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:s(function(){var $=this.next();return typeof $<"u"?$:this.lex()},"lex"),begin:s(function($){this.conditionStack.push($)},"begin"),popState:s(function(){return this.conditionStack.pop()},"popState"),_currentRules:s(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:s(function($){this.begin($)},"begin")};return $e.options={},$e.performAction=s(function($,Y,a,fe){var B=fe;switch(a){case 0:break;case 1:return 6;case 2:return Y.yytext=Y.yytext.substr(1,Y.yyleng-2),4;break;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},"anonymous"),$e.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],$e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},$e}();return H.lexer=_,H}();Jt.exports=nt},682349:(Jt,nt,H)=>{"use strict";var _;function $e(){return $e=Object.assign?Object.assign.bind():function(Re){for(var te=1;te<arguments.length;te++){var E=arguments[te];for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(Re[M]=E[M])}return Re},$e.apply(this,arguments)}s($e,"_extends");function pe(Re){return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},pe(Re)}s(pe,"_typeof");var $=function(){var Re=s(function(E,M){return Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&(A[W]=C[W])},Re(E,M)},"extendStatics");return function(te,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");Re(te,E);function M(){this.constructor=te}s(M,"__"),te.prototype=E===null?Object.create(E):(M.prototype=E.prototype,new M)}}();_={value:!0},nt.wN=nt.xL=void 0;var Y=H(296540),a=typeof navigator>"u"||typeof H.g<"u"&&H.g.PREVENT_CODEMIRROR_RENDER===!0,fe;a||(fe=H(315237));var B=function(){function Re(){}return s(Re,"Helper"),Re.equals=function(te,E){var M=this,A=Object.keys,C=pe(te),W=pe(E);return te&&E&&C==="object"&&C===W?A(te).length===A(E).length&&A(te).every(function(X){return M.equals(te[X],E[X])}):te===E},Re}(),we=function(){function Re(te,E){this.editor=te,this.props=E}return s(Re,"Shared"),Re.prototype.delegateCursor=function(te,E,M){var A=this.editor.getDoc();M&&this.editor.focus(),E?A.setCursor(te):A.setCursor(te,null,{scroll:!1})},Re.prototype.delegateScroll=function(te){this.editor.scrollTo(te.x,te.y)},Re.prototype.delegateSelection=function(te,E){var M=this.editor.getDoc();M.setSelections(te),E&&this.editor.focus()},Re.prototype.apply=function(te){te&&te.selection&&te.selection.ranges&&this.delegateSelection(te.selection.ranges,te.selection.focus||!1),te&&te.cursor&&this.delegateCursor(te.cursor,te.autoScroll||!1,this.editor.getOption("autofocus")||!1),te&&te.scroll&&this.delegateScroll(te.scroll)},Re.prototype.applyNext=function(te,E,M){te&&te.selection&&te.selection.ranges&&E&&E.selection&&E.selection.ranges&&!B.equals(te.selection.ranges,E.selection.ranges)&&this.delegateSelection(E.selection.ranges,E.selection.focus||!1),te&&te.cursor&&E&&E.cursor&&!B.equals(te.cursor,E.cursor)&&this.delegateCursor(M.cursor||E.cursor,E.autoScroll||!1,E.autoCursor||!1),te&&te.scroll&&E&&E.scroll&&!B.equals(te.scroll,E.scroll)&&this.delegateScroll(E.scroll)},Re.prototype.applyUserDefined=function(te,E){E&&E.cursor&&this.delegateCursor(E.cursor,te.autoScroll||!1,this.editor.getOption("autofocus")||!1)},Re.prototype.wire=function(te){var E=this;Object.keys(te||{}).filter(function(M){return/^on/.test(M)}).forEach(function(M){switch(M){case"onBlur":E.editor.on("blur",function(A,C){E.props.onBlur(E.editor,C)});break;case"onContextMenu":{E.editor.on("contextmenu",function(A,C){E.props.onContextMenu(E.editor,C)});break}case"onCopy":{E.editor.on("copy",function(A,C){E.props.onCopy(E.editor,C)});break}case"onCursor":E.editor.on("cursorActivity",function(A){E.props.onCursor(E.editor,E.editor.getDoc().getCursor())});break;case"onCursorActivity":E.editor.on("cursorActivity",function(A){E.props.onCursorActivity(E.editor)});break;case"onCut":{E.editor.on("cut",function(A,C){E.props.onCut(E.editor,C)});break}case"onDblClick":{E.editor.on("dblclick",function(A,C){E.props.onDblClick(E.editor,C)});break}case"onDragEnter":E.editor.on("dragenter",function(A,C){E.props.onDragEnter(E.editor,C)});break;case"onDragLeave":{E.editor.on("dragleave",function(A,C){E.props.onDragLeave(E.editor,C)});break}case"onDragOver":E.editor.on("dragover",function(A,C){E.props.onDragOver(E.editor,C)});break;case"onDragStart":{E.editor.on("dragstart",function(A,C){E.props.onDragStart(E.editor,C)});break}case"onDrop":E.editor.on("drop",function(A,C){E.props.onDrop(E.editor,C)});break;case"onFocus":E.editor.on("focus",function(A,C){E.props.onFocus(E.editor,C)});break;case"onGutterClick":E.editor.on("gutterClick",function(A,C,W,X){E.props.onGutterClick(E.editor,C,W,X)});break;case"onInputRead":E.editor.on("inputRead",function(A,C){E.props.onInputRead(E.editor,C)});break;case"onKeyDown":E.editor.on("keydown",function(A,C){E.props.onKeyDown(E.editor,C)});break;case"onKeyHandled":E.editor.on("keyHandled",function(A,C,W){E.props.onKeyHandled(E.editor,C,W)});break;case"onKeyPress":E.editor.on("keypress",function(A,C){E.props.onKeyPress(E.editor,C)});break;case"onKeyUp":E.editor.on("keyup",function(A,C){E.props.onKeyUp(E.editor,C)});break;case"onMouseDown":{E.editor.on("mousedown",function(A,C){E.props.onMouseDown(E.editor,C)});break}case"onPaste":{E.editor.on("paste",function(A,C){E.props.onPaste(E.editor,C)});break}case"onRenderLine":{E.editor.on("renderLine",function(A,C,W){E.props.onRenderLine(E.editor,C,W)});break}case"onScroll":E.editor.on("scroll",function(A){E.props.onScroll(E.editor,E.editor.getScrollInfo())});break;case"onSelection":E.editor.on("beforeSelectionChange",function(A,C){E.props.onSelection(E.editor,C)});break;case"onTouchStart":{E.editor.on("touchstart",function(A,C){E.props.onTouchStart(E.editor,C)});break}case"onUpdate":E.editor.on("update",function(A){E.props.onUpdate(E.editor)});break;case"onViewportChange":E.editor.on("viewportChange",function(A,C,W){E.props.onViewportChange(E.editor,C,W)});break}})},Re}(),ve=function(Re){$(te,Re);function te(E){var M=Re.call(this,E)||this;return a||(M.applied=!1,M.appliedNext=!1,M.appliedUserDefined=!1,M.deferred=null,M.emulating=!1,M.hydrated=!1,M.initCb=function(){M.props.editorDidConfigure&&M.props.editorDidConfigure(M.editor)},M.mounted=!1),M}return s(te,"Controlled"),te.prototype.hydrate=function(E){var M=this,A=E&&E.options?E.options:{},C=$e({},fe.defaults,this.editor.options,A),W=Object.keys(C).some(function(X){return M.editor.getOption(X)!==C[X]});W&&Object.keys(C).forEach(function(X){A.hasOwnProperty(X)&&M.editor.getOption(X)!==C[X]&&(M.editor.setOption(X,C[X]),M.mirror.setOption(X,C[X]))}),this.hydrated||(this.deferred?this.resolveChange(E.value):this.initChange(E.value||"")),this.hydrated=!0},te.prototype.initChange=function(E){this.emulating=!0;var M=this.editor.getDoc(),A=M.lastLine(),C=M.getLine(M.lastLine()).length;M.replaceRange(E||"",{line:0,ch:0},{line:A,ch:C}),this.mirror.setValue(E),M.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},te.prototype.resolveChange=function(E){this.emulating=!0;var M=this.editor.getDoc();if(this.deferred.origin==="undo"?M.undo():this.deferred.origin==="redo"?M.redo():M.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),E&&E!==M.getValue()){var A=M.getCursor();M.setValue(E),M.setCursor(A)}this.emulating=!1,this.deferred=null},te.prototype.mirrorChange=function(E){var M=this.editor.getDoc();return E.origin==="undo"?(M.setHistory(this.mirror.getHistory()),this.mirror.undo()):E.origin==="redo"?(M.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(E.text,E.from,E.to,E.origin),this.mirror.getValue()},te.prototype.componentDidMount=function(){var E=this;a||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&fe.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=fe(this.ref,this.props.options),this.shared=new we(this.editor,this.props),this.mirror=fe(function(){},this.props.options),this.editor.on("electricInput",function(){E.mirror.setHistory(E.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){E.mirror.setCursor(E.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(M,A){if(!E.emulating){A.cancel(),E.deferred=A;var C=E.mirrorChange(E.deferred);E.props.onBeforeChange&&E.props.onBeforeChange(E.editor,E.deferred,C)}}),this.editor.on("change",function(M,A){E.mounted&&E.props.onChange&&E.props.onChange(E.editor,A,E.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},te.prototype.componentDidUpdate=function(E){if(!a){var M={cursor:null};this.props.value!==E.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(M.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(E,this.props,M),this.appliedNext=!0),this.shared.applyUserDefined(E,M),this.appliedUserDefined=!0}},te.prototype.componentWillUnmount=function(){a||this.props.editorWillUnmount&&this.props.editorWillUnmount(fe)},te.prototype.shouldComponentUpdate=function(E,M){return!a},te.prototype.render=function(){var E=this;if(a)return null;var M=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return Y.createElement("div",{className:M,ref:s(function(C){return E.ref=C},"ref")})},te}(Y.Component);nt.xL=ve;var st=function(Re){$(te,Re);function te(E){var M=Re.call(this,E)||this;return a||(M.applied=!1,M.appliedUserDefined=!1,M.continueChange=!1,M.detached=!1,M.hydrated=!1,M.initCb=function(){M.props.editorDidConfigure&&M.props.editorDidConfigure(M.editor)},M.mounted=!1,M.onBeforeChangeCb=function(){M.continueChange=!0}),M}return s(te,"UnControlled"),te.prototype.hydrate=function(E){var M=this,A=E&&E.options?E.options:{},C=$e({},fe.defaults,this.editor.options,A),W=Object.keys(C).some(function(Z){return M.editor.getOption(Z)!==C[Z]});if(W&&Object.keys(C).forEach(function(Z){A.hasOwnProperty(Z)&&M.editor.getOption(Z)!==C[Z]&&M.editor.setOption(Z,C[Z])}),!this.hydrated){var X=this.editor.getDoc(),O=X.lastLine(),J=X.getLine(X.lastLine()).length;X.replaceRange(E.value||"",{line:0,ch:0},{line:O,ch:J})}this.hydrated=!0},te.prototype.componentDidMount=function(){var E=this;a||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&fe.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=fe(this.ref,this.props.options),this.shared=new we(this.editor,this.props),this.editor.on("beforeChange",function(M,A){E.props.onBeforeChange&&E.props.onBeforeChange(E.editor,A,E.editor.getValue(),E.onBeforeChangeCb)}),this.editor.on("change",function(M,A){!E.mounted||!E.props.onChange||(E.props.onBeforeChange?E.continueChange&&E.props.onChange(E.editor,A,E.editor.getValue()):E.props.onChange(E.editor,A,E.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},te.prototype.componentDidUpdate=function(E){if(this.detached&&this.props.detach===!1&&(this.detached=!1,E.editorDidAttach&&E.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,E.editorDidDetach&&E.editorDidDetach(this.editor)),!(a||this.detached)){var M={cursor:null};this.props.value!==E.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!E.autoCursor&&E.autoCursor!==void 0&&(M.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(E),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(E,M),this.appliedUserDefined=!0)}},te.prototype.componentWillUnmount=function(){a||this.props.editorWillUnmount&&this.props.editorWillUnmount(fe)},te.prototype.shouldComponentUpdate=function(E,M){var A=!0;return a&&(A=!1),this.detached&&E.detach&&(A=!1),A},te.prototype.render=function(){var E=this;if(a)return null;var M=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return Y.createElement("div",{className:M,ref:s(function(C){return E.ref=C},"ref")})},te}(Y.Component);nt.wN=st}},Jt=>{var nt=s(_=>Jt(Jt.s=_),"__webpack_exec__");Jt.O(0,["modern.vendor"],()=>nt(847021));var H=Jt.O()}]);})();
